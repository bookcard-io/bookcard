{
  "openapi": "3.1.0",
  "info": {
    "title": "Bookcard",
    "summary": "Self-hosted ebook management and reading API",
    "version": "0.2.0"
  },
  "paths": {
    "/auth/config": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Auth Config",
        "description": "Return authentication configuration for clients.",
        "operationId": "auth_config_auth_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/oidc/login": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Oidc Login",
        "description": "Redirect the user to an OIDC provider for login.",
        "operationId": "oidc_login_auth_oidc_login_get",
        "parameters": [
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Redirect Uri"
            }
          },
          {
            "name": "next",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Next"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/oidc/callback": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Oidc Callback Get",
        "description": "Handle OIDC callback (GET) and return a local session token.",
        "operationId": "oidc_callback_get_auth_oidc_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Oidc Callback Post",
        "description": "Handle OIDC callback (POST) and return a local session token.",
        "operationId": "oidc_callback_post_auth_oidc_callback_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OIDCCallbackRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Register",
        "description": "Register a new user and return an access token.",
        "operationId": "register_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "description": "Login by username or email and return an access token with user data.",
        "operationId": "login_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Me",
        "description": "Return the current authenticated user.",
        "operationId": "me_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          }
        }
      }
    },
    "/auth/password": {
      "put": {
        "tags": [
          "auth"
        ],
        "summary": "Change Password",
        "description": "Change the current user's password.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Authenticated user dependency.\npayload : PasswordChangeRequest\n    Request containing current and new passwords.",
        "operationId": "change_password_auth_password_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordChangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Logout",
        "description": "Logout the current user and blacklist their token.\n\nExtracts the JWT token from the Authorization header, decodes it to get\nthe JWT ID (jti), and adds it to the token blacklist to prevent further use.\n\nThis endpoint is idempotent - it will return 204 even if the token is\nmissing or invalid, as the user is effectively already logged out.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object containing Authorization header.\nsession : SessionDep\n    Database session dependency.",
        "operationId": "logout_auth_logout_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/auth/profile": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Profile",
        "description": "Return the current user's profile with profile picture.\n\nParameters\n----------\ncurrent_user : CurrentUserDep\n    Authenticated user dependency.\n\nReturns\n-------\nProfileRead\n    User profile including profile picture path.",
        "operationId": "get_profile_auth_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileRead"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "auth"
        ],
        "summary": "Update Profile",
        "description": "Update the current user's profile information.\n\nAllows updating username, email, and full_name. Only provided fields\nwill be updated. Password changes should use PUT /auth/password.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\npayload : ProfileUpdate\n    Request containing fields to update.\n\nReturns\n-------\nProfileRead\n    Updated user profile.\n\nRaises\n------\nHTTPException\n    If user is not found (404), username already exists (409), or\n    email already exists (409).",
        "operationId": "update_profile_auth_profile_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/profile-picture": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Profile Picture",
        "description": "Get the current user's profile picture.\n\nServes the profile picture file if it exists.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Authenticated user dependency.\n\nReturns\n-------\nFileResponse | Response\n    Profile picture file or 404 if not found.",
        "operationId": "get_profile_picture_auth_profile_picture_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Upload Profile Picture",
        "description": "Upload the current user's profile picture.\n\nAccepts an image file and saves it to {data_directory}/{user_id}/assets/.\nReplaces any existing profile picture.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\nfile : UploadFile\n    Image file to upload (JPEG, PNG, GIF, WebP, or SVG).\n\nReturns\n-------\nProfileRead\n    Updated user profile.\n\nRaises\n------\nHTTPException\n    If user is not found (404), invalid file type (400), or file save fails (500).",
        "operationId": "upload_profile_picture_auth_profile_picture_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_profile_picture_auth_profile_picture_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "auth"
        ],
        "summary": "Delete Profile Picture",
        "description": "Delete the current user's profile picture.\n\nRemoves both the file from disk and clears the database field.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Authenticated user dependency.\n\nReturns\n-------\nProfileRead\n    Updated user profile with profile picture set to None.\n\nRaises\n------\nHTTPException\n    If user is not found (404).",
        "operationId": "delete_profile_picture_auth_profile_picture_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileRead"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "auth"
        ],
        "summary": "Update Profile Picture",
        "description": "Update the current user's profile picture path.\n\nUpdates the profile picture path in the database without uploading a new file.\nUse POST /auth/profile-picture to upload a new file.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\npayload : ProfilePictureUpdateRequest\n    Request containing the profile picture path.\n\nReturns\n-------\nProfileRead\n    Updated user profile.\n\nRaises\n------\nHTTPException\n    If user is not found (404).",
        "operationId": "update_profile_picture_auth_profile_picture_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfilePictureUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/invite/{token}": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Validate Invite Token",
        "description": "Validate an invite token.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ntoken : str\n    Invite token to validate.\n\nReturns\n-------\nInviteValidationResponse\n    Response indicating if the token is valid.\n\nRaises\n------\nHTTPException\n    If token is invalid (404), expired (400), or already used (400).",
        "operationId": "validate_invite_token_auth_invite__token__get",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InviteValidationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/settings": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Settings",
        "description": "Get all settings for the current user.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nSettingsRead\n    Dictionary of user settings keyed by setting key.",
        "operationId": "get_settings_auth_settings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettingsRead"
                }
              }
            }
          }
        }
      }
    },
    "/auth/settings/{key}": {
      "put": {
        "tags": [
          "auth"
        ],
        "summary": "Upsert Setting",
        "description": "Create or update a user setting.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\nkey : str\n    Setting key.\npayload : SettingUpdate\n    Request containing setting value and optional description.\n\nReturns\n-------\nSettingRead\n    Created or updated user setting.\n\nRaises\n------\nHTTPException\n    If user is not found (404) or key/value exceeds length limits (400).",
        "operationId": "upsert_setting_auth_settings__key__put",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SettingUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettingRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/email-server-config": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Email Server Config",
        "description": "Get the global email server configuration (admin only).\n\nReturns default values if configuration has not been created yet.",
        "operationId": "get_email_server_config_auth_email_server_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailServerConfigRead"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "auth"
        ],
        "summary": "Upsert Email Server Config",
        "description": "Create or update the global email server configuration (admin only).\n\nParameters\n----------\npayload : EmailServerConfigUpdate\n    Configuration payload. SMTP password can be set but will not\n    be returned in the response.",
        "operationId": "upsert_email_server_config_auth_email_server_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailServerConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailServerConfigRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Create User",
        "description": "Create a new user with optional role and device assignment.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\npayload : AdminUserCreate\n    User creation payload with optional role and device.\n\nReturns\n-------\nUserRead\n    Created user.\n\nRaises\n------\nHTTPException\n    If username or email already exists (409).",
        "operationId": "create_user_admin_users_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminUserCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Users",
        "description": "List users with pagination.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nlimit : int\n    Maximum number of users to return (default: 100).\noffset : int\n    Number of users to skip (default: 0).\n\nReturns\n-------\nlist[UserRead]\n    List of users.",
        "operationId": "list_users_admin_users_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserRead"
                  },
                  "title": "Response List Users Admin Users Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get User",
        "description": "Get a user by ID.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\n\nReturns\n-------\nUserRead\n    User data.\n\nRaises\n------\nHTTPException\n    If user not found (404).",
        "operationId": "get_user_admin_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update User",
        "description": "Update user properties.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\npayload : AdminUserUpdate\n    Update payload.\n\nReturns\n-------\nUserRead\n    Updated user.\n\nRaises\n------\nHTTPException\n    If user not found (404) or username/email conflict (409).",
        "operationId": "update_user_admin_users__user_id__put",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminUserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete User",
        "description": "Delete a user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\n\nRaises\n------\nHTTPException\n    If user not found (404) or admin tries to delete themselves (403).",
        "operationId": "delete_user_admin_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}/profile-picture": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get User Profile Picture",
        "description": "Get a user's profile picture by user ID.\n\nServes the profile picture file if it exists.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\n\nReturns\n-------\nFileResponse | Response\n    Profile picture file or 404 if not found.\n\nRaises\n------\nHTTPException\n    If user not found (404).",
        "operationId": "get_user_profile_picture_admin_users__user_id__profile_picture_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}/roles": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Assign Role To User",
        "description": "Assign a role to a user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\npayload : UserRoleAssign\n    Role assignment payload.\n\nReturns\n-------\nUserRead\n    Updated user.\n\nRaises\n------\nHTTPException\n    If user not found (404) or role already assigned (409).",
        "operationId": "assign_role_to_user_admin_users__user_id__roles_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRoleAssign"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}/roles/{role_id}": {
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Remove Role From User",
        "description": "Remove a role from a user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\nrole_id : int\n    Role identifier.\n\nReturns\n-------\nUserRead\n    Updated user.\n\nRaises\n------\nHTTPException\n    If user or role association not found (404).",
        "operationId": "remove_role_from_user_admin_users__user_id__roles__role_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          },
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/roles": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Roles",
        "description": "List all roles.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\n\nReturns\n-------\nlist[RoleRead]\n    List of roles with permissions.",
        "operationId": "list_roles_admin_roles_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/RoleRead"
                  },
                  "type": "array",
                  "title": "Response List Roles Admin Roles Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Create Role",
        "description": "Create a new role.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\npayload : RoleCreate\n    Role creation payload.\n\nReturns\n-------\nRoleRead\n    Created role.\n\nRaises\n------\nHTTPException\n    If role name already exists (409).",
        "operationId": "create_role_admin_roles_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/roles/{role_id}": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update Role",
        "description": "Update a role.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nrole_id : int\n    Role identifier.\npayload : RoleUpdate\n    Role update payload.\n\nReturns\n-------\nRoleRead\n    Updated role.\n\nRaises\n------\nHTTPException\n    If role not found (404) or role name already exists (409).",
        "operationId": "update_role_admin_roles__role_id__put",
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete Role",
        "description": "Delete a role.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nrole_id : int\n    Role identifier.\n\nRaises\n------\nHTTPException\n    If role not found (404), if role is locked (403), or if role is assigned to users (409).",
        "operationId": "delete_role_admin_roles__role_id__delete",
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/roles/{role_id}/permissions": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Grant Permission To Role",
        "description": "Grant a permission to a role.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nrole_id : int\n    Role identifier.\npayload : RolePermissionGrant\n    Permission grant payload.\n\nReturns\n-------\nRoleRead\n    Updated role.\n\nRaises\n------\nHTTPException\n    If role or permission not found (404) or already granted (409).",
        "operationId": "grant_permission_to_role_admin_roles__role_id__permissions_post",
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionGrant"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/roles/{role_id}/permissions/{permission_id}": {
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Revoke Permission From Role",
        "description": "Revoke a permission from a role.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nrole_id : int\n    Role identifier.\npermission_id : int\n    Permission identifier.\n\nReturns\n-------\nRoleRead\n    Updated role.\n\nRaises\n------\nHTTPException\n    If role or permission association not found (404).",
        "operationId": "revoke_permission_from_role_admin_roles__role_id__permissions__permission_id__delete",
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Id"
            }
          },
          {
            "name": "permission_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Permission Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/permissions/{permission_id}": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update Permission",
        "description": "Update a permission.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\npermission_id : int\n    Permission identifier.\npayload : PermissionUpdate\n    Permission update payload.\n\nReturns\n-------\nPermissionRead\n    Updated permission.\n\nRaises\n------\nHTTPException\n    If permission not found (404) or permission name/resource+action already exists (409).",
        "operationId": "update_permission_admin_permissions__permission_id__put",
        "parameters": [
          {
            "name": "permission_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Permission Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete Permission",
        "description": "Delete a permission.\n\nOnly allows deletion of orphaned permissions (permissions with no role associations).\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\npermission_id : int\n    Permission identifier.\n\nRaises\n------\nHTTPException\n    If permission not found (404) or if permission is associated with roles (400).",
        "operationId": "delete_permission_admin_permissions__permission_id__delete",
        "parameters": [
          {
            "name": "permission_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Permission Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/roles/{role_id}/permissions/{role_permission_id}": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update Role Permission",
        "description": "Update a role-permission association condition.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nrole_id : int\n    Role identifier.\nrole_permission_id : int\n    Role-permission association identifier.\npayload : RolePermissionUpdate\n    Update payload with condition.\n\nReturns\n-------\nRoleRead\n    Updated role.\n\nRaises\n------\nHTTPException\n    If role-permission association not found (404).",
        "operationId": "update_role_permission_admin_roles__role_id__permissions__role_permission_id__put",
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Id"
            }
          },
          {
            "name": "role_permission_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Role Permission Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/permissions": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Create Permission",
        "description": "Create a new permission.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\npayload : PermissionCreate\n    Permission creation payload.\n\nReturns\n-------\nPermissionRead\n    Created permission.\n\nRaises\n------\nHTTPException\n    If permission name or resource+action already exists (409).",
        "operationId": "create_permission_admin_permissions_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Permissions",
        "description": "List permissions, optionally filtered by resource.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nresource : str | None\n    Optional resource filter.\n\nReturns\n-------\nlist[PermissionRead]\n    List of permissions.",
        "operationId": "list_permissions_admin_permissions_get",
        "parameters": [
          {
            "name": "resource",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Resource"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PermissionRead"
                  },
                  "title": "Response List Permissions Admin Permissions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/users/{user_id}/devices": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Create Device",
        "description": "Create an e-reader device for a user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\npayload : EReaderDeviceCreate\n    Device creation payload.\n\nReturns\n-------\nEReaderDeviceRead\n    Created device.\n\nRaises\n------\nHTTPException\n    If user not found (404) or device email already exists (409).",
        "operationId": "create_device_admin_users__user_id__devices_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EReaderDeviceCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EReaderDeviceRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List User Devices",
        "description": "List all e-reader devices for a user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\nuser_id : int\n    User identifier.\n\nReturns\n-------\nlist[EReaderDeviceRead]\n    List of devices.",
        "operationId": "list_user_devices_admin_users__user_id__devices_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EReaderDeviceRead"
                  },
                  "title": "Response List User Devices Admin Users  User Id  Devices Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/devices/{device_id}": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update Device",
        "description": "Update an e-reader device.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\ndevice_id : int\n    Device identifier.\npayload : EReaderDeviceUpdate\n    Device update payload.\n\nReturns\n-------\nEReaderDeviceRead\n    Updated device.\n\nRaises\n------\nHTTPException\n    If device not found (404) or email conflict (409).",
        "operationId": "update_device_admin_devices__device_id__put",
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Device Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EReaderDeviceUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EReaderDeviceRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete Device",
        "description": "Delete an e-reader device.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nadmin_user : AdminUserDep\n    Admin user dependency.\ndevice_id : int\n    Device identifier.\n\nRaises\n------\nHTTPException\n    If device not found (404).",
        "operationId": "delete_device_admin_devices__device_id__delete",
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Device Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/libraries": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Libraries",
        "description": "List all libraries.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nlist[LibraryRead]\n    List of all libraries.",
        "operationId": "list_libraries_admin_libraries_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LibraryRead"
                  },
                  "type": "array",
                  "title": "Response List Libraries Admin Libraries Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Create Library",
        "description": "Create a new library.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\npayload : LibraryCreate\n    Library creation payload.\n\nReturns\n-------\nLibraryRead\n    Created library.\n\nRaises\n------\nHTTPException\n    If library path already exists (409).",
        "operationId": "create_library_admin_libraries_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LibraryCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LibraryRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/libraries/active": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Active Library",
        "description": "Get the currently active library.\n\nAll authenticated users can view the active library.\nOnly admins can change which library is active.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nLibraryRead | None\n    The active library if one exists, None otherwise.",
        "operationId": "get_active_library_admin_libraries_active_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LibraryRead"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Active Library Admin Libraries Active Get"
                }
              }
            }
          }
        }
      }
    },
    "/admin/libraries/{library_id}": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update Library",
        "description": "Update a library.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nlibrary_id : int\n    Library identifier.\npayload : LibraryUpdate\n    Library update payload.\n\nReturns\n-------\nLibraryRead\n    Updated library.\n\nRaises\n------\nHTTPException\n    If library not found (404) or path conflict (409).",
        "operationId": "update_library_admin_libraries__library_id__put",
        "parameters": [
          {
            "name": "library_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Library Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LibraryUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LibraryRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete Library",
        "description": "Delete a library.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nlibrary_id : int\n    Library identifier.\n\nRaises\n------\nHTTPException\n    If library not found (404).",
        "operationId": "delete_library_admin_libraries__library_id__delete",
        "parameters": [
          {
            "name": "library_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Library Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/libraries/{library_id}/stats": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Library Stats",
        "description": "Get statistics for a library.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nlibrary_id : int\n    Library identifier.\n\nReturns\n-------\nLibraryStats\n    Library statistics.\n\nRaises\n------\nHTTPException\n    If library not found (404) or database file not found (404).",
        "operationId": "get_library_stats_admin_libraries__library_id__stats_get",
        "parameters": [
          {
            "name": "library_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Library Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LibraryStats"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/libraries/{library_id}/activate": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Activate Library",
        "description": "Set a library as the active one.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nlibrary_id : int\n    Library identifier.\n\nReturns\n-------\nLibraryRead\n    Updated library.\n\nRaises\n------\nHTTPException\n    If library not found (404).",
        "operationId": "activate_library_admin_libraries__library_id__activate_post",
        "parameters": [
          {
            "name": "library_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Library Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LibraryRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/openlibrary/download-dumps": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Download Openlibrary Dumps",
        "description": "Create a task to download OpenLibrary dump files from URLs.\n\nCreates a background task that downloads files from the provided URLs\nand saves them to ``{data_directory}/openlibrary/dump/`` directory.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\ncurrent_user : AdminUserDep\n    Current admin user.\npayload : DownloadFilesRequest\n    Request containing list of file URLs to download.\n\nReturns\n-------\nDownloadFilesResponse\n    Response with task ID and message.\n\nRaises\n------\nHTTPException\n    If no URLs provided (400) or task runner unavailable (503).",
        "operationId": "download_openlibrary_dumps_admin_openlibrary_download_dumps_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DownloadFilesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/openlibrary/ingest-dumps": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Ingest Openlibrary Dumps",
        "description": "Create a task to ingest OpenLibrary dump files into local database.\n\nCreates a background task that processes downloaded dump files\nand ingests them into PostgreSQL database for fast lookups.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\ncurrent_user : AdminUserDep\n    Current admin user.\npayload : IngestFilesRequest\n    Request containing flags for which file types to process.\n\nReturns\n-------\nIngestFilesResponse\n    Response with task ID and message.\n\nRaises\n------\nHTTPException\n    If task runner unavailable (503) or no file types selected (400).",
        "operationId": "ingest_openlibrary_dumps_admin_openlibrary_ingest_dumps_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IngestFilesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/openlibrary-dump-config": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Openlibrary Dump Config",
        "description": "Get the OpenLibrary dump configuration (admin only).\n\nReturns default values if configuration has not been created yet.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nOpenLibraryDumpConfigRead\n    Configuration with defaults if not found.",
        "operationId": "get_openlibrary_dump_config_admin_openlibrary_dump_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenLibraryDumpConfigRead"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Upsert Openlibrary Dump Config",
        "description": "Create or update the OpenLibrary dump configuration (admin only).\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\npayload : OpenLibraryDumpConfigUpdate\n    Configuration payload.\n\nReturns\n-------\nOpenLibraryDumpConfigRead\n    Created or updated configuration.",
        "operationId": "upsert_openlibrary_dump_config_admin_openlibrary_dump_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpenLibraryDumpConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenLibraryDumpConfigRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/scheduled-tasks-config": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Scheduled Tasks Config",
        "description": "Get the scheduled tasks configuration (admin only).\n\nReturns default values if configuration has not been created yet.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nScheduledTasksConfigRead\n    Configuration with defaults if not found.",
        "operationId": "get_scheduled_tasks_config_admin_scheduled_tasks_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledTasksConfigRead"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Upsert Scheduled Tasks Config",
        "description": "Create or update the scheduled tasks configuration (admin only).\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\npayload : ScheduledTasksConfigUpdate\n    Configuration payload.\n\nReturns\n-------\nScheduledTasksConfigRead\n    Created or updated configuration.",
        "operationId": "upsert_scheduled_tasks_config_admin_scheduled_tasks_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledTasksConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledTasksConfigRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/scheduled-jobs": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "List Scheduled Jobs",
        "description": "List scheduled job definitions (admin only).",
        "operationId": "list_scheduled_jobs_admin_scheduled_jobs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ScheduledJobRead"
                  },
                  "type": "array",
                  "title": "Response List Scheduled Jobs Admin Scheduled Jobs Get"
                }
              }
            }
          }
        }
      }
    },
    "/admin/scheduled-jobs/{job_name}": {
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update Scheduled Job",
        "description": "Update a scheduled job definition (admin only).",
        "operationId": "update_scheduled_job_admin_scheduled_jobs__job_name__put",
        "parameters": [
          {
            "name": "job_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledJobUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledJobRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/basic-config": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Basic Config",
        "description": "Get basic system configuration (admin only).",
        "operationId": "get_basic_config_admin_basic_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasicConfigRead"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Upsert Basic Config",
        "description": "Update basic system configuration (admin only).",
        "operationId": "upsert_basic_config_admin_basic_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BasicConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasicConfigRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/basic-config/public": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Basic Config Public",
        "description": "Get basic system configuration for public consumers.",
        "operationId": "get_basic_config_public_admin_basic_config_public_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasicConfigRead"
                }
              }
            }
          }
        }
      }
    },
    "/authors": {
      "get": {
        "tags": [
          "authors"
        ],
        "summary": "List Authors",
        "description": "List authors with metadata for the active library with pagination.\n\nReturns authors that have been mapped to the active library via AuthorMapping.\nIncludes metadata from AuthorMetadata (photos, remote IDs, alternate names, etc.).\n\nParameters\n----------\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nsession : SessionDep\n    Database session dependency.\nauthor_service : AuthorServiceDep\n    Author service instance.\npage : int\n    Page number (1-indexed, default: 1).\npage_size : int\n    Number of items per page (default: 20, max: 100).\nfilter_type : str | None\n    Filter type: \"unmatched\" to show only unmatched authors, None for all authors.\n\nReturns\n-------\ndict[str, object]\n    Response with items array, total count, page, and total_pages.\n\nRaises\n------\nHTTPException\n    If no active library is found or permission denied (403).",
        "operationId": "list_authors_authors_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Filter"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response List Authors Authors Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/{author_id}": {
      "get": {
        "tags": [
          "authors"
        ],
        "summary": "Get Author",
        "description": "Get a single author by ID or OpenLibrary key.\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key (e.g., \"OL23919A\").\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Author data with metadata.\n\nRaises\n------\nHTTPException\n    If author is not found, no active library exists, or permission denied (403).",
        "operationId": "get_author_authors__author_id__get",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Author Authors  Author Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "authors"
        ],
        "summary": "Update Author",
        "description": "Update author metadata.\n\nUpdates AuthorMetadata fields and saves user-defined metadata\n(genres, styles, shelves, similar_authors) to AuthorUserMetadata.\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key (e.g., \"OL23919A\").\nupdate : AuthorUpdate\n    Author update payload.\nauthor_service : AuthorServiceDep\n    Author service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Updated author data dictionary.\n\nRaises\n------\nHTTPException\n    If author is not found (404), update fails (500), or permission denied (403).",
        "operationId": "update_author_authors__author_id__put",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthorUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Update Author Authors  Author Id  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/{author_id}/rematch": {
      "post": {
        "tags": [
          "authors"
        ],
        "summary": "Rematch Author",
        "description": "Re-match a single author to a specific OpenLibrary ID.\n\nTriggers a single-author workflow: match -> ingest -> link -> score.\nThe match stage will use the provided OpenLibrary key directly,\nbypassing skip logic. The score stage will only score links\ninvolving this author.\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key (e.g., \"OL23919A\").\nrequest : Request\n    FastAPI request object for accessing app state.\nsession : SessionDep\n    Database session.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\nrematch_service : RematchServiceDep\n    Rematch service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Response with task_id and message.\n\nRaises\n------\nHTTPException\n    If author is not found, no active library exists, message broker unavailable,\n    or author does not have an OpenLibrary key or mapping.",
        "operationId": "rematch_author_authors__author_id__rematch_post",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/merge/recommend": {
      "post": {
        "tags": [
          "authors"
        ],
        "summary": "Recommend Merge Author",
        "description": "Recommend which author to keep when merging.\n\nParameters\n----------\nrequest_body : AuthorMergeRecommendRequest\n    Request with list of author IDs to merge.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\nmerge_service : MergeServiceDep\n    Author merge service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Dictionary with recommended keep author ID and author details.\n\nRaises\n------\nHTTPException\n    If validation fails, authors not found, or permission denied.",
        "operationId": "recommend_merge_author_authors_merge_recommend_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthorMergeRecommendRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Recommend Merge Author Authors Merge Recommend Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/merge": {
      "post": {
        "tags": [
          "authors"
        ],
        "summary": "Merge Authors",
        "description": "Merge multiple authors into one.\n\nParameters\n----------\nrequest_body : AuthorMergeRequest\n    Request with list of author IDs and keep author ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\nmerge_service : MergeServiceDep\n    Author merge service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Dictionary with merged author details.\n\nRaises\n------\nHTTPException\n    If validation fails, authors not found, merge fails, or permission denied.",
        "operationId": "merge_authors_authors_merge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthorMergeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Merge Authors Authors Merge Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/{author_id}/photos": {
      "post": {
        "tags": [
          "authors"
        ],
        "summary": "Upload Author Photo",
        "description": "Upload an author photo from file.\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key.\nauthor_service : AuthorServiceDep\n    Author service instance.\nfile : UploadFile\n    Image file to upload.\n\nReturns\n-------\nPhotoUploadResponse\n    Photo info with ID, URL, and file path.\n\nRaises\n------\nHTTPException\n    If author not found (404), invalid file type (400), upload fails (500),\n    or permission denied (403).",
        "operationId": "upload_author_photo_authors__author_id__photos_post",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_author_photo_authors__author_id__photos_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhotoUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/{author_id}/photos-from-url": {
      "post": {
        "tags": [
          "authors"
        ],
        "summary": "Upload Photo From Url",
        "description": "Upload an author photo from URL.\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key.\nsession : SessionDep\n    Database session.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\nrequest : PhotoFromUrlRequest\n    Request containing image URL.\n\nReturns\n-------\nPhotoUploadResponse\n    Photo info with ID, URL, and file path.\n\nRaises\n------\nHTTPException\n    If author not found (404), invalid URL (400), upload fails (500),\n    or permission denied (403).",
        "operationId": "upload_photo_from_url_authors__author_id__photos_from_url_post",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PhotoFromUrlRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhotoUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/authors/{author_id}/photos/{photo_id}": {
      "get": {
        "tags": [
          "authors"
        ],
        "summary": "Get Author Photo",
        "description": "Get an author photo by ID.\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key.\nphoto_id : int\n    Photo ID to retrieve.\nsession : SessionDep\n    Database session.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\nrequest : Request\n    FastAPI request object for accessing app state.\n\nReturns\n-------\nFileResponse | Response\n    Photo image file or 404 response.\n\nRaises\n------\nHTTPException\n    If author not found (404), photo not found (404), file not found (404),\n    or permission denied (403).",
        "operationId": "get_author_photo_authors__author_id__photos__photo_id__get",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          },
          {
            "name": "photo_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Photo Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "authors"
        ],
        "summary": "Delete Author Photo",
        "description": "Delete an author photo and its file.\n\nDeletes both the database record and the file from the filesystem\nin an atomic operation (DB deletion happens first, then file deletion).\n\nParameters\n----------\nauthor_id : str\n    Author ID (numeric) or OpenLibrary key.\nphoto_id : int\n    Photo ID to delete.\nsession : SessionDep\n    Database session.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nauthor_service : AuthorServiceDep\n    Author service instance.\n\nReturns\n-------\nResponse\n    Empty 204 No Content response on success.\n\nRaises\n------\nHTTPException\n    If author not found (404), photo not found (404), or permission denied (403).",
        "operationId": "delete_author_photo_authors__author_id__photos__photo_id__delete",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Author Id"
            }
          },
          {
            "name": "photo_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Photo Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "List Books",
        "description": "List books with pagination and optional search.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\nresponse_builder : ResponseBuilderDep\n    Response builder instance.\npage : int\n    Page number (1-indexed, default: 1).\npage_size : int\n    Number of items per page (default: 20, max: 100).\nsearch : str | None\n    Optional search query to filter by title or author.\nauthor_id : int | None\n    Optional author ID to filter by.\nsort_by : str\n    Field to sort by: 'timestamp', 'pubdate', 'title', 'author_sort',\n    'series_index', 'random' (default: 'timestamp').\nsort_order : str\n    Sort order: 'asc' or 'desc' (default: 'desc').\nfull : bool\n    If True, return full book details with all metadata (default: False).\npubdate_month : int | None\n    Optional month (1-12) to filter books by publication date month.\npubdate_day : int | None\n    Optional day (1-31) to filter books by publication date day.\n\nReturns\n-------\nBookListResponse\n    Paginated list of books.\n\nRaises\n------\nHTTPException\n    If no active library is configured (404) or permission denied (403).",
        "operationId": "list_books_books_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "author_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Author Id"
            }
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "timestamp",
              "title": "Sort By"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          },
          {
            "name": "full",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Full"
            }
          },
          {
            "name": "pubdate_month",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Pubdate Month"
            }
          },
          {
            "name": "pubdate_day",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Pubdate Day"
            }
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of optional includes (e.g., 'reading_summary')",
              "title": "Include"
            },
            "description": "Comma-separated list of optional includes (e.g., 'reading_summary')"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Get Book",
        "description": "Get a book by ID.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_id : int\n    Calibre book ID.\nbook_service : BookServiceDep\n    Book service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\nresponse_builder : ResponseBuilderDep\n    Response builder instance.\nfull : bool\n    If True, return full book details with all metadata (default: False).\n\nReturns\n-------\nBookRead\n    Book data.\n\nRaises\n------\nHTTPException\n    If book not found (404), no active library (404), or permission denied (403).",
        "operationId": "get_book_books__book_id__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "full",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Full"
            }
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of optional includes (e.g., 'reading_summary')",
              "title": "Include"
            },
            "description": "Comma-separated list of optional includes (e.g., 'reading_summary')"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "books"
        ],
        "summary": "Update Book",
        "description": "Update book metadata.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_id : int\n    Calibre book ID.\nupdate : BookUpdate\n    Book update payload.\n\nReturns\n-------\nBookRead\n    Updated book data with all metadata.\n\nRaises\n------\nHTTPException\n    If book not found (404), no active library (404), or permission denied (403).",
        "operationId": "update_book_books__book_id__put",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "books"
        ],
        "summary": "Delete Book",
        "description": "Delete a book and all its related data.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_id : int\n    Calibre book ID.\ndelete_request : BookDeleteRequest\n    Delete request payload with filesystem deletion option.\n\nRaises\n------\nHTTPException\n    If book not found (404), no active library (404), permission denied (403),\n    or filesystem operation fails (500).",
        "operationId": "delete_book_books__book_id__delete",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookDeleteRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/cover": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Get Book Cover",
        "description": "Get book cover thumbnail image.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\n\nReturns\n-------\nFileResponse | Response\n    Cover image file or 404 response.\n\nRaises\n------\nHTTPException\n    If book not found (404) or no active library (404).",
        "operationId": "get_book_cover_books__book_id__cover_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Upload Cover Image",
        "description": "Upload a cover image file.\n\nParameters\n----------\nbook_id : int\n    Calibre book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service dependency.\npermission_helper : PermissionHelperDep\n    Permission helper dependency.\ncover_service : CoverServiceDep\n    Cover service dependency.\nsession : SessionDep\n    Database session dependency.\nfile : UploadFile\n    Cover image file.\n\nReturns\n-------\nCoverFromUrlResponse\n    Response containing URL to access the saved cover image.\n\nRaises\n------\nHTTPException\n    If book not found, permission denied, or upload fails.",
        "operationId": "upload_cover_image_books__book_id__cover_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_cover_image_books__book_id__cover_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoverFromUrlResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/download/{file_format}": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Download Book File",
        "description": "Download a book file in the specified format.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\nfile_format : str\n    File format (e.g., 'EPUB', 'PDF', 'MOBI').\n\nReturns\n-------\nFileResponse | Response\n    Book file or 404 response.\n\nRaises\n------\nHTTPException\n    If book not found (404), format not found (404), or no active library (404).",
        "operationId": "download_book_file_books__book_id__download__file_format__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "file_format",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/metadata": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Download Book Metadata",
        "description": "Download book metadata in the specified format.\n\nGenerates metadata file in OPF (XML), JSON, or YAML format.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\nformat : str\n    Export format: 'opf', 'json', or 'yaml' (default: 'opf').\n\nReturns\n-------\nResponse\n    Metadata file response with appropriate headers.\n\nRaises\n------\nHTTPException\n    If book not found (404), no active library (404), or format unsupported (400).",
        "operationId": "download_book_metadata_books__book_id__metadata_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/metadata/import": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Import Book Metadata",
        "description": "Import book metadata from file.\n\nAccepts metadata files in OPF (XML) or YAML format and returns\na BookUpdate object ready for staging in the form.\n\nParameters\n----------\nfile : UploadFile\n    Metadata file to import (OPF or YAML).\n\nReturns\n-------\nBookUpdate\n    Book update object ready for form application.\n\nRaises\n------\nHTTPException\n    If file format is unsupported (400), file is invalid (400),\n    or parsing fails (500).",
        "operationId": "import_book_metadata_books_metadata_import_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_book_metadata_books_metadata_import_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookUpdate"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/send": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Send Book To Device",
        "description": "Send a book via email as a background task.\n\nEnqueues a background task to send the book to the specified email address,\nor to the user's default device if no email is provided.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nsend_request : BookSendRequest\n    Send request containing optional email and file format.\n\nReturns\n-------\nNone\n    Success response (204 No Content).\n\nRaises\n------\nHTTPException\n    If book not found (404), no default device when email not provided (400),\n    email server not configured (400), format not found (404),\n    permission denied (403), task runner unavailable (503),\n    or user missing ID (500).",
        "operationId": "send_book_to_device_books__book_id__send_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookSendRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/send/batch": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Send Books To Device Batch",
        "description": "Send multiple books via email as background tasks.\n\nEnqueues a background task for each book to send to the specified email address,\nor to the user's default device if no email is provided.\nEach book is sent individually (one book per email, as Kindle doesn't accept batches).\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nsend_request : BookBulkSendRequest\n    Send request containing list of book IDs, optional email and file format.\n\nReturns\n-------\nNone\n    Success response (204 No Content).\n\nRaises\n------\nHTTPException\n    If any book not found (404), no default device when email not provided (400),\n    email server not configured (400), format not found (404),\n    permission denied (403), task runner unavailable (503),\n    or user missing ID (500).",
        "operationId": "send_books_to_device_batch_books_send_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookBulkSendRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/convert": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Convert Book Format",
        "description": "Convert a book from one format to another.\n\nEnqueues a background task to convert the book format.\nReturns a friendly message if conversion already exists.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nconvert_request : BookConvertRequest\n    Conversion request containing source and target formats.\nbook_service : BookServiceDep\n    Book service dependency.\npermission_helper : PermissionHelperDep\n    Permission helper dependency.\norchestration_service : ConversionOrchestrationServiceDep\n    Conversion orchestration service dependency.\n\nReturns\n-------\nBookConvertResponse\n    Response containing task ID and optional message.\n\nRaises\n------\nHTTPException\n    If book not found (404), format not found (404),\n    permission denied (403), task runner unavailable (503),\n    or user missing ID (500).",
        "operationId": "convert_book_format_books__book_id__convert_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookConvertRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookConvertResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/strip-drm": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Strip Book Drm",
        "description": "Strip DRM from a book format if present.\n\nEnqueues a background task that runs DeDRM for a selected source format.\nIf DRM is removed (content changes), the DRM-free file is added as an\nadditional format on the same Calibre book.\n\nParameters\n----------\nbook_id : int\n    Calibre book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service dependency.\npermission_helper : PermissionHelperDep\n    Permission helper dependency.\norchestration_service : DeDRMOrchestrationServiceDep\n    DeDRM orchestration service dependency.\n\nReturns\n-------\nBookStripDrmResponse\n    Response containing task ID and optional message.",
        "operationId": "strip_book_drm_books__book_id__strip_drm_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookStripDrmResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/fix-epub": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Fix Book Epub",
        "description": "Fix EPUB file for a book.\n\nEnqueues a background task that runs the EPUB fixer on the book's EPUB file.\nFixes common issues like encoding, stray images, and broken links.\n\nParameters\n----------\nbook_id : int\n    Calibre book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service dependency.\nbook_file_service : BookFileServiceDep\n    Book file service dependency.\npermission_helper : PermissionHelperDep\n    Permission helper dependency.\nrequest : Request\n    FastAPI request object (for task runner).\n\nReturns\n-------\nBookFixEpubResponse\n    Response containing task ID and optional message.\n\nRaises\n------\nHTTPException\n    If book not found (404), permission denied (403), or task runner unavailable (503).",
        "operationId": "fix_book_epub_books__book_id__fix_epub_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookFixEpubResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/conversions": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Get Book Conversions",
        "description": "Get conversion history for a book.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service dependency.\npermission_helper : PermissionHelperDep\n    Permission helper dependency.\norchestration_service : ConversionOrchestrationServiceDep\n    Conversion orchestration service dependency.\npage : int\n    Page number (1-indexed).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nBookConversionListResponse\n    Paginated list of conversion records.\n\nRaises\n------\nHTTPException\n    If book not found (404) or permission denied (403).",
        "operationId": "get_book_conversions_books__book_id__conversions_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookConversionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/cover-from-url": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Download Cover From Url",
        "description": "Download cover image from URL and save directly to book.\n\nDownloads an image from the provided URL, validates it's an image,\nsaves it directly to the book's directory as cover.jpg, updates\nthe database to mark the book as having a cover, and embeds the\ncover into supported ebook files (EPUB, AZW3) for device compatibility.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nbook_id : int\n    Calibre book ID.\nrequest : CoverFromUrlRequest\n    Request containing the image URL.\n\nReturns\n-------\nCoverFromUrlResponse\n    Response containing URL to access the saved cover image.\n\nRaises\n------\nHTTPException\n    If book not found (404), URL is invalid (400), image download fails (400),\n    or image validation fails (400).",
        "operationId": "download_cover_from_url_books__book_id__cover_from_url_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoverFromUrlRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoverFromUrlResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/temp-covers/{hash_and_ext}": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Get Temp Cover",
        "description": "Serve temporary cover image.\n\nParameters\n----------\nhash_and_ext : str\n    Hash and extension (e.g., \"abc123def456.jpg\").\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\nFileResponse | Response\n    Cover image file or 404 response.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "get_temp_cover_books_temp_covers__hash_and_ext__get",
        "parameters": [
          {
            "name": "hash_and_ext",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Hash And Ext"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/search/suggestions": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Search Suggestions",
        "description": "Get search suggestions for autocomplete.\n\nSearches across book titles, authors, tags, and series.\nReturns top matches for each category.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nq : str\n    Search query string.\n\nReturns\n-------\nSearchSuggestionsResponse\n    Search suggestions grouped by type (books, authors, tags, series).\n\nRaises\n------\nHTTPException\n    If no active library is configured (404).",
        "operationId": "search_suggestions_books_search_suggestions_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchSuggestionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/filter/suggestions": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Filter Suggestions",
        "description": "Get filter suggestions for a specific filter type.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nq : str\n    Search query string.\nfilter_type : str\n    Type of filter: 'author', 'title', 'genre', 'publisher',\n    'identifier', 'series', 'format', 'rating', 'language'.\nlimit : int\n    Maximum number of suggestions to return (default: 10).\n\nReturns\n-------\nFilterSuggestionsResponse\n    Filter suggestions for the specified type.\n\nRaises\n------\nHTTPException\n    If no active library is configured (404).",
        "operationId": "filter_suggestions_books_filter_suggestions_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          },
          {
            "name": "filter_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filter Type"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilterSuggestionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/tags/by-name": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Lookup Tags By Name",
        "description": "Lookup tag IDs by tag names (case-insensitive).\n\nParameters\n----------\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\nnames : str\n    Comma-separated list of tag names to lookup.\n\nReturns\n-------\nTagLookupResponse\n    List of matching tags with IDs.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "lookup_tags_by_name_books_tags_by_name_get",
        "parameters": [
          {
            "name": "names",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Comma-separated list of tag names to lookup",
              "title": "Names"
            },
            "description": "Comma-separated list of tag names to lookup"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TagLookupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/filter": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Filter Books",
        "description": "Filter books with multiple criteria using OR conditions.\n\nEach filter type uses OR conditions (e.g., multiple authors = OR).\nDifferent filter types are combined with AND conditions.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nfilter_request : BookFilterRequest\n    Filter criteria.\npage : int\n    Page number (1-indexed, default: 1).\npage_size : int\n    Number of items per page (default: 20, max: 100).\nsort_by : str\n    Field to sort by: 'timestamp', 'pubdate', 'title', 'author_sort',\n    'series_index' (default: 'timestamp').\nsort_order : str\n    Sort order: 'asc' or 'desc' (default: 'desc').\nfull : bool\n    If True, return full book details with all metadata (default: False).\n\nReturns\n-------\nBookListResponse\n    Paginated list of filtered books.\n\nRaises\n------\nHTTPException\n    If no active library is configured (404) or permission denied (403).",
        "operationId": "filter_books_books_filter_post",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Page Size"
            }
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "timestamp",
              "title": "Sort By"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          },
          {
            "name": "full",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Full"
            }
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of optional includes (e.g., 'reading_summary')",
              "title": "Include"
            },
            "description": "Comma-separated list of optional includes (e.g., 'reading_summary')"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookFilterRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/upload": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Upload Book",
        "description": "Upload a book file to the active library (asynchronous).\n\nAccepts a book file, saves it temporarily, and creates a background task\nto add it to the Calibre database. Returns the task ID for tracking.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nfile : UploadFile\n    Book file to upload.\n\nReturns\n-------\nBookUploadResponse\n    Response containing the task ID for tracking the upload.\n\nRaises\n------\nHTTPException\n    If no active library is configured (404), file is invalid (400),\n    permission denied (403), or task runner unavailable (503).",
        "operationId": "upload_book_books_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_book_books_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/formats": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Add Format",
        "description": "Add a new file format to an existing book.\n\nParameters\n----------\nbook_id : int\n    Book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\nresponse_builder : ResponseBuilderDep\n    Response builder instance.\nfile : UploadFile\n    File to upload.\nreplace : bool\n    Whether to replace existing format.\n\nReturns\n-------\nBookRead\n    Updated book data.\n\nRaises\n------\nHTTPException\n    If book not found (404), file exists (409), invalid file (400),\n    or permission denied (403).",
        "operationId": "add_format_books__book_id__formats_post",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "replace",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Replace"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_add_format_books__book_id__formats_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/formats/{file_format}/metadata": {
      "get": {
        "tags": [
          "books"
        ],
        "summary": "Get Format Metadata",
        "description": "Get detailed metadata for a specific format.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nfile_format : str\n    Format extension (e.g. 'epub').\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nsession : SessionDep\n    Database session.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\nbook_service : BookServiceDep\n    Book service instance.\n\nReturns\n-------\nFormatMetadataResponse\n    Detailed format metadata.\n\nRaises\n------\nHTTPException\n    If book not found, format not found, or permission denied.",
        "operationId": "get_format_metadata_books__book_id__formats__file_format__metadata_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "file_format",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FormatMetadataResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/{book_id}/formats/{file_format}": {
      "delete": {
        "tags": [
          "books"
        ],
        "summary": "Delete Format",
        "description": "Delete a format from an existing book.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nfile_format : str\n    Format extension (e.g. 'epub').\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nRaises\n------\nHTTPException\n    If book not found (404), format not found (404),\n    or permission denied (403).",
        "operationId": "delete_format_books__book_id__formats__file_format__delete",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "file_format",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Format"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/upload/batch": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Upload Books Batch",
        "description": "Upload multiple book files to the active library (asynchronous).\n\nAccepts multiple book files, saves them temporarily, and creates a\nbackground task to add them to the Calibre database. Returns the task ID\nfor tracking.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nfiles : list[UploadFile]\n    List of book files to upload.\n\nReturns\n-------\nBookBatchUploadResponse\n    Response containing the task ID and total file count.\n\nRaises\n------\nHTTPException\n    If no active library is configured (404), files are invalid (400),\n    permission denied (403), or task runner unavailable (503).",
        "operationId": "upload_books_batch_books_upload_batch_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_books_batch_books_upload_batch_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookBatchUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/merge/recommend": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Recommend Merge Book",
        "description": "Recommend which book to keep when merging.\n\nParameters\n----------\nrequest_body : BookMergeRecommendRequest\n    Request with list of book IDs to merge.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service instance.\nmerge_service : BookMergeServiceDep\n    Book merge service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Dictionary with recommended keep book ID and book details.\n\nRaises\n------\nHTTPException\n    If validation fails, books not found, or permission denied.",
        "operationId": "recommend_merge_book_books_merge_recommend_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookMergeRecommendRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Recommend Merge Book Books Merge Recommend Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/books/merge": {
      "post": {
        "tags": [
          "books"
        ],
        "summary": "Merge Books",
        "description": "Merge multiple books into one.\n\nParameters\n----------\nrequest_body : BookMergeRequest\n    Request with list of book IDs and keep book ID.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nbook_service : BookServiceDep\n    Book service instance.\nmerge_service : BookMergeServiceDep\n    Book merge service instance.\npermission_helper : PermissionHelperDep\n    Permission helper instance.\n\nReturns\n-------\ndict[str, object]\n    Dictionary with merged book details.\n\nRaises\n------\nHTTPException\n    If validation fails, books not found, merge fails, or permission denied.",
        "operationId": "merge_books_books_merge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookMergeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Merge Books Books Merge Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/comic/{book_id}/pages": {
      "get": {
        "tags": [
          "comic"
        ],
        "summary": "List Comic Pages",
        "description": "List all pages in a comic book archive.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nfile_format : str\n    Comic format (CBZ, CBR, CB7, CBC).\nsession : Session\n    Database session.\ncurrent_user : User\n    Current authenticated user.\n\nReturns\n-------\nlist[dict]\n    List of page information dictionaries.\n\nRaises\n------\nHTTPException\n    If book not found, format not found, or permission denied.",
        "operationId": "list_comic_pages_comic__book_id__pages_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "file_format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Comic format (CBZ, CBR, CB7, CBC)",
              "title": "File Format"
            },
            "description": "Comic format (CBZ, CBR, CB7, CBC)"
          },
          {
            "name": "include_dimensions",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "If true, compute and return image width/height for each page",
              "default": false,
              "title": "Include Dimensions"
            },
            "description": "If true, compute and return image width/height for each page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response List Comic Pages Comic  Book Id  Pages Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/comic/{book_id}/pages/{page_number}": {
      "get": {
        "tags": [
          "comic"
        ],
        "summary": "Get Comic Page",
        "description": "Get a specific page image from a comic book archive.\n\nParameters\n----------\nbook_id : int\n    Book ID.\npage_number : int\n    Page number (1-based).\nfile_format : str\n    Comic format (CBZ, CBR, CB7, CBC).\nthumbnail : bool\n    Whether to return thumbnail.\nmax_width : int | None\n    Maximum width for thumbnail.\nsession : Session\n    Database session.\ncurrent_user : User\n    Current authenticated user.\n\nReturns\n-------\nResponse\n    Image response with appropriate content type.\n\nRaises\n------\nHTTPException\n    If book not found, format not found, page not found, or permission denied.",
        "operationId": "get_comic_page_comic__book_id__pages__page_number__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "page_number",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Page Number"
            }
          },
          {
            "name": "file_format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Comic format (CBZ, CBR, CB7, CBC)",
              "title": "File Format"
            },
            "description": "Comic format (CBZ, CBR, CB7, CBC)"
          },
          {
            "name": "thumbnail",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Return thumbnail instead of full image",
              "default": false,
              "title": "Thumbnail"
            },
            "description": "Return thumbnail instead of full image"
          },
          {
            "name": "max_width",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum width for thumbnail (pixels)",
              "title": "Max Width"
            },
            "description": "Maximum width for thumbnail (pixels)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/comic/{book_id}/pages/{page_number}/thumbnail": {
      "get": {
        "tags": [
          "comic"
        ],
        "summary": "Get Comic Page Thumbnail",
        "description": "Get a thumbnail of a specific page.\n\nConvenience endpoint that calls get_comic_page with thumbnail=True.\n\nParameters\n----------\nbook_id : int\n    Book ID.\npage_number : int\n    Page number (1-based).\nfile_format : str\n    Comic format (CBZ, CBR, CB7, CBC).\nmax_width : int\n    Maximum width for thumbnail.\nsession : Session\n    Database session.\ncurrent_user : User\n    Current authenticated user.\n\nReturns\n-------\nResponse\n    Thumbnail image response.",
        "operationId": "get_comic_page_thumbnail_comic__book_id__pages__page_number__thumbnail_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "page_number",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Page Number"
            }
          },
          {
            "name": "file_format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Comic format (CBZ, CBR, CB7, CBC)",
              "title": "File Format"
            },
            "description": "Comic format (CBZ, CBR, CB7, CBC)"
          },
          {
            "name": "max_width",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Maximum width for thumbnail (pixels)",
              "default": 240,
              "title": "Max Width"
            },
            "description": "Maximum width for thumbnail (pixels)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/devices": {
      "get": {
        "tags": [
          "devices"
        ],
        "summary": "List Devices",
        "description": "List all e-reader devices for the current user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nlist[EReaderDeviceRead]\n    List of devices.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "list_devices_devices_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/EReaderDeviceRead"
                  },
                  "type": "array",
                  "title": "Response List Devices Devices Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "devices"
        ],
        "summary": "Create Device",
        "description": "Create an e-reader device for the current user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npayload : EReaderDeviceCreate\n    Device creation payload.\n\nReturns\n-------\nEReaderDeviceRead\n    Created device.\n\nRaises\n------\nHTTPException\n    If device email already exists (409) or permission denied (403).",
        "operationId": "create_device_devices_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EReaderDeviceCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EReaderDeviceRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/devices/{device_id}": {
      "get": {
        "tags": [
          "devices"
        ],
        "summary": "Get Device",
        "description": "Get an e-reader device by ID.\n\nParameters\n----------\ndevice_id : int\n    Device identifier.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEReaderDeviceRead\n    Device data.\n\nRaises\n------\nHTTPException\n    If device not found (404) or does not belong to current user (403).",
        "operationId": "get_device_devices__device_id__get",
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Device Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EReaderDeviceRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "devices"
        ],
        "summary": "Update Device",
        "description": "Update an e-reader device.\n\nParameters\n----------\ndevice_id : int\n    Device identifier.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npayload : EReaderDeviceUpdate\n    Device update payload.\n\nReturns\n-------\nEReaderDeviceRead\n    Updated device.\n\nRaises\n------\nHTTPException\n    If device not found (404), does not belong to current user (403), or email conflict (409).",
        "operationId": "update_device_devices__device_id__put",
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Device Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EReaderDeviceUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EReaderDeviceRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "devices"
        ],
        "summary": "Delete Device",
        "description": "Delete an e-reader device.\n\nParameters\n----------\ndevice_id : int\n    Device identifier.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nRaises\n------\nHTTPException\n    If device not found (404) or does not belong to current user (403).",
        "operationId": "delete_device_devices__device_id__delete",
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Device Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/download-clients": {
      "get": {
        "tags": [
          "download-clients"
        ],
        "summary": "List Download Clients",
        "description": "List all download clients.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nenabled_only : bool\n    If True, only return enabled download clients.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientListResponse\n    List of download clients.",
        "operationId": "list_download_clients_download_clients_get",
        "parameters": [
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return enabled download clients",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Only return enabled download clients"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "download-clients"
        ],
        "summary": "Create Download Client",
        "description": "Create a new download client.\n\nParameters\n----------\ndata : DownloadClientCreate\n    Download client creation data.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientRead\n    Created download client.\n\nRaises\n------\nHTTPException\n    If download client creation fails.",
        "operationId": "create_download_client_download_clients_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DownloadClientCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/download-clients/{client_id}": {
      "get": {
        "tags": [
          "download-clients"
        ],
        "summary": "Get Download Client",
        "description": "Get a download client by ID.\n\nParameters\n----------\nclient_id : int\n    Download client ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientRead\n    Download client data.\n\nRaises\n------\nHTTPException\n    If download client not found.",
        "operationId": "get_download_client_download_clients__client_id__get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "download-clients"
        ],
        "summary": "Update Download Client",
        "description": "Update a download client.\n\nParameters\n----------\nclient_id : int\n    Download client ID.\ndata : DownloadClientUpdate\n    Update data (partial).\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientRead\n    Updated download client.\n\nRaises\n------\nHTTPException\n    If download client not found or update fails.",
        "operationId": "update_download_client_download_clients__client_id__put",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DownloadClientUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "download-clients"
        ],
        "summary": "Delete Download Client",
        "description": "Delete a download client.\n\nParameters\n----------\nclient_id : int\n    Download client ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nRaises\n------\nHTTPException\n    If download client not found.",
        "operationId": "delete_download_client_download_clients__client_id__delete",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/download-clients/{client_id}/test": {
      "post": {
        "tags": [
          "download-clients"
        ],
        "summary": "Test Download Client Connection",
        "description": "Test connection to a download client.\n\nParameters\n----------\nclient_id : int\n    Download client ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientTestResponse\n    Test result.\n\nRaises\n------\nHTTPException\n    If download client not found or test fails.",
        "operationId": "test_download_client_connection_download_clients__client_id__test_post",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/download-clients/test": {
      "post": {
        "tags": [
          "download-clients"
        ],
        "summary": "Test Download Client Settings",
        "description": "Test connection with provided settings.\n\nParameters\n----------\ndata : DownloadClientCreate\n    Download client settings.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientTestResponse\n    Test result.\n\nRaises\n------\nHTTPException\n    If test fails.",
        "operationId": "test_download_client_settings_download_clients_test_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DownloadClientCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/download-clients/{client_id}/status": {
      "get": {
        "tags": [
          "download-clients"
        ],
        "summary": "Get Download Client Status",
        "description": "Get download client status information.\n\nParameters\n----------\nclient_id : int\n    Download client ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadClientStatusResponse\n    Download client status information.\n\nRaises\n------\nHTTPException\n    If download client not found.",
        "operationId": "get_download_client_status_download_clients__client_id__status_get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadClientStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/download-clients/{client_id}/items": {
      "get": {
        "tags": [
          "download-clients"
        ],
        "summary": "Get Download Client Items",
        "description": "Get active downloads from a download client.\n\nParameters\n----------\nclient_id : int\n    Download client ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request.\n\nReturns\n-------\nDownloadItemsResponse\n    List of active download items.\n\nRaises\n------\nHTTPException\n    If download client not found or fetching items fails.",
        "operationId": "get_download_client_items_download_clients__client_id__items_get",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadItemsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/downloads/queue": {
      "get": {
        "tags": [
          "downloads"
        ],
        "summary": "Get Queue",
        "description": "Get current download queue.\n\nReturns\n-------\nDownloadQueue\n    Active downloads.",
        "operationId": "get_queue_downloads_queue_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadQueue"
                }
              }
            }
          }
        }
      }
    },
    "/downloads/history": {
      "get": {
        "tags": [
          "downloads"
        ],
        "summary": "Get History",
        "description": "Get download history.\n\nParameters\n----------\nservice : DownloadService\n    Download service.\nlimit : int\n    Maximum number of items to return.\noffset : int\n    Number of items to skip.\n\nReturns\n-------\nDownloadHistory\n    Completed/failed downloads.",
        "operationId": "get_history_downloads_history_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DownloadHistory"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/downloads/{item_id}/cancel": {
      "post": {
        "tags": [
          "downloads"
        ],
        "summary": "Cancel Download",
        "description": "Cancel an active download.\n\nParameters\n----------\nitem_id : int\n    ID of the download item.\nservice : DownloadService\n    Download service.",
        "operationId": "cancel_download_downloads__item_id__cancel_post",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/downloads/{item_id}": {
      "delete": {
        "tags": [
          "downloads"
        ],
        "summary": "Remove Download",
        "description": "Remove a download item (history or queue).\n\nParameters\n----------\nitem_id : int\n    ID of the download item.\nservice : DownloadService\n    Download service.",
        "operationId": "remove_download_downloads__item_id__delete",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/downloads/import-pending": {
      "post": {
        "tags": [
          "downloads"
        ],
        "summary": "Import Pending Downloads",
        "description": "Trigger import of pending completed downloads.\n\nReturns\n-------\ndict[str, int]\n    Number of imported items.",
        "operationId": "import_pending_downloads_downloads_import_pending_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "integer"
                  },
                  "type": "object",
                  "title": "Response Import Pending Downloads Downloads Import Pending Post"
                }
              }
            }
          }
        }
      }
    },
    "/downloads/{item_id}/retry": {
      "post": {
        "tags": [
          "downloads"
        ],
        "summary": "Retry Download",
        "description": "Retry importing a specific download item.\n\nParameters\n----------\nitem_id : int\n    ID of the download item.\nsession : Session\n    Database session.\nservice : PVRImportService\n    Import service.\n\nReturns\n-------\ndict[str, str]\n    Result message.",
        "operationId": "retry_download_downloads__item_id__retry_post",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Retry Download Downloads  Item Id  Retry Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/fix-single": {
      "post": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "Fix Single Epub",
        "description": "Fix a single EPUB file.\n\nParameters\n----------\nrequest_body : EPUBFixSingleRequest\n    Request with file path and optional metadata.\nhttp_request : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEPUBFixResponse\n    Task ID and message.\n\nRaises\n------\nHTTPException\n    If permission denied or task runner unavailable.",
        "operationId": "fix_single_epub_epub_fixer_fix_single_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EPUBFixSingleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/fix-batch": {
      "post": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "Fix Batch Epub",
        "description": "Fix EPUB files in batch (library scan).\n\nParameters\n----------\nrequest_body : EPUBFixBatchRequest\n    Request with optional library ID.\nhttp_request : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEPUBFixResponse\n    Task ID and message.\n\nRaises\n------\nHTTPException\n    If permission denied or task runner unavailable.",
        "operationId": "fix_batch_epub_epub_fixer_fix_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EPUBFixBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/runs": {
      "get": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "List Fix Runs",
        "description": "List EPUB fix runs with pagination.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npage : int\n    Page number (1-indexed, default: 1).\npage_size : int\n    Number of items per page (default: 50, max: 100).\n\nReturns\n-------\nEPUBFixRunListResponse\n    Paginated list of fix runs.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "list_fix_runs_epub_fixer_runs_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixRunListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/runs/{run_id}": {
      "get": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "Get Fix Run",
        "description": "Get a fix run by ID.\n\nParameters\n----------\nrun_id : int\n    Fix run ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEPUBFixRunRead\n    Fix run details.\n\nRaises\n------\nHTTPException\n    If run not found (404) or permission denied (403).",
        "operationId": "get_fix_run_epub_fixer_runs__run_id__get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixRunRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/runs/{run_id}/fixes": {
      "get": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "Get Fixes For Run",
        "description": "Get all fixes for a fix run.\n\nParameters\n----------\nrun_id : int\n    Fix run ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEPUBFixListResponse\n    List of fixes.\n\nRaises\n------\nHTTPException\n    If run not found (404) or permission denied (403).",
        "operationId": "get_fixes_for_run_epub_fixer_runs__run_id__fixes_get",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/runs/{run_id}/rollback": {
      "post": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "Rollback Fix Run",
        "description": "Rollback a fix run, restoring original files from backups.\n\nParameters\n----------\nrun_id : int\n    Fix run ID to rollback.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEPUBFixRollbackResponse\n    Rollback result with number of files restored.\n\nRaises\n------\nHTTPException\n    If run not found (404), permission denied (403), or rollback failed (400).",
        "operationId": "rollback_fix_run_epub_fixer_runs__run_id__rollback_post",
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixRollbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/epub-fixer/statistics": {
      "get": {
        "tags": [
          "epub-fixer"
        ],
        "summary": "Get Fix Statistics",
        "description": "Get EPUB fix statistics.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nEPUBFixStatisticsRead\n    Fix statistics.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "get_fix_statistics_epub_fixer_statistics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EPUBFixStatisticsRead"
                }
              }
            }
          }
        }
      }
    },
    "/fs/suggest_dirs": {
      "get": {
        "tags": [
          "fs"
        ],
        "summary": "Suggest Dirs",
        "description": "Suggest accessible directories (and optionally files) for a given absolute path prefix.\n\nThe endpoint performs a shallow listing of the candidate parent directory\nand filters results by the final path segment prefix. This allows recursive\nexploration through successive requests without scanning the entire\nfilesystem at once.\n\nParameters\n----------\nq : str, optional\n    Absolute path prefix typed by the user. ``~`` is expanded. When empty,\n    suggestions are produced from the filesystem root ``/`` (excluding\n    obvious system directories defined in ``EXCLUDED_FS_DIR_PREFIXES``).\nlimit : int, optional\n    Maximum number of suggestions to return, by default 50.\ninclude_files : bool, optional\n    Whether to include files in suggestions, by default False (directories only).\n\nReturns\n-------\ndict[str, list[str]]\n    JSON object with a ``suggestions`` list of absolute paths (directories and/or files).\n\nRaises\n------\nHTTPException\n    If the input path attempts path traversal outside the filesystem root\n    context or is otherwise invalid.",
        "operationId": "suggest_dirs_fs_suggest_dirs_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Absolute path or prefix for suggestions.",
              "default": "",
              "title": "Q"
            },
            "description": "Absolute path or prefix for suggestions."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum number of suggestions to return.",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of suggestions to return."
          },
          {
            "name": "include_files",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Whether to include files in suggestions (default: False, directories only).",
              "default": false,
              "title": "Include Files"
            },
            "description": "Whether to include files in suggestions (default: False, directories only)."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "title": "Response Suggest Dirs Fs Suggest Dirs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/indexers": {
      "get": {
        "tags": [
          "indexers"
        ],
        "summary": "List Indexers",
        "description": "List all indexers.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\nenabled_only : bool\n    If True, only return enabled indexers.\n\nReturns\n-------\nIndexerListResponse\n    List of indexers.",
        "operationId": "list_indexers_indexers_get",
        "parameters": [
          {
            "name": "enabled_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Only return enabled indexers",
              "default": false,
              "title": "Enabled Only"
            },
            "description": "Only return enabled indexers"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "indexers"
        ],
        "summary": "Create Indexer",
        "description": "Create a new indexer.\n\nParameters\n----------\ndata : IndexerCreate\n    Indexer creation data.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\nIndexerRead\n    Created indexer.\n\nRaises\n------\nHTTPException\n    If indexer creation fails.",
        "operationId": "create_indexer_indexers_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndexerCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/indexers/{indexer_id}": {
      "get": {
        "tags": [
          "indexers"
        ],
        "summary": "Get Indexer",
        "description": "Get an indexer by ID.\n\nParameters\n----------\nindexer_id : int\n    Indexer ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\nIndexerRead\n    Indexer data.\n\nRaises\n------\nHTTPException\n    If indexer not found.",
        "operationId": "get_indexer_indexers__indexer_id__get",
        "parameters": [
          {
            "name": "indexer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indexer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "indexers"
        ],
        "summary": "Update Indexer",
        "description": "Update an indexer.\n\nParameters\n----------\nindexer_id : int\n    Indexer ID.\ndata : IndexerUpdate\n    Update data (partial).\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\nIndexerRead\n    Updated indexer.\n\nRaises\n------\nHTTPException\n    If indexer not found or update fails.",
        "operationId": "update_indexer_indexers__indexer_id__put",
        "parameters": [
          {
            "name": "indexer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indexer Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndexerUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "indexers"
        ],
        "summary": "Delete Indexer",
        "description": "Delete an indexer.\n\nParameters\n----------\nindexer_id : int\n    Indexer ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nRaises\n------\nHTTPException\n    If indexer not found.",
        "operationId": "delete_indexer_indexers__indexer_id__delete",
        "parameters": [
          {
            "name": "indexer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indexer Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/indexers/test": {
      "post": {
        "tags": [
          "indexers"
        ],
        "summary": "Test Indexer Settings",
        "description": "Test connection with provided settings.\n\nParameters\n----------\ndata : IndexerCreate\n    Indexer settings.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\nIndexerTestResponse\n    Test result.\n\nRaises\n------\nHTTPException\n    If test fails.",
        "operationId": "test_indexer_settings_indexers_test_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IndexerCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/indexers/{indexer_id}/test": {
      "post": {
        "tags": [
          "indexers"
        ],
        "summary": "Test Indexer Connection",
        "description": "Test connection to an indexer.\n\nParameters\n----------\nindexer_id : int\n    Indexer ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\nIndexerTestResponse\n    Test result.\n\nRaises\n------\nHTTPException\n    If indexer not found or test fails.",
        "operationId": "test_indexer_connection_indexers__indexer_id__test_post",
        "parameters": [
          {
            "name": "indexer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indexer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerTestResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/indexers/{indexer_id}/status": {
      "get": {
        "tags": [
          "indexers"
        ],
        "summary": "Get Indexer Status",
        "description": "Get indexer status information.\n\nParameters\n----------\nindexer_id : int\n    Indexer ID.\nsession : SessionDep\n    Database session dependency.\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\nIndexerStatusResponse\n    Indexer status information.\n\nRaises\n------\nHTTPException\n    If indexer not found.",
        "operationId": "get_indexer_status_indexers__indexer_id__status_get",
        "parameters": [
          {
            "name": "indexer_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Indexer Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IndexerStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ingest/config": {
      "get": {
        "tags": [
          "ingest"
        ],
        "summary": "Get Ingest Config",
        "description": "Get ingest configuration.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nIngestConfigResponse\n    Ingest configuration.",
        "operationId": "get_ingest_config_ingest_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestConfigResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "ingest"
        ],
        "summary": "Update Ingest Config",
        "description": "Update ingest configuration.\n\nAutomatically restarts the ingest watcher if watch directory or\nenabled flag changes, so changes take effect immediately.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\nconfig_update : IngestConfigUpdate\n    Configuration updates.\n\nReturns\n-------\nIngestConfigResponse\n    Updated configuration.",
        "operationId": "update_ingest_config_ingest_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IngestConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ingest/history": {
      "get": {
        "tags": [
          "ingest"
        ],
        "summary": "List Ingest History",
        "description": "List ingest history with pagination.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\npage : int\n    Page number (1-indexed, default: 1).\npage_size : int\n    Number of items per page (default: 50, max: 100).\nstatus : IngestStatus | None\n    Optional status filter.\n\nReturns\n-------\nIngestHistoryListResponse\n    Paginated ingest history.",
        "operationId": "list_ingest_history_ingest_history_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/IngestStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestHistoryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ingest/history/{history_id}": {
      "get": {
        "tags": [
          "ingest"
        ],
        "summary": "Get Ingest History",
        "description": "Get ingest history details.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nhistory_id : int\n    Ingest history ID.\n\nReturns\n-------\nIngestHistoryResponse\n    Ingest history details.\n\nRaises\n------\nHTTPException\n    If history not found.",
        "operationId": "get_ingest_history_ingest_history__history_id__get",
        "parameters": [
          {
            "name": "history_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "History Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/ingest/watcher/restart": {
      "post": {
        "tags": [
          "ingest"
        ],
        "summary": "Restart Watcher",
        "description": "Manually restart the ingest watcher.\n\nRestarts the watcher with current configuration. Useful if you need\nto reload watcher settings without changing configuration.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\n\nReturns\n-------\ndict[str, str]\n    Success message.\n\nRaises\n------\nHTTPException\n    If watcher not available.",
        "operationId": "restart_watcher_ingest_watcher_restart_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Restart Watcher Ingest Watcher Restart Post"
                }
              }
            }
          }
        }
      }
    },
    "/ingest/scan": {
      "post": {
        "tags": [
          "ingest"
        ],
        "summary": "Trigger Scan",
        "description": "Manually trigger a directory scan.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\ncurrent_user : AdminUserDep\n    Current authenticated admin user.\n\nReturns\n-------\nIngestScanResponse\n    Scan task information.\n\nRaises\n------\nHTTPException\n    If task runner or watcher not available.",
        "operationId": "trigger_scan_ingest_scan_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestScanResponse"
                }
              }
            }
          }
        }
      }
    },
    "/ingest/retry/{history_id}": {
      "post": {
        "tags": [
          "ingest"
        ],
        "summary": "Retry Ingest",
        "description": "Manually retry a failed ingest.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : AdminUserDep\n    Current authenticated admin user.\nhistory_id : int\n    Ingest history ID to retry.\n\nReturns\n-------\nIngestRetryResponse\n    Retry operation result.\n\nRaises\n------\nHTTPException\n    If history not found, not failed, or task runner not available.",
        "operationId": "retry_ingest_ingest_retry__history_id__post",
        "parameters": [
          {
            "name": "history_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "History Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IngestRetryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kcc/profiles": {
      "get": {
        "tags": [
          "kcc"
        ],
        "summary": "List Kcc Profiles",
        "description": "List all KCC profiles for the current user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nlist[KCCProfileRead]\n    List of user's KCC profiles.",
        "operationId": "list_kcc_profiles_kcc_profiles_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/KCCProfileRead"
                  },
                  "type": "array",
                  "title": "Response List Kcc Profiles Kcc Profiles Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "kcc"
        ],
        "summary": "Create Kcc Profile",
        "description": "Create a new KCC profile for the current user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npayload : KCCProfileCreate\n    Profile creation payload.\n\nReturns\n-------\nKCCProfileRead\n    Created profile.\n\nRaises\n------\nHTTPException\n    If profile creation fails (400).",
        "operationId": "create_kcc_profile_kcc_profiles_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KCCProfileCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KCCProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kcc/profiles/{profile_id}": {
      "get": {
        "tags": [
          "kcc"
        ],
        "summary": "Get Kcc Profile",
        "description": "Get a KCC profile by ID.\n\nParameters\n----------\nprofile_id : int\n    Profile ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nKCCProfileRead\n    Profile details.\n\nRaises\n------\nHTTPException\n    If profile not found (404) or not owned by user (403).",
        "operationId": "get_kcc_profile_kcc_profiles__profile_id__get",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KCCProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "kcc"
        ],
        "summary": "Update Kcc Profile",
        "description": "Update a KCC profile.\n\nParameters\n----------\nprofile_id : int\n    Profile ID to update.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npayload : KCCProfileUpdate\n    Profile update payload.\n\nReturns\n-------\nKCCProfileRead\n    Updated profile.\n\nRaises\n------\nHTTPException\n    If profile not found (404) or update fails (400).",
        "operationId": "update_kcc_profile_kcc_profiles__profile_id__put",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profile Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KCCProfileUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KCCProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "kcc"
        ],
        "summary": "Delete Kcc Profile",
        "description": "Delete a KCC profile.\n\nParameters\n----------\nprofile_id : int\n    Profile ID to delete.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nRaises\n------\nHTTPException\n    If profile not found (404) or not owned by user (403).",
        "operationId": "delete_kcc_profile_kcc_profiles__profile_id__delete",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kcc/profiles/{profile_id}/set-default": {
      "post": {
        "tags": [
          "kcc"
        ],
        "summary": "Set Default Kcc Profile",
        "description": "Set a KCC profile as the user's default.\n\nParameters\n----------\nprofile_id : int\n    Profile ID to set as default.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nKCCProfileRead\n    Updated profile.\n\nRaises\n------\nHTTPException\n    If profile not found (404) or not owned by user (403).",
        "operationId": "set_default_kcc_profile_kcc_profiles__profile_id__set_default_post",
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KCCProfileRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/libraries/active": {
      "get": {
        "tags": [
          "libraries"
        ],
        "summary": "Get Active Library",
        "description": "Get the currently active library.\n\nUnauthenticated requests are allowed only when anonymous browsing is enabled.\nThis is enforced by the ``get_optional_user`` dependency.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nLibraryRead | None\n    The active library if one exists, None otherwise.",
        "operationId": "get_active_library_libraries_active_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/LibraryRead"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Active Library Libraries Active Get"
                }
              }
            }
          }
        }
      }
    },
    "/library-scanning/scan": {
      "post": {
        "tags": [
          "library-scanning"
        ],
        "summary": "Scan Library",
        "description": "Initiate a library scan.\n\nCreates and enqueues a LIBRARY_SCAN task for the specified library.\n\nParameters\n----------\nrequest : ScanRequest\n    Scan request with library_id and optional data_source_config.\nhttp_request : Request\n    FastAPI request object for accessing app state.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : User\n    Current authenticated admin user.\n\nReturns\n-------\nScanResponse\n    Task ID and message.\n\nRaises\n------\nHTTPException\n    If library is not found or scan cannot be initiated.",
        "operationId": "scan_library_library_scanning_scan_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScanResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/library-scanning/state/{library_id}": {
      "get": {
        "tags": [
          "library-scanning"
        ],
        "summary": "Get Scan State",
        "description": "Get scan state for a library.\n\nParameters\n----------\nlibrary_id : int\n    ID of library.\nsession : SessionDep\n    Database session dependency.\n_current_user : Any\n    Current authenticated admin user.\n\nReturns\n-------\nScanStateResponse | None\n    Scan state if found, None otherwise.",
        "operationId": "get_scan_state_library_scanning_state__library_id__get",
        "parameters": [
          {
            "name": "library_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Library Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ScanStateResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Scan State Library Scanning State  Library Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/auth/device": {
      "post": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Auth Device",
        "description": "Handle Kobo device authentication.\n\nParameters\n----------\nrequest : Request\n    FastAPI request.\nsession : SessionDep\n    Database session.\ndevice_auth_service : KoboDeviceAuthService\n    Device auth service.\n\nReturns\n-------\nKoboAuthTokenResponse\n    Auth token response.",
        "operationId": "handle_auth_device_kobo__auth_token__v1_auth_device_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboAuthTokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/initialization": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Initialization",
        "description": "Handle Kobo device initialization.\n\nParameters\n----------\nrequest : Request\n    FastAPI request.\nsession : SessionDep\n    Database session.\nauth_token : str\n    Auth token.\ninit_service : KoboInitializationService\n    Initialization service.\n\nReturns\n-------\nKoboInitializationResponse\n    Initialization response with resources.",
        "operationId": "handle_initialization_kobo__auth_token__v1_initialization_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboInitializationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/sync": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Library Sync",
        "description": "Handle Kobo library sync.\n\nParameters\n----------\nrequest : Request\n    FastAPI request.\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\nlibrary_service : KoboLibraryService\n    Library service.\n\nReturns\n-------\nResponse\n    Sync response with JSON data.",
        "operationId": "handle_library_sync_kobo__auth_token__v1_library_sync_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/{book_uuid}/metadata": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Library Metadata",
        "description": "Handle book metadata request.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nbook_uuid : str\n    Book UUID.\nlibrary_service : KoboLibraryService\n    Library service.\n\nReturns\n-------\nResponse\n    Metadata response or proxy redirect.",
        "operationId": "handle_library_metadata_kobo__auth_token__v1_library__book_uuid__metadata_get",
        "parameters": [
          {
            "name": "book_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/{book_uuid}": {
      "delete": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Library Delete",
        "description": "Handle book deletion request.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\nbook_uuid : str\n    Book UUID.\nlibrary_service : KoboLibraryService\n    Library service.\n\nReturns\n-------\nResponse\n    Empty response (204) or proxy redirect.",
        "operationId": "handle_library_delete_kobo__auth_token__v1_library__book_uuid__delete",
        "parameters": [
          {
            "name": "book_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/{book_uuid}/state": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Reading State Get",
        "description": "Get reading state for a book.\n\nParameters\n----------\nrequest : Request\n    FastAPI request.\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\nauth_token : str\n    Auth token.\nbook_uuid : str\n    Book UUID.\nbook_lookup_service : KoboBookLookupService\n    Book lookup service.\n\nReturns\n-------\nResponse\n    Reading state response or proxy redirect.",
        "operationId": "handle_reading_state_get_kobo__auth_token__v1_library__book_uuid__state_get",
        "parameters": [
          {
            "name": "book_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Reading State Put",
        "description": "Update reading state for a book.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\nbook_uuid : str\n    Book UUID.\nbook_lookup_service : KoboBookLookupService\n    Book lookup service.\nstate_data : KoboReadingStateRequest\n    Reading state update data.\n\nReturns\n-------\nKoboReadingStateUpdateResult\n    Update result.",
        "operationId": "handle_reading_state_put_kobo__auth_token__v1_library__book_uuid__state_put",
        "parameters": [
          {
            "name": "book_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoboReadingStateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboReadingStateUpdateResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/tags": {
      "post": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Tags Create",
        "description": "Create a shelf from Kobo tag request.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\ntag_data : KoboTagRequest\n    Tag creation data.\n\nReturns\n-------\nResponse\n    Shelf UUID response.",
        "operationId": "handle_tags_create_kobo__auth_token__v1_library_tags_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoboTagRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/tags/{tag_id}": {
      "delete": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Tags Update",
        "description": "Update or delete a shelf.\n\nParameters\n----------\nrequest : Request\n    FastAPI request.\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\nauth_token : str\n    Auth token.\ntag_id : str\n    Tag/shelf UUID.\ntag_data : KoboTagRequest | None\n    Tag update data (for PUT).\n\nReturns\n-------\nResponse\n    Empty response.",
        "operationId": "handle_tags_update_kobo__auth_token__v1_library_tags__tag_id__delete",
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/KoboTagRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Tag Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Tags Update",
        "description": "Update or delete a shelf.\n\nParameters\n----------\nrequest : Request\n    FastAPI request.\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\nauth_token : str\n    Auth token.\ntag_id : str\n    Tag/shelf UUID.\ntag_data : KoboTagRequest | None\n    Tag update data (for PUT).\n\nReturns\n-------\nResponse\n    Empty response.",
        "operationId": "handle_tags_update_kobo__auth_token__v1_library_tags__tag_id__put",
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/KoboTagRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Tag Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/tags/{tag_id}/items": {
      "post": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Tags Add Items",
        "description": "Add items to a shelf.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\ntag_id : str\n    Tag/shelf UUID.\nitem_data : KoboTagItemRequest\n    Items to add.\nshelf_item_service : KoboShelfItemService\n    Shelf item service.\n\nReturns\n-------\nResponse\n    Empty response (201).",
        "operationId": "handle_tags_add_items_kobo__auth_token__v1_library_tags__tag_id__items_post",
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoboTagItemRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/v1/library/tags/{tag_id}/items/delete": {
      "post": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Tags Remove Items",
        "description": "Remove items from a shelf.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nkobo_user : User\n    Authenticated user.\ntag_id : str\n    Tag/shelf UUID.\nitem_data : KoboTagItemRequest\n    Items to remove.\nshelf_item_service : KoboShelfItemService\n    Shelf item service.\n\nReturns\n-------\nResponse\n    Empty response (200).",
        "operationId": "handle_tags_remove_items_kobo__auth_token__v1_library_tags__tag_id__items_delete_post",
        "parameters": [
          {
            "name": "tag_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tag Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoboTagItemRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/download/{book_id}/{book_format}": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Download",
        "description": "Download a book file.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nbook_id : int\n    Book ID.\nbook_format : str\n    Book format.\ndownload_service : KoboDownloadService\n    Download service.\n\nReturns\n-------\nFileResponse\n    Book file response.",
        "operationId": "handle_download_kobo__auth_token__download__book_id___book_format__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "book_format",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/{book_uuid}/{width}/{height}/{Quality}/{isGreyscale}/image.jpg": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Cover Image",
        "description": "Handle cover image request.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nbook_uuid : str\n    Book UUID.\nwidth : str\n    Image width.\nheight : str\n    Image height.\nis_greyscale : str\n    Greyscale flag.\ncover_service : KoboCoverService\n    Cover service.\nquality : str\n    Image quality (optional).\n\nReturns\n-------\nFileResponse | Response\n    Cover image or 404/proxy redirect.",
        "operationId": "handle_cover_image_kobo__auth_token___book_uuid___width___height___Quality___isGreyscale__image_jpg_get",
        "parameters": [
          {
            "name": "book_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Uuid"
            }
          },
          {
            "name": "width",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Width"
            }
          },
          {
            "name": "height",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Height"
            }
          },
          {
            "name": "isGreyscale",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Isgreyscale"
            }
          },
          {
            "name": "Quality",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Quality"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}/{book_uuid}/{width}/{height}/{isGreyscale}/image.jpg": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Cover Image",
        "description": "Handle cover image request.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nbook_uuid : str\n    Book UUID.\nwidth : str\n    Image width.\nheight : str\n    Image height.\nis_greyscale : str\n    Greyscale flag.\ncover_service : KoboCoverService\n    Cover service.\nquality : str\n    Image quality (optional).\n\nReturns\n-------\nFileResponse | Response\n    Cover image or 404/proxy redirect.",
        "operationId": "handle_cover_image_kobo__auth_token___book_uuid___width___height___isGreyscale__image_jpg_get",
        "parameters": [
          {
            "name": "book_uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Uuid"
            }
          },
          {
            "name": "width",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Width"
            }
          },
          {
            "name": "height",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Height"
            }
          },
          {
            "name": "isGreyscale",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Isgreyscale"
            }
          },
          {
            "name": "Quality",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "",
              "title": "Quality"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/kobo/{auth_token}": {
      "get": {
        "tags": [
          "kobo"
        ],
        "summary": "Handle Top Level",
        "description": "Handle top-level Kobo endpoint.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\n\nReturns\n-------\ndict[str, object]\n    Empty response.",
        "operationId": "handle_top_level_kobo__auth_token__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Handle Top Level Kobo  Auth Token  Get"
                }
              }
            }
          }
        }
      }
    },
    "/metadata/providers": {
      "get": {
        "tags": [
          "metadata"
        ],
        "summary": "List Providers",
        "description": "List all available metadata providers.\n\nReturns\n-------\nMetadataProvidersResponse\n    List of available metadata providers.\n\nExamples\n--------\n>>> GET / metadata / providers\n{\n    \"providers\": [\n        {\n            \"id\": \"google\",\n            \"name\": \"Google Books\",\n            \"description\": \"Google Books API\",\n            \"base_url\": \"https://books.google.com/\"\n        }\n    ]\n}",
        "operationId": "list_providers_metadata_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataProvidersResponse"
                }
              }
            }
          }
        }
      }
    },
    "/metadata/search": {
      "post": {
        "tags": [
          "metadata"
        ],
        "summary": "Search Metadata",
        "description": "Search for book metadata across multiple providers.\n\nParameters\n----------\nrequest : MetadataSearchRequest\n    Search request with query and optional filters.\n\nReturns\n-------\nMetadataSearchResponse\n    Aggregated search results from all providers.\n\nRaises\n------\nHTTPException\n    If search fails (500) or invalid request (400).\n\nExamples\n--------\n>>> POST / metadata / search\n{\n    \"query\": \"The Great Gatsby\",\n    \"locale\": \"en\",\n    \"max_results_per_provider\": 10,\n    \"enable_providers\": [\"Google Books\", \"Amazon\"]\n}",
        "operationId": "search_metadata_metadata_search_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MetadataSearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "metadata"
        ],
        "summary": "Search Metadata Get",
        "description": "Search for book metadata (GET endpoint for convenience).\n\nParameters\n----------\nquery : str\n    Search query (title, author, ISBN, etc.).\nlocale : str\n    Locale code for localized results (default: 'en').\nmax_results_per_provider : int\n    Maximum results per provider (default: 10, max: 50).\nprovider_ids : str | None\n    Comma-separated list of provider IDs to search.\nenable_providers : str | None\n    Comma-separated list of provider names to enable. If empty or None,\n    all available providers are enabled. Unknown provider names are ignored.\n\nReturns\n-------\nMetadataSearchResponse\n    Aggregated search results from all providers.\n\nRaises\n------\nHTTPException\n    If search fails (500) or invalid request (400).\n\nExamples\n--------\n>>> GET /metadata/search?query=The+Great+Gatsby&locale=en&enable_providers=Google Books,Amazon",
        "operationId": "search_metadata_get_metadata_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query",
              "title": "Query"
            },
            "description": "Search query"
          },
          {
            "name": "locale",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Locale code",
              "default": "en",
              "title": "Locale"
            },
            "description": "Locale code"
          },
          {
            "name": "max_results_per_provider",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Max results per provider",
              "default": 20,
              "title": "Max Results Per Provider"
            },
            "description": "Max results per provider"
          },
          {
            "name": "provider_ids",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of provider IDs",
              "title": "Provider Ids"
            },
            "description": "Comma-separated list of provider IDs"
          },
          {
            "name": "enable_providers",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of provider names to enable",
              "title": "Enable Providers"
            },
            "description": "Comma-separated list of provider names to enable"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/metadata/search/stream": {
      "get": {
        "tags": [
          "metadata"
        ],
        "summary": "Search Metadata Stream",
        "description": "Stream live metadata search events via Server-Sent Events (SSE).\n\nParameters\n----------\nquery : str\n    Search query (title, author, ISBN, etc.).\nlocale : str\n    Locale code (default 'en').\nmax_results_per_provider : int\n    Maximum results per provider (1-50).\nprovider_ids : str | None\n    Comma-separated provider IDs to search; if omitted searches all enabled.\nenable_providers : str | None\n    Comma-separated list of provider names to enable. If empty or None,\n    all available providers are enabled. Unknown provider names are ignored.\nrequest_id : str | None\n    Optional correlation ID; if omitted a UUIDv4 is generated.\n\nReturns\n-------\nStreamingResponse\n    SSE stream of JSON-encoded progress events.",
        "operationId": "search_metadata_stream_metadata_search_stream_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query",
              "title": "Query"
            },
            "description": "Search query"
          },
          {
            "name": "locale",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Locale code",
              "default": "en",
              "title": "Locale"
            },
            "description": "Locale code"
          },
          {
            "name": "max_results_per_provider",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Max results per provider",
              "default": 20,
              "title": "Max Results Per Provider"
            },
            "description": "Max results per provider"
          },
          {
            "name": "provider_ids",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of provider IDs",
              "title": "Provider Ids"
            },
            "description": "Comma-separated list of provider IDs"
          },
          {
            "name": "enable_providers",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of provider names to enable",
              "title": "Enable Providers"
            },
            "description": "Comma-separated list of provider names to enable"
          },
          {
            "name": "request_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Client-provided correlation ID for events",
              "title": "Request Id"
            },
            "description": "Client-provided correlation ID for events"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Index",
        "description": "Return the root OPDS catalog feed with navigation links.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_index_opds__get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/books": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Books",
        "description": "Book listings feed.\n\nReturns paginated list of all books.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.\n\nRaises\n------\nHTTPException\n    If user is not authenticated (401).",
        "operationId": "feed_books_opds_books_get",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/new": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed New",
        "description": "Recently added books feed.\n\nReturns paginated list of recently added books.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.\n\nRaises\n------\nHTTPException\n    If user is not authenticated (401).",
        "operationId": "feed_new_opds_new_get",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/discover": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Discover",
        "description": "Random book discovery feed.\n\nReturns a random selection of books.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\npage_size : int\n    Number of items to return.\n\nReturns\n-------\nResponse\n    OPDS XML feed.\n\nRaises\n------\nHTTPException\n    If user is not authenticated (401).",
        "operationId": "feed_discover_opds_discover_get",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/search": {
      "post": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Search",
        "description": "Search functionality feed.\n\nReturns search results for the given query.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nquery : str | None\n    Search query string.\nsearchTerms : str | None\n    Alternative search query parameter (OpenSearch standard).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.\n\nRaises\n------\nHTTPException\n    If user is not authenticated (401).",
        "operationId": "feed_search_opds_search_post",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          },
          {
            "name": "search_terms",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search Terms"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Search",
        "description": "Search functionality feed.\n\nReturns search results for the given query.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nquery : str | None\n    Search query string.\nsearchTerms : str | None\n    Alternative search query parameter (OpenSearch standard).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.\n\nRaises\n------\nHTTPException\n    If user is not authenticated (401).",
        "operationId": "feed_search_opds_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Query"
            }
          },
          {
            "name": "search_terms",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search Terms"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/osd": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Osd",
        "description": "OpenSearch description XML.\n\nReturns OpenSearch description document for OPDS search.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\n\nReturns\n-------\nResponse\n    OpenSearch description XML.",
        "operationId": "feed_osd_opds_osd_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/search/{query}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Search Path",
        "description": "Alternative search route with path parameter.\n\nHandles search queries from e-readers that use path-based search URLs.\nHandles + instead of spaces in query string.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nquery : str\n    Search query string (may contain + instead of spaces).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_search_path_opds_search__query__get",
        "parameters": [
          {
            "name": "query",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/books/letter/{letter}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Books Letter",
        "description": "Books by first letter feed.\n\nReturns books starting with the specified letter (or \"00\" for all).\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nletter : str\n    First letter of book title sort (or \"00\" for all).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_books_letter_opds_books_letter__letter__get",
        "parameters": [
          {
            "name": "letter",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Letter"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/rated": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Rated",
        "description": "Best rated books feed.\n\nReturns books with high ratings (>= 4.5 stars).\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\noffset : int\n    Pagination offset (OPDS standard).\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_rated_opds_rated_get",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/download/{book_id}/{book_format}": {
      "head": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Download",
        "description": "Download book file via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for download).\nbook_id : int\n    Book ID.\nbook_format : str\n    File format (e.g., 'EPUB', 'PDF').\n\nReturns\n-------\nResponse\n    Book file or error response.",
        "operationId": "opds_download_opds_download__book_id___book_format__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "book_format",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Download",
        "description": "Download book file via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for download).\nbook_id : int\n    Book ID.\nbook_format : str\n    File format (e.g., 'EPUB', 'PDF').\n\nReturns\n-------\nResponse\n    Book file or error response.",
        "operationId": "opds_download_opds_download__book_id___book_format__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "book_format",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Book Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/thumb_240_240/{book_id}": {
      "head": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_thumb_240_240__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_thumb_240_240__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/cover_240_240/{book_id}": {
      "head": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_cover_240_240__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_cover_240_240__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/cover_90_90/{book_id}": {
      "head": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_cover_90_90__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_cover_90_90__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/cover/{book_id}": {
      "head": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_cover__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Cover",
        "description": "Get book cover image via OPDS.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required for book access).\nbook_id : int\n    Book ID.\n\nReturns\n-------\nResponse\n    Cover image file or 404 response.",
        "operationId": "opds_cover_opds_cover__book_id__head",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/stats": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Opds Stats",
        "description": "Get database statistics.\n\nReturns JSON with library statistics.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\n\nReturns\n-------\nResponse\n    JSON response with statistics.",
        "operationId": "opds_stats_opds_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/author": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Author Index",
        "description": "Return author index feed.\n\nReturns list of authors for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_author_index_opds_author_get",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/author/letter/{letter}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Author Letter",
        "description": "Return authors by letter feed.\n\nReturns authors starting with the specified letter.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nletter : str\n    First letter of author sort name.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_author_letter_opds_author_letter__letter__get",
        "parameters": [
          {
            "name": "letter",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Letter"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/author/{author_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Author",
        "description": "Books by author feed.\n\nReturns books by the specified author.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nauthor_id : int\n    Author ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_author_opds_author__author_id__get",
        "parameters": [
          {
            "name": "author_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Author Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/publisher": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Publisher Index",
        "description": "Return publisher index feed.\n\nReturns list of publishers for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_publisher_index_opds_publisher_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/publisher/{publisher_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Publisher",
        "description": "Books by publisher feed.\n\nReturns books by the specified publisher.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\npublisher_id : int\n    Publisher ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_publisher_opds_publisher__publisher_id__get",
        "parameters": [
          {
            "name": "publisher_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Publisher Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/category": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Category Index",
        "description": "Category/Tag index feed.\n\nReturns list of tags/categories for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_category_index_opds_category_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/category/letter/{letter}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Category Letter",
        "description": "Categories by letter feed.\n\nReturns categories starting with the specified letter.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nletter : str\n    First letter of category name.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_category_letter_opds_category_letter__letter__get",
        "parameters": [
          {
            "name": "letter",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Letter"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/category/{category_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Category",
        "description": "Books by category/tag feed.\n\nReturns books with the specified tag/category.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\ncategory_id : int\n    Tag/Category ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_category_opds_category__category_id__get",
        "parameters": [
          {
            "name": "category_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Category Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/series": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Series Index",
        "description": "Series index feed.\n\nReturns list of series for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_series_index_opds_series_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/series/letter/{letter}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Series Letter",
        "description": "Series by letter feed.\n\nReturns series starting with the specified letter.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nletter : str\n    First letter of series sort name.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_series_letter_opds_series_letter__letter__get",
        "parameters": [
          {
            "name": "letter",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Letter"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/series/{series_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Series",
        "description": "Books by series feed.\n\nReturns books in the specified series.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nseries_id : int\n    Series ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_series_opds_series__series_id__get",
        "parameters": [
          {
            "name": "series_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Series Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/ratings": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Rating Index",
        "description": "Rating index feed.\n\nReturns list of ratings for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_rating_index_opds_ratings_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/ratings/{rating_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Ratings",
        "description": "Books by rating feed.\n\nReturns books with the specified rating.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nrating_id : int\n    Rating ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_ratings_opds_ratings__rating_id__get",
        "parameters": [
          {
            "name": "rating_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Rating Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/formats": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Format Index",
        "description": "Format index feed.\n\nReturns list of available formats for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_format_index_opds_formats_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/formats/{format_name}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Format",
        "description": "Books by format feed.\n\nReturns books in the specified format.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nformat_name : str\n    Format name (e.g., 'EPUB', 'PDF').\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_format_opds_formats__format_name__get",
        "parameters": [
          {
            "name": "format_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Format Name"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/language": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Language Index",
        "description": "Language index feed.\n\nReturns list of languages for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_language_index_opds_language_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/language/{language_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Language",
        "description": "Books by language feed.\n\nReturns books in the specified language.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nlanguage_id : int\n    Language ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_language_opds_language__language_id__get",
        "parameters": [
          {
            "name": "language_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Language Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/shelfindex": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Shelf Index",
        "description": "Shelf index feed.\n\nReturns list of shelves for browsing.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_shelf_index_opds_shelfindex_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/shelf/{shelf_id}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Shelf",
        "description": "Books in shelf feed.\n\nReturns books in the specified shelf.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nshelf_id : int\n    Shelf ID.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_shelf_opds_shelf__shelf_id__get",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/hot": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Hot",
        "description": "Hot/popular books feed.\n\nReturns most downloaded books.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_hot_opds_hot_get",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/opds/readbooks": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Read Books",
        "description": "Read books feed.\n\nReturns books marked as read by the user.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required).\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_read_books_opds_readbooks_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/unreadbooks": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Feed Unread Books",
        "description": "Unread books feed.\n\nReturns books not yet read by the user.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user (required).\noffset : int\n    Pagination offset.\npage_size : int\n    Number of items per page.\n\nReturns\n-------\nResponse\n    OPDS XML feed.",
        "operationId": "feed_unread_books_opds_unreadbooks_get",
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/opds/ajax/book/{uuid}": {
      "get": {
        "tags": [
          "opds"
        ],
        "summary": "Get Metadata Calibre Companion",
        "description": "Calibre Companion metadata endpoint.\n\nReturns book metadata in JSON format for Calibre Companion app.\n\nParameters\n----------\nsession : SessionDep\n    Database session.\nopds_user : User | None\n    Authenticated user.\nuuid : str\n    Book UUID (partial match supported).\n\nReturns\n-------\nResponse\n    JSON response with book metadata.",
        "operationId": "get_metadata_calibre_companion_opds_ajax_book__uuid__get",
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/plugins/": {
      "get": {
        "tags": [
          "plugins"
        ],
        "summary": "List Plugins",
        "description": "List installed Calibre plugins.\n\nRequires superuser privileges.",
        "operationId": "list_plugins_plugins__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/PluginInfo"
                  },
                  "type": "array",
                  "title": "Response List Plugins Plugins  Get"
                }
              }
            }
          }
        }
      }
    },
    "/plugins/upload": {
      "post": {
        "tags": [
          "plugins"
        ],
        "summary": "Install Plugin Upload",
        "description": "Install a plugin from an uploaded ZIP file.\n\nRequires superuser privileges.",
        "operationId": "install_plugin_upload_plugins_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_install_plugin_upload_plugins_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Install Plugin Upload Plugins Upload Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/plugins/git": {
      "post": {
        "tags": [
          "plugins"
        ],
        "summary": "Install Plugin Git",
        "description": "Install a plugin from a Git repository.\n\nRequires superuser privileges.",
        "operationId": "install_plugin_git_plugins_git_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PluginInstallRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Install Plugin Git Plugins Git Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/plugins/url": {
      "post": {
        "tags": [
          "plugins"
        ],
        "summary": "Install Plugin Url",
        "description": "Install a plugin from a URL (downloads ZIP).\n\nRequires superuser privileges.",
        "operationId": "install_plugin_url_plugins_url_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PluginUrlInstallRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Install Plugin Url Plugins Url Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/plugins/{plugin_name}": {
      "delete": {
        "tags": [
          "plugins"
        ],
        "summary": "Remove Plugin",
        "description": "Remove an installed plugin.\n\nRequires superuser privileges.",
        "operationId": "remove_plugin_plugins__plugin_name__delete",
        "parameters": [
          {
            "name": "plugin_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plugin Name"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/plugins/dedrm/sync": {
      "post": {
        "tags": [
          "plugins"
        ],
        "summary": "Sync Dedrm Config",
        "description": "Sync DeDRM configuration with device serial numbers.\n\nRequires superuser privileges.",
        "operationId": "sync_dedrm_config_plugins_dedrm_sync_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Sync Dedrm Config Plugins Dedrm Sync Post"
                }
              }
            }
          }
        }
      }
    },
    "/prowlarr/config": {
      "get": {
        "tags": [
          "prowlarr"
        ],
        "summary": "Get Prowlarr Config",
        "description": "Get Prowlarr configuration.\n\nReturns the current Prowlarr configuration. If none exists, creates\ndefault configuration.\n\nPermissions\n-----------\nRequires admin privileges.",
        "operationId": "get_prowlarr_config_prowlarr_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProwlarrConfigRead"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "prowlarr"
        ],
        "summary": "Update Prowlarr Config",
        "description": "Update Prowlarr configuration.\n\nPermissions\n-----------\nRequires admin privileges.",
        "operationId": "update_prowlarr_config_prowlarr_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProwlarrConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProwlarrConfigRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prowlarr/sync": {
      "post": {
        "tags": [
          "prowlarr"
        ],
        "summary": "Sync Prowlarr Indexers",
        "description": "Manually trigger Prowlarr indexer sync.\n\nFetches indexers from Prowlarr and updates the local indexer definitions.\n\nPermissions\n-----------\nRequires admin privileges.",
        "operationId": "sync_prowlarr_indexers_prowlarr_sync_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "integer"
                  },
                  "type": "object",
                  "title": "Response Sync Prowlarr Indexers Prowlarr Sync Post"
                }
              }
            }
          }
        }
      }
    },
    "/pvr/search": {
      "post": {
        "tags": [
          "pvr-search"
        ],
        "summary": "Search Tracked Book",
        "description": "Initiate manual search for a tracked book.\n\nSearches all enabled indexers (or specified indexers) for the tracked book\nand stores results in cache for later retrieval.",
        "operationId": "search_tracked_book_pvr_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PVRSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PVRSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/pvr/search/{tracked_book_id}/results": {
      "get": {
        "tags": [
          "pvr-search"
        ],
        "summary": "Get Search Results",
        "description": "Get search results for a tracked book.\n\nRetrieves cached search results from the most recent search.",
        "operationId": "get_search_results_pvr_search__tracked_book_id__results_get",
        "parameters": [
          {
            "name": "tracked_book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tracked Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PVRSearchResultsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/pvr/search/{tracked_book_id}/download": {
      "post": {
        "tags": [
          "pvr-search"
        ],
        "summary": "Trigger Download",
        "description": "Trigger download for a specific release from search results.\n\nInitiates download of the release at the specified index in the search results.",
        "operationId": "trigger_download_pvr_search__tracked_book_id__download_post",
        "parameters": [
          {
            "name": "tracked_book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tracked Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PVRDownloadRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PVRDownloadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/progress": {
      "put": {
        "tags": [
          "reading"
        ],
        "summary": "Update Progress",
        "description": "Update reading progress for a book.\n\nParameters\n----------\nprogress_data : ReadingProgressCreate\n    Progress update data.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadingProgressRead\n    Updated reading progress.\n\nRaises\n------\nHTTPException\n    If permission denied (403) or validation error (400).",
        "operationId": "update_progress_reading_progress_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingProgressCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingProgressRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/progress/{book_id}": {
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "Get Progress",
        "description": "Get reading progress for a book.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nbook_format : str\n    Book format (EPUB, PDF, etc.).\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadingProgressRead\n    Reading progress data.\n\nRaises\n------\nHTTPException\n    If progress not found (404) or permission denied (403).",
        "operationId": "get_progress_reading_progress__book_id__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Book format (EPUB, PDF, etc.)",
              "title": "Format"
            },
            "description": "Book format (EPUB, PDF, etc.)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingProgressRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/sessions": {
      "post": {
        "tags": [
          "reading"
        ],
        "summary": "Start Session",
        "description": "Start a reading session.\n\nParameters\n----------\nsession_data : ReadingSessionCreate\n    Session creation data.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadingSessionRead\n    Created reading session.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "start_session_reading_sessions_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingSessionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingSessionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "List Sessions",
        "description": "List reading sessions.\n\nParameters\n----------\nbook_id : int | None\n    Filter by book ID (optional).\npage : int\n    Page number (default: 1).\npage_size : int\n    Items per page (default: 50, max: 100).\ndb_session : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadingSessionsListResponse\n    List of reading sessions with pagination.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "list_sessions_reading_sessions_get",
        "parameters": [
          {
            "name": "book_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by book ID",
              "title": "Book Id"
            },
            "description": "Filter by book ID"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 50,
              "title": "Page Size"
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingSessionsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/sessions/{session_id}": {
      "put": {
        "tags": [
          "reading"
        ],
        "summary": "End Session",
        "description": "End a reading session.\n\nParameters\n----------\nsession_id : int\n    Session ID.\nsession_end_data : ReadingSessionEnd\n    Session end data.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\n\nReturns\n-------\nReadingSessionRead\n    Updated reading session.\n\nRaises\n------\nHTTPException\n    If session not found (404), permission denied (403), or validation error (400).",
        "operationId": "end_session_reading_sessions__session_id__put",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingSessionEnd"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingSessionRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/recent": {
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "Get Recent Reads",
        "description": "Get recent reads for the current user.\n\nParameters\n----------\nlimit : int\n    Maximum number of recent reads (default: 10, max: 100).\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nRecentReadsResponse\n    List of recent reads.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "get_recent_reads_reading_recent_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of recent reads",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum number of recent reads"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecentReadsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/history/{book_id}": {
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "Get Reading History",
        "description": "Get reading history for a book.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nlimit : int\n    Maximum number of sessions (default: 50, max: 100).\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadingHistoryResponse\n    Reading history for the book.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "get_reading_history_reading_history__book_id__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of sessions",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of sessions"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadingHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/reading/status/{book_id}": {
      "put": {
        "tags": [
          "reading"
        ],
        "summary": "Update Read Status",
        "description": "Manually mark a book as read or unread.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nstatus_data : ReadStatusUpdate\n    Status update data.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadStatusRead\n    Updated read status.\n\nRaises\n------\nHTTPException\n    If permission denied (403) or invalid status (400).",
        "operationId": "update_read_status_reading_status__book_id__put",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadStatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadStatusRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "reading"
        ],
        "summary": "Get Read Status",
        "description": "Get read status for a book.\n\nParameters\n----------\nbook_id : int\n    Book ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nreading_service : ReadingServiceDep\n    Reading service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nReadStatusRead\n    Read status data.\n\nRaises\n------\nHTTPException\n    If status not found (404) or permission denied (403).",
        "operationId": "get_read_status_reading_status__book_id__get",
        "parameters": [
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadStatusRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves": {
      "get": {
        "tags": [
          "shelves"
        ],
        "summary": "List Shelves",
        "description": "List shelves accessible to the current user.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nShelfListResponse\n    List of shelves with total count.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "list_shelves_shelves_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShelfListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "shelves"
        ],
        "summary": "Create Shelf",
        "description": "Create a new shelf.\n\nParameters\n----------\nshelf_data : ShelfCreate\n    Shelf creation data.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nShelfRead\n    Created shelf data.\n\nRaises\n------\nHTTPException\n    If shelf name already exists or permission denied (403).",
        "operationId": "create_shelf_shelves_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShelfCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShelfRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves/{shelf_id}": {
      "get": {
        "tags": [
          "shelves"
        ],
        "summary": "Get Shelf",
        "description": "Get a shelf by ID.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nShelfRead\n    Shelf data.\n\nRaises\n------\nHTTPException\n    If shelf not found, user cannot view it, or permission denied (403).",
        "operationId": "get_shelf_shelves__shelf_id__get",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShelfRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "shelves"
        ],
        "summary": "Update Shelf",
        "description": "Update a shelf.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID to update.\nshelf_data : ShelfUpdate\n    Shelf update data.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nShelfRead\n    Updated shelf data.\n\nRaises\n------\nHTTPException\n    If shelf not found, permission denied, or name conflict.",
        "operationId": "update_shelf_shelves__shelf_id__patch",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShelfUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShelfRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "shelves"
        ],
        "summary": "Delete Shelf",
        "description": "Delete a shelf.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID to delete.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nRaises\n------\nHTTPException\n    If shelf not found or permission denied.",
        "operationId": "delete_shelf_shelves__shelf_id__delete",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves/{shelf_id}/books/{book_id}": {
      "post": {
        "tags": [
          "shelves"
        ],
        "summary": "Add Book To Shelf",
        "description": "Add a book to a shelf.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID.\nbook_id : int\n    Calibre book ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\n\nRaises\n------\nHTTPException\n    If shelf not found, permission denied, or book already in shelf.",
        "operationId": "add_book_to_shelf_shelves__shelf_id__books__book_id__post",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          },
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "shelves"
        ],
        "summary": "Remove Book From Shelf",
        "description": "Remove a book from a shelf.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID.\nbook_id : int\n    Calibre book ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\n\nRaises\n------\nHTTPException\n    If shelf not found, permission denied, or book not in shelf.",
        "operationId": "remove_book_from_shelf_shelves__shelf_id__books__book_id__delete",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          },
          {
            "name": "book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Book Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves/{shelf_id}/books/reorder": {
      "post": {
        "tags": [
          "shelves"
        ],
        "summary": "Reorder Shelf Books",
        "description": "Reorder books in a shelf.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID.\nreorder_data : ShelfReorderRequest\n    Book order mapping.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\n\nRaises\n------\nHTTPException\n    If shelf not found or permission denied.",
        "operationId": "reorder_shelf_books_shelves__shelf_id__books_reorder_post",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShelfReorderRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves/{shelf_id}/books": {
      "get": {
        "tags": [
          "shelves"
        ],
        "summary": "Get Shelf Books",
        "description": "List book IDs in a shelf with pagination and sorting.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\npage : int\n    Page number (1-indexed).\npage_size : int\n    Number of items per page.\nsort_by : str\n    Sort field: 'order', 'date_added', or 'book_id'.\nsort_order : str\n    Sort order: 'asc' or 'desc'.\n\nReturns\n-------\nlist[int]\n    List of book IDs in the shelf.\n\nRaises\n------\nHTTPException\n    If shelf not found or user cannot view it.",
        "operationId": "get_shelf_books_shelves__shelf_id__books_get",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page",
              "default": 20,
              "title": "Page Size"
            },
            "description": "Items per page"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort field: 'order', 'date_added', 'book_id'",
              "default": "order",
              "title": "Sort By"
            },
            "description": "Sort field: 'order', 'date_added', 'book_id'"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort order: 'asc' or 'desc'",
              "default": "asc",
              "title": "Sort Order"
            },
            "description": "Sort order: 'asc' or 'desc'"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "integer"
                  },
                  "title": "Response Get Shelf Books Shelves  Shelf Id  Books Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves/{shelf_id}/cover-picture": {
      "post": {
        "tags": [
          "shelves"
        ],
        "summary": "Upload Shelf Cover Picture",
        "description": "Upload a shelf's cover picture.\n\nAccepts an image file and saves it to {data_directory}/shelves/{shelf_id}/{filename}.\nReplaces any existing cover picture.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nshelf_id : int\n    Shelf identifier.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\nfile : UploadFile\n    Image file to upload (JPEG, PNG, GIF, WebP, or SVG).\n\nReturns\n-------\nShelfRead\n    Updated shelf data.\n\nRaises\n------\nHTTPException\n    If shelf not found (404), permission denied (403), invalid file type (400),\n    or file save fails (500).",
        "operationId": "upload_shelf_cover_picture_shelves__shelf_id__cover_picture_post",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_shelf_cover_picture_shelves__shelf_id__cover_picture_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShelfRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "shelves"
        ],
        "summary": "Get Shelf Cover Picture",
        "description": "Get a shelf's cover picture.\n\nServes the cover picture file if it exists. Public shelves can be viewed\nby anyone; private shelves can only be viewed by the owner.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nshelf_id : int\n    Shelf identifier.\nsession : SessionDep\n    Database session dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nFileResponse | Response\n    Cover picture file or 404 if not found.",
        "operationId": "get_shelf_cover_picture_shelves__shelf_id__cover_picture_get",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "shelves"
        ],
        "summary": "Delete Shelf Cover Picture",
        "description": "Delete a shelf's cover picture.\n\nRemoves the cover picture file and clears the shelf's cover_picture field.\n\nParameters\n----------\nshelf_id : int\n    Shelf identifier.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\n\nReturns\n-------\nShelfRead\n    Updated shelf data.\n\nRaises\n------\nHTTPException\n    If shelf not found (404) or permission denied (403).",
        "operationId": "delete_shelf_cover_picture_shelves__shelf_id__cover_picture_delete",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShelfRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/shelves/{shelf_id}/import": {
      "post": {
        "tags": [
          "shelves"
        ],
        "summary": "Import Read List",
        "description": "Import a read list from a file into a shelf.\n\nParameters\n----------\nshelf_id : int\n    Shelf ID to import into.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\nshelf_service : ShelfServiceDep\n    Shelf service dependency.\nlibrary_id : ActiveLibraryIdDep\n    Active library ID dependency.\nfile : UploadFile\n    Read list file to import (.cbl, etc.).\nimporter : str\n    Name of the importer to use (default: \"comicrack\").\nauto_match : bool\n    If True, automatically add matched books to shelf (default: False).\n\nReturns\n-------\nImportResultSchema\n    Import result with matched and unmatched books.\n\nRaises\n------\nHTTPException\n    If shelf not found, permission denied, or import fails.",
        "operationId": "import_read_list_shelves__shelf_id__import_post",
        "parameters": [
          {
            "name": "shelf_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Shelf Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_read_list_shelves__shelf_id__import_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ImportResultSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks": {
      "get": {
        "tags": [
          "tasks"
        ],
        "summary": "List Tasks",
        "description": "List tasks with optional filters.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\npage : int\n    Page number (1-indexed, default: 1).\npage_size : int\n    Number of items per page (default: 50, max: 100).\nstatus : TaskStatus | None\n    Optional status filter.\ntask_type : TaskType | None\n    Optional task type filter.\n\nReturns\n-------\nTaskListResponse\n    Paginated list of tasks.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "list_tasks_tasks_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TaskStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "task_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TaskType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}": {
      "get": {
        "tags": [
          "tasks"
        ],
        "summary": "Get Task",
        "description": "Get a task by ID.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\ntask_id : int\n    Task ID.\n\nReturns\n-------\nTaskRead\n    Task details.\n\nRaises\n------\nHTTPException\n    If task not found (404) or permission denied (403).",
        "operationId": "get_task_tasks__task_id__get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}/cancel": {
      "post": {
        "tags": [
          "tasks"
        ],
        "summary": "Cancel Task",
        "description": "Cancel a task.\n\nParameters\n----------\nrequest : Request\n    FastAPI request object.\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\ntask_id : int\n    Task ID to cancel.\n\nReturns\n-------\nTaskCancelResponse\n    Cancellation result.\n\nRaises\n------\nHTTPException\n    If task not found (404) or permission denied (403).",
        "operationId": "cancel_task_tasks__task_id__cancel_post",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskCancelResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/statistics": {
      "get": {
        "tags": [
          "tasks"
        ],
        "summary": "Get Task Statistics",
        "description": "Get task statistics.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\ntask_type : TaskType | None\n    Optional task type filter.\n\nReturns\n-------\nlist[TaskStatisticsRead]\n    List of task statistics.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "get_task_statistics_tasks_statistics_get",
        "parameters": [
          {
            "name": "task_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TaskType"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TaskStatisticsRead"
                  },
                  "title": "Response Get Task Statistics Tasks Statistics Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/types": {
      "get": {
        "tags": [
          "tasks"
        ],
        "summary": "Get Task Types",
        "description": "Get list of available task types.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\ncurrent_user : CurrentUserDep\n    Current authenticated user.\n\nReturns\n-------\nTaskTypesResponse\n    List of available task types.\n\nRaises\n------\nHTTPException\n    If permission denied (403).",
        "operationId": "get_task_types_tasks_types_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskTypesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/tracked-books/search/suggestions": {
      "get": {
        "tags": [
          "tracked-books"
        ],
        "summary": "Search Tracked Book Suggestions",
        "description": "Get search suggestions for tracked books.\n\nParameters\n----------\nq : str\n    Search query.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\ndict[str, Any]\n    Search suggestions.",
        "operationId": "search_tracked_book_suggestions_tracked_books_search_suggestions_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Q"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Search Tracked Book Suggestions Tracked Books Search Suggestions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tracked-books": {
      "get": {
        "tags": [
          "tracked-books"
        ],
        "summary": "List Tracked Books",
        "description": "List tracked books.\n\nParameters\n----------\nsession : SessionDep\n    Database session dependency.\nstatus_filter : TrackedBookStatus | None\n    Optional status filter.\n\nReturns\n-------\nTrackedBookListResponse\n    List of tracked books.",
        "operationId": "list_tracked_books_tracked_books_get",
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/TrackedBookStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status Filter"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackedBookListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "tracked-books"
        ],
        "summary": "Create Tracked Book",
        "description": "Add a book to track.\n\nParameters\n----------\ndata : TrackedBookCreate\n    Tracked book creation data.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nTrackedBookRead\n    Created tracked book.\n\nRaises\n------\nHTTPException\n    If book creation fails (e.g. already tracked).",
        "operationId": "create_tracked_book_tracked_books_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrackedBookCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackedBookRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tracked-books/{tracked_book_id}": {
      "get": {
        "tags": [
          "tracked-books"
        ],
        "summary": "Get Tracked Book",
        "description": "Get a tracked book by ID.\n\nParameters\n----------\ntracked_book_id : int\n    Tracked book ID.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nTrackedBookRead\n    Tracked book data.\n\nRaises\n------\nHTTPException\n    If tracked book not found.",
        "operationId": "get_tracked_book_tracked_books__tracked_book_id__get",
        "parameters": [
          {
            "name": "tracked_book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tracked Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackedBookRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "tracked-books"
        ],
        "summary": "Update Tracked Book",
        "description": "Update a tracked book.\n\nParameters\n----------\ntracked_book_id : int\n    Tracked book ID.\ndata : TrackedBookUpdate\n    Update data.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nTrackedBookRead\n    Updated tracked book.\n\nRaises\n------\nHTTPException\n    If tracked book not found.",
        "operationId": "update_tracked_book_tracked_books__tracked_book_id__put",
        "parameters": [
          {
            "name": "tracked_book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tracked Book Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrackedBookUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackedBookRead"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "tracked-books"
        ],
        "summary": "Delete Tracked Book",
        "description": "Stop tracking a book (delete tracked book entry).\n\nParameters\n----------\ntracked_book_id : int\n    Tracked book ID.\nsession : SessionDep\n    Database session dependency.\n\nRaises\n------\nHTTPException\n    If tracked book not found.",
        "operationId": "delete_tracked_book_tracked_books__tracked_book_id__delete",
        "parameters": [
          {
            "name": "tracked_book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tracked Book Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tracked-books/{tracked_book_id}/status": {
      "get": {
        "tags": [
          "tracked-books"
        ],
        "summary": "Get Tracked Book Status",
        "description": "Get tracking status (and trigger re-check of library match).\n\nParameters\n----------\ntracked_book_id : int\n    Tracked book ID.\nsession : SessionDep\n    Database session dependency.\n\nReturns\n-------\nTrackedBookStatusResponse\n    Status information.\n\nRaises\n------\nHTTPException\n    If tracked book not found.",
        "operationId": "get_tracked_book_status_tracked_books__tracked_book_id__status_get",
        "parameters": [
          {
            "name": "tracked_book_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Tracked Book Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackedBookStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint for Docker and load balancers.\n\nReturns\n-------\nJSONResponse\n    JSON response with status \"ok\".",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AdminUserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin",
            "default": false
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "role_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Role Ids"
          },
          "default_device_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Email",
            "description": "E-reader email for default device"
          },
          "default_device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Name",
            "description": "Optional device name"
          },
          "default_device_type": {
            "type": "string",
            "title": "Default Device Type",
            "description": "Device type",
            "default": "kindle"
          },
          "default_device_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Format",
            "description": "Preferred format (e.g., 'epub', 'mobi')"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "password"
        ],
        "title": "AdminUserCreate",
        "description": "Payload to create a new user with optional role and device assignment."
      },
      "AdminUserUpdate": {
        "properties": {
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 8
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          },
          "is_admin": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Admin"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "role_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Role Ids"
          },
          "default_device_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Email",
            "description": "E-reader email for default device"
          },
          "default_device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Name",
            "description": "Optional device name"
          },
          "default_device_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Type",
            "description": "Device type"
          },
          "default_device_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Device Format",
            "description": "Preferred format (e.g., 'epub', 'mobi')"
          }
        },
        "type": "object",
        "title": "AdminUserUpdate",
        "description": "Payload to update user properties."
      },
      "AuthConfigResponse": {
        "properties": {
          "oidc_enabled": {
            "type": "boolean",
            "title": "Oidc Enabled"
          },
          "oidc_issuer": {
            "type": "string",
            "title": "Oidc Issuer"
          },
          "local_login_enabled": {
            "type": "boolean",
            "title": "Local Login Enabled"
          }
        },
        "type": "object",
        "required": [
          "oidc_enabled",
          "oidc_issuer",
          "local_login_enabled"
        ],
        "title": "AuthConfigResponse",
        "description": "Authentication configuration exposed to clients.\n\nAttributes\n----------\noidc_enabled : bool\n    Whether OIDC authentication is enabled.\noidc_issuer : str\n    Configured OIDC issuer URL (may be empty if disabled).\nlocal_login_enabled : bool\n    Whether local username/password login should be offered to users."
      },
      "AuthorMergeRecommendRequest": {
        "properties": {
          "author_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 2,
            "title": "Author Ids",
            "description": "Author IDs to merge"
          }
        },
        "type": "object",
        "required": [
          "author_ids"
        ],
        "title": "AuthorMergeRecommendRequest",
        "description": "Request model for author merge recommendation.\n\nAttributes\n----------\nauthor_ids : list[str]\n    List of author IDs to merge (author_metadata IDs or OpenLibrary keys)."
      },
      "AuthorMergeRequest": {
        "properties": {
          "author_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 2,
            "title": "Author Ids",
            "description": "Author IDs to merge"
          },
          "keep_author_id": {
            "type": "string",
            "title": "Keep Author Id",
            "description": "Author ID to keep"
          }
        },
        "type": "object",
        "required": [
          "author_ids",
          "keep_author_id"
        ],
        "title": "AuthorMergeRequest",
        "description": "Request model for author merge operation.\n\nAttributes\n----------\nauthor_ids : list[str]\n    List of author IDs to merge (author_metadata IDs or OpenLibrary keys).\nkeep_author_id : str\n    Author ID to keep (others will be merged into this one)."
      },
      "AuthorUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "personal_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personal Name"
          },
          "fuller_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fuller Name"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date"
          },
          "death_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Death Date"
          },
          "entity_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Entity Type"
          },
          "biography": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Biography"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "photo_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Photo Url"
          },
          "genres": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Genres"
          },
          "styles": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Styles"
          },
          "shelves": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shelves"
          },
          "similar_authors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Similar Authors"
          }
        },
        "type": "object",
        "title": "AuthorUpdate",
        "description": "Author update payload for editing author metadata.\n\nAttributes\n----------\nname : str | None\n    Author name.\npersonal_name : str | None\n    Personal name (if different from name).\nfuller_name : str | None\n    Fuller name.\ntitle : str | None\n    Title (e.g., \"OBE\").\nbirth_date : str | None\n    Birth date.\ndeath_date : str | None\n    Death date.\nentity_type : str | None\n    Entity type.\nbiography : str | None\n    Biography text.\nlocation : str | None\n    Location/country.\nphoto_url : str | None\n    Photo URL (deprecated, use photo upload endpoints).\ngenres : list[str] | None\n    Genres associated with author (user-defined).\nstyles : list[str] | None\n    Styles associated with author (user-defined).\nshelves : list[str] | None\n    Shelves associated with author (user-defined).\nsimilar_authors : list[str] | None\n    Similar authors (array of author keys or names, user-defined)."
      },
      "BasicConfigRead": {
        "properties": {
          "allow_anonymous_browsing": {
            "type": "boolean",
            "title": "Allow Anonymous Browsing",
            "description": "Whether anonymous users can browse the library.",
            "default": false
          },
          "allow_public_registration": {
            "type": "boolean",
            "title": "Allow Public Registration",
            "description": "Whether public user registration is allowed.",
            "default": false
          },
          "require_email_for_registration": {
            "type": "boolean",
            "title": "Require Email For Registration",
            "description": "Whether email is required for user registration.",
            "default": false
          },
          "max_upload_size_mb": {
            "type": "integer",
            "title": "Max Upload Size Mb",
            "description": "Maximum file upload size in megabytes.",
            "default": 100
          }
        },
        "type": "object",
        "title": "BasicConfigRead",
        "description": "Read model for basic system configuration."
      },
      "BasicConfigUpdate": {
        "properties": {
          "allow_anonymous_browsing": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allow Anonymous Browsing",
            "description": "Whether anonymous users can browse the library."
          },
          "allow_public_registration": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allow Public Registration",
            "description": "Whether public user registration is allowed."
          },
          "require_email_for_registration": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Email For Registration",
            "description": "Whether email is required for user registration."
          },
          "max_upload_size_mb": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Upload Size Mb",
            "description": "Maximum file upload size in megabytes."
          }
        },
        "type": "object",
        "title": "BasicConfigUpdate",
        "description": "Update model for basic system configuration."
      },
      "Body_add_format_books__book_id__formats_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_add_format_books__book_id__formats_post"
      },
      "Body_import_book_metadata_books_metadata_import_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_import_book_metadata_books_metadata_import_post"
      },
      "Body_import_read_list_shelves__shelf_id__import_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "importer": {
            "type": "string",
            "title": "Importer",
            "default": "comicrack"
          },
          "auto_match": {
            "type": "boolean",
            "title": "Auto Match",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_import_read_list_shelves__shelf_id__import_post"
      },
      "Body_install_plugin_upload_plugins_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_install_plugin_upload_plugins_upload_post"
      },
      "Body_upload_author_photo_authors__author_id__photos_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_author_photo_authors__author_id__photos_post"
      },
      "Body_upload_book_books_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_book_books_upload_post"
      },
      "Body_upload_books_batch_books_upload_batch_post": {
        "properties": {
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files"
          }
        },
        "type": "object",
        "required": [
          "files"
        ],
        "title": "Body_upload_books_batch_books_upload_batch_post"
      },
      "Body_upload_cover_image_books__book_id__cover_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_cover_image_books__book_id__cover_post"
      },
      "Body_upload_profile_picture_auth_profile_picture_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_profile_picture_auth_profile_picture_post"
      },
      "Body_upload_shelf_cover_picture_shelves__shelf_id__cover_picture_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_shelf_cover_picture_shelves__shelf_id__cover_picture_post"
      },
      "BookBatchUploadResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "total_files": {
            "type": "integer",
            "title": "Total Files"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "total_files"
        ],
        "title": "BookBatchUploadResponse",
        "description": "Response for batch book upload.\n\nAttributes\n----------\ntask_id : int\n    ID of the batch upload task.\ntotal_files : int\n    Total number of files being uploaded."
      },
      "BookBulkSendRequest": {
        "properties": {
          "book_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Book Ids",
            "description": "List of book IDs to send"
          },
          "to_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "To Email",
            "description": "Email address to send to. If not provided, sends to user's default device"
          },
          "file_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Format",
            "description": "Optional file format to send (e.g., 'EPUB', 'MOBI')"
          }
        },
        "type": "object",
        "required": [
          "book_ids"
        ],
        "title": "BookBulkSendRequest",
        "description": "Request to send multiple books via email.\n\nAttributes\n----------\nbook_ids : list[int]\n    List of book IDs to send.\nto_email : str | None\n    Email address to send to. If not provided, sends to user's default device.\nfile_format : str | None\n    Optional file format to send (e.g., 'EPUB', 'MOBI').\n    If not provided, uses device's preferred format or first available format."
      },
      "BookConversionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BookConversionRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "BookConversionListResponse",
        "description": "Response for conversion history list.\n\nAttributes\n----------\nitems : list[BookConversionRead]\n    List of conversion records.\ntotal : int\n    Total number of conversions.\npage : int\n    Current page number.\npage_size : int\n    Page size.\ntotal_pages : int\n    Total number of pages."
      },
      "BookConversionRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "original_format": {
            "type": "string",
            "title": "Original Format"
          },
          "target_format": {
            "type": "string",
            "title": "Target Format"
          },
          "conversion_method": {
            "type": "string",
            "title": "Conversion Method"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "original_backed_up": {
            "type": "boolean",
            "title": "Original Backed Up"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          }
        },
        "type": "object",
        "required": [
          "id",
          "book_id",
          "original_format",
          "target_format",
          "conversion_method",
          "status",
          "error_message",
          "original_backed_up",
          "created_at",
          "completed_at"
        ],
        "title": "BookConversionRead",
        "description": "Book conversion record for API responses.\n\nAttributes\n----------\nid : int\n    Conversion record ID.\nbook_id : int\n    Book ID.\noriginal_format : str\n    Source format.\ntarget_format : str\n    Target format.\nconversion_method : str\n    How conversion was triggered.\nstatus : str\n    Conversion status.\nerror_message : str | None\n    Error message if failed.\noriginal_backed_up : bool\n    Whether original was backed up.\ncreated_at : datetime\n    Conversion start timestamp.\ncompleted_at : datetime | None\n    Conversion completion timestamp.\nduration : float | None\n    Conversion duration in seconds."
      },
      "BookConvertRequest": {
        "properties": {
          "source_format": {
            "type": "string",
            "title": "Source Format",
            "description": "Source format to convert from (e.g., 'MOBI', 'AZW3')"
          },
          "target_format": {
            "type": "string",
            "title": "Target Format",
            "description": "Target format to convert to (e.g., 'EPUB', 'KEPUB')"
          }
        },
        "type": "object",
        "required": [
          "source_format",
          "target_format"
        ],
        "title": "BookConvertRequest",
        "description": "Request to convert a book format.\n\nAttributes\n----------\nsource_format : str\n    Source format to convert from (e.g., 'MOBI', 'AZW3').\ntarget_format : str\n    Target format to convert to (e.g., 'EPUB', 'KEPUB')."
      },
      "BookConvertResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id",
            "description": "Task ID for tracking the conversion"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Optional message (e.g., if conversion already exists)"
          },
          "existing_conversion_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Existing Conversion Id",
            "description": "ID of existing conversion if one was found"
          }
        },
        "type": "object",
        "required": [
          "task_id"
        ],
        "title": "BookConvertResponse",
        "description": "Response for book conversion request.\n\nAttributes\n----------\ntask_id : int\n    Task ID for tracking the conversion.\nmessage : str | None\n    Optional message (e.g., if conversion already exists).\nexisting_conversion_id : int | None\n    ID of existing conversion if one was found."
      },
      "BookDeleteRequest": {
        "properties": {
          "delete_files_from_drive": {
            "type": "boolean",
            "title": "Delete Files From Drive",
            "description": "If True, also delete files from filesystem",
            "default": false
          }
        },
        "type": "object",
        "title": "BookDeleteRequest",
        "description": "Request to delete a book.\n\nAttributes\n----------\ndelete_files_from_drive : bool\n    If True, also delete files from filesystem (default: False)."
      },
      "BookFileRead": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "format": {
            "type": "string",
            "title": "Format"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "path": {
            "type": "string",
            "title": "Path"
          }
        },
        "type": "object",
        "required": [
          "name",
          "format",
          "size",
          "path"
        ],
        "title": "BookFileRead",
        "description": "Schema for book file details."
      },
      "BookFilterRequest": {
        "properties": {
          "author_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author Ids"
          },
          "title_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title Ids"
          },
          "genre_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Genre Ids"
          },
          "publisher_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher Ids"
          },
          "identifier_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Identifier Ids"
          },
          "series_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Ids"
          },
          "formats": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formats"
          },
          "rating_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Ids"
          },
          "language_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Ids"
          }
        },
        "type": "object",
        "title": "BookFilterRequest",
        "description": "Book filter request.\n\nAttributes\n----------\nauthor_ids : list[int] | None\n    List of author IDs to filter by (OR condition).\ntitle_ids : list[int] | None\n    List of book IDs to filter by (OR condition).\ngenre_ids : list[int] | None\n    List of tag IDs to filter by (OR condition).\npublisher_ids : list[int] | None\n    List of publisher IDs to filter by (OR condition).\nidentifier_ids : list[int] | None\n    List of identifier IDs to filter by (OR condition).\nseries_ids : list[int] | None\n    List of series IDs to filter by (OR condition).\nformats : list[str] | None\n    List of format strings to filter by (OR condition).\nrating_ids : list[int] | None\n    List of rating IDs to filter by (OR condition).\nlanguage_ids : list[int] | None\n    List of language IDs to filter by (OR condition)."
      },
      "BookFixEpubResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id",
            "description": "Task ID for tracking the EPUB fix operation"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Optional message about the result"
          }
        },
        "type": "object",
        "required": [
          "task_id"
        ],
        "title": "BookFixEpubResponse",
        "description": "Response for book EPUB fix request.\n\nAttributes\n----------\ntask_id : int\n    Task ID for tracking the EPUB fix operation.\nmessage : str | None\n    Optional message."
      },
      "BookListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BookRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "BookListResponse",
        "description": "Paginated book list response.\n\nAttributes\n----------\nitems : list[BookRead]\n    List of books for current page.\ntotal : int\n    Total number of books matching the query.\npage : int\n    Current page number (1-indexed).\npage_size : int\n    Number of items per page.\ntotal_pages : int\n    Total number of pages."
      },
      "BookMatch": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id",
            "description": "Matched book ID"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Match confidence score (0.0 to 1.0)"
          },
          "match_type": {
            "type": "string",
            "title": "Match Type",
            "description": "Type of match: 'exact', 'fuzzy', 'title', or 'none'"
          },
          "reference": {
            "additionalProperties": true,
            "type": "object",
            "title": "Reference",
            "description": "Original book reference data"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "confidence",
          "match_type",
          "reference"
        ],
        "title": "BookMatch",
        "description": "Schema for a matched book in import result.\n\nAttributes\n----------\nbook_id : int\n    Matched book ID.\nconfidence : float\n    Match confidence score (0.0 to 1.0).\nmatch_type : str\n    Type of match: 'exact', 'fuzzy', 'title', or 'none'.\nreference : dict\n    Original book reference data."
      },
      "BookMergeRecommendRequest": {
        "properties": {
          "book_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 2,
            "title": "Book Ids",
            "description": "Book IDs to merge"
          }
        },
        "type": "object",
        "required": [
          "book_ids"
        ],
        "title": "BookMergeRecommendRequest",
        "description": "Request model for book merge recommendation.\n\nAttributes\n----------\nbook_ids : list[int]\n    List of book IDs to merge."
      },
      "BookMergeRequest": {
        "properties": {
          "book_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 2,
            "title": "Book Ids",
            "description": "Book IDs to merge"
          },
          "keep_book_id": {
            "type": "integer",
            "title": "Keep Book Id",
            "description": "Book ID to keep"
          }
        },
        "type": "object",
        "required": [
          "book_ids",
          "keep_book_id"
        ],
        "title": "BookMergeRequest",
        "description": "Request model for book merge operation.\n\nAttributes\n----------\nbook_ids : list[int]\n    List of book IDs to merge.\nkeep_book_id : int\n    Book ID to keep (others will be merged into this one)."
      },
      "BookRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "authors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Authors"
          },
          "author_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Author Ids",
            "description": "List of author IDs corresponding to authors (same order when available)"
          },
          "author_sort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author Sort"
          },
          "title_sort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title Sort"
          },
          "pubdate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pubdate"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "series": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series"
          },
          "series_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Id"
          },
          "series_index": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Index"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn"
          },
          "uuid": {
            "type": "string",
            "title": "Uuid"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "has_cover": {
            "type": "boolean",
            "title": "Has Cover",
            "default": false
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "tag_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Tag Ids",
            "description": "List of tag IDs corresponding to tags (same order when available)"
          },
          "identifiers": {
            "items": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "type": "array",
            "title": "Identifiers"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher"
          },
          "publisher_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher Id"
          },
          "languages": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Languages"
          },
          "language_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Language Ids"
          },
          "rating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "rating_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Id"
          },
          "formats": {
            "items": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "type": "object"
            },
            "type": "array",
            "title": "Formats"
          },
          "reading_summary": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BookReadingSummary"
              },
              {
                "type": "null"
              }
            ]
          },
          "tracking_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tracking Status",
            "description": "Tracking status for virtual books (e.g., 'wanted', 'downloading')"
          },
          "is_virtual": {
            "type": "boolean",
            "title": "Is Virtual",
            "description": "Whether this is a virtual book (tracked but not in library)",
            "default": false
          },
          "tracking_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tracking Id",
            "description": "ID of the tracked book record if this is a virtual book"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "uuid"
        ],
        "title": "BookRead",
        "description": "Book representation for API responses.\n\nAttributes\n----------\nid : int\n    Calibre book ID.\ntitle : str\n    Book title.\nauthors : list[str]\n    List of author names.\nauthor_ids : list[int]\n    List of author IDs corresponding to ``authors`` (same order when available).\nauthor_sort : str | None\n    Sortable author name.\ntitle_sort : str | None\n    Sortable title (with articles removed).\npubdate : datetime | None\n    Publication date.\ntimestamp : datetime | None\n    Date book was added to library.\nseries : str | None\n    Series name if part of a series.\nseries_id : int | None\n    Series ID if part of a series.\nseries_index : float | None\n    Position in series.\nisbn : str | None\n    ISBN identifier.\nuuid : str\n    Unique identifier for the book.\nthumbnail_url : str | None\n    URL to book cover thumbnail.\nhas_cover : bool\n    Whether the book has a cover image.\ntags : list[str]\n    List of tag names.\ntag_ids : list[int]\n    List of tag IDs corresponding to ``tags`` (same order when available).\nidentifiers : list[dict[str, str]]\n    List of identifiers, each with 'type' and 'val' keys.\ndescription : str | None\n    Book description/comment text.\npublisher : str | None\n    Publisher name.\npublisher_id : int | None\n    Publisher ID.\nlanguages : list[str]\n    List of language codes.\nlanguage_ids : list[int]\n    List of language IDs.\nrating : int | None\n    Rating value (0-5).\nrating_id : int | None\n    Rating ID.\nformats : list[dict[str, str | int]]\n    List of file formats, each with 'format' and 'size' keys.\nreading_summary : BookReadingSummary | None\n    Optional denormalized reading summary (status + max progress) for list UIs."
      },
      "BookReadingSummary": {
        "properties": {
          "read_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Read Status",
            "description": "Read status: 'not_read', 'reading', 'read', or null when missing"
          },
          "max_progress": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Progress",
            "description": "Highest progress recorded for the book (0.0 to 1.0)"
          },
          "status_updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Updated At",
            "description": "Timestamp when read status was last updated"
          },
          "progress_updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress Updated At",
            "description": "Timestamp when reading progress was last updated"
          }
        },
        "type": "object",
        "title": "BookReadingSummary",
        "description": "Denormalized reading summary for book list UIs.\n\nAttributes\n----------\nread_status : str | None\n    Current read status: 'not_read', 'reading', 'read', or None when no status exists.\nmax_progress : float | None\n    Highest progress recorded for the book (0.0 to 1.0) across formats/devices.\nstatus_updated_at : datetime | None\n    Timestamp when read status was last updated.\nprogress_updated_at : datetime | None\n    Timestamp of the most recently updated progress record for the book."
      },
      "BookReferenceSchema": {
        "properties": {
          "series": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series"
          },
          "volume": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Volume"
          },
          "issue": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Issue"
          },
          "year": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Year"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          }
        },
        "type": "object",
        "title": "BookReferenceSchema",
        "description": "Schema for an unmatched book reference.\n\nAttributes\n----------\nseries : str | None\n    Series name.\nvolume : int | float | None\n    Volume number.\nissue : int | float | None\n    Issue number.\nyear : int | None\n    Publication year.\ntitle : str | None\n    Book title.\nauthor : str | None\n    Author name."
      },
      "BookSendRequest": {
        "properties": {
          "to_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "To Email",
            "description": "Email address to send to. If not provided, sends to user's default device"
          },
          "file_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Format",
            "description": "Optional file format to send (e.g., 'EPUB', 'MOBI')"
          }
        },
        "type": "object",
        "title": "BookSendRequest",
        "description": "Request to send a book via email.\n\nAttributes\n----------\nto_email : str | None\n    Email address to send to. If not provided, sends to user's default device.\nfile_format : str | None\n    Optional file format to send (e.g., 'EPUB', 'MOBI').\n    If not provided, uses device's preferred format or first available format."
      },
      "BookStripDrmResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id",
            "description": "Task ID for tracking the DRM stripping operation"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Optional message about the result (e.g., if request is a no-op)"
          }
        },
        "type": "object",
        "required": [
          "task_id"
        ],
        "title": "BookStripDrmResponse",
        "description": "Response for book DRM stripping request.\n\nAttributes\n----------\ntask_id : int\n    Task ID for tracking the DRM stripping operation.\nmessage : str | None\n    Optional message (e.g., if no suitable format was found)."
      },
      "BookUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "pubdate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pubdate"
          },
          "author_names": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author Names"
          },
          "series_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Name"
          },
          "series_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Id"
          },
          "series_index": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Index"
          },
          "tag_names": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tag Names"
          },
          "identifiers": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Identifiers"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "publisher_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher Name"
          },
          "publisher_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher Id"
          },
          "language_codes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Codes"
          },
          "language_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language Ids"
          },
          "rating_value": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Value"
          },
          "rating_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Id"
          },
          "author_sort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author Sort"
          },
          "title_sort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title Sort"
          }
        },
        "type": "object",
        "title": "BookUpdate",
        "description": "Book metadata update request.\n\nAttributes\n----------\ntitle : str | None\n    Book title to update.\npubdate : datetime | None\n    Publication date to update.\nauthor_names : list[str] | None\n    List of author names to set (replaces existing).\nseries_name : str | None\n    Series name to set (creates if doesn't exist).\nseries_id : int | None\n    Series ID to set (if provided, series_name is ignored).\nseries_index : float | None\n    Series index to update.\ntag_names : list[str] | None\n    List of tag names to set (replaces existing).\nidentifiers : list[dict[str, str]] | None\n    List of identifiers with 'type' and 'val' keys (replaces existing).\ndescription : str | None\n    Book description/comment to set.\npublisher_name : str | None\n    Publisher name to set (creates if doesn't exist).\npublisher_id : int | None\n    Publisher ID to set (if provided, publisher_name is ignored).\nlanguage_codes : list[str] | None\n    List of language codes to set (creates if doesn't exist). Replaces existing languages.\nlanguage_ids : list[int] | None\n    List of language IDs to set (if provided, language_codes is ignored). Replaces existing languages.\nrating_value : int | None\n    Rating value to set (creates if doesn't exist).\nrating_id : int | None\n    Rating ID to set (if provided, rating_value is ignored).\nauthor_sort : str | None\n    Author sort value to set.\ntitle_sort : str | None\n    Title sort value to set."
      },
      "BookUploadResponse": {
        "properties": {
          "book_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Ids"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id"
          }
        },
        "type": "object",
        "title": "BookUploadResponse",
        "description": "Response for book upload.\n\nAttributes\n----------\nbook_ids : list[int] | None\n    IDs of uploaded books. Single book upload returns [book_id], multi-book returns [book_id1, book_id2, ...].\ntask_id : int | None\n    ID of upload task (for asynchronous uploads)."
      },
      "CoverFromUrlRequest": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "URL of the cover image to download"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "CoverFromUrlRequest",
        "description": "Request to download cover image from URL.\n\nAttributes\n----------\nurl : str\n    URL of the cover image to download."
      },
      "CoverFromUrlResponse": {
        "properties": {
          "temp_url": {
            "type": "string",
            "title": "Temp Url",
            "description": "Temporary URL to access the downloaded cover image"
          }
        },
        "type": "object",
        "required": [
          "temp_url"
        ],
        "title": "CoverFromUrlResponse",
        "description": "Response containing temporary cover image URL.\n\nAttributes\n----------\ntemp_url : str\n    Temporary URL to access the downloaded cover image."
      },
      "DownloadClientCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "User-friendly name for the download client"
          },
          "client_type": {
            "$ref": "#/components/schemas/DownloadClientType",
            "description": "Type of download client"
          },
          "host": {
            "type": "string",
            "maxLength": 255,
            "title": "Host",
            "description": "Hostname or IP address of the client"
          },
          "port": {
            "type": "integer",
            "maximum": 65535.0,
            "minimum": 1.0,
            "title": "Port",
            "description": "Port number for the client API",
            "default": 8080
          },
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Username",
            "description": "Username for authentication"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Password for authentication"
          },
          "use_ssl": {
            "type": "boolean",
            "title": "Use Ssl",
            "description": "Whether to use SSL/TLS",
            "default": false
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether this client is enabled",
            "default": true
          },
          "priority": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Priority",
            "description": "Priority for download assignment (lower = higher priority)",
            "default": 0
          },
          "timeout_seconds": {
            "type": "integer",
            "maximum": 300.0,
            "minimum": 1.0,
            "title": "Timeout Seconds",
            "description": "Request timeout in seconds",
            "default": 30
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category/tag to assign to downloads"
          },
          "download_path": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Path",
            "description": "Path where client should save downloads"
          },
          "additional_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Settings",
            "description": "Client-specific settings"
          }
        },
        "type": "object",
        "required": [
          "name",
          "client_type",
          "host"
        ],
        "title": "DownloadClientCreate",
        "description": "Request schema for creating a download client.\n\nAttributes\n----------\nname : str\n    User-friendly name for the download client.\nclient_type : DownloadClientType\n    Type of download client (qBittorrent, Transmission, etc.).\nhost : str\n    Hostname or IP address of the client.\nport : int\n    Port number for the client API.\nusername : str | None\n    Username for authentication.\npassword : str | None\n    Password for authentication.\nuse_ssl : bool\n    Whether to use SSL/TLS (default False).\nenabled : bool\n    Whether this client is enabled (default True).\npriority : int\n    Priority for download assignment (lower = higher priority, default 0).\ntimeout_seconds : int\n    Request timeout in seconds (default 30).\ncategory : str | None\n    Category/tag to assign to downloads (e.g., 'bookcard').\ndownload_path : str | None\n    Path where client should save downloads.\nadditional_settings : dict[str, Any] | None\n    Client-specific settings."
      },
      "DownloadClientListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/DownloadClientRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "DownloadClientListResponse",
        "description": "Response schema for listing download clients.\n\nAttributes\n----------\nitems : list[DownloadClientRead]\n    List of download clients.\ntotal : int\n    Total number of download clients."
      },
      "DownloadClientRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "client_type": {
            "$ref": "#/components/schemas/DownloadClientType"
          },
          "host": {
            "type": "string",
            "title": "Host"
          },
          "port": {
            "type": "integer",
            "title": "Port"
          },
          "username": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "use_ssl": {
            "type": "boolean",
            "title": "Use Ssl"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          },
          "timeout_seconds": {
            "type": "integer",
            "title": "Timeout Seconds"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "download_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Path"
          },
          "additional_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Settings"
          },
          "status": {
            "$ref": "#/components/schemas/DownloadClientStatus"
          },
          "last_checked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Checked At"
          },
          "last_successful_connection_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Successful Connection At"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "client_type",
          "host",
          "port",
          "username",
          "use_ssl",
          "enabled",
          "priority",
          "timeout_seconds",
          "category",
          "download_path",
          "additional_settings",
          "status",
          "last_checked_at",
          "last_successful_connection_at",
          "error_count",
          "error_message",
          "created_at",
          "updated_at"
        ],
        "title": "DownloadClientRead",
        "description": "Response schema for download client data.\n\nAttributes\n----------\nid : int\n    Primary key identifier.\nname : str\n    User-friendly name for the download client.\nclient_type : DownloadClientType\n    Type of download client.\nhost : str\n    Hostname or IP address of the client.\nport : int\n    Port number for the client API.\nenabled : bool\n    Whether this client is enabled.\npriority : int\n    Priority for download assignment.\ntimeout_seconds : int\n    Request timeout in seconds.\ncategory : str | None\n    Category/tag to assign to downloads.\ndownload_path : str | None\n    Path where client should save downloads.\nadditional_settings : dict[str, Any] | None\n    Client-specific settings.\nstatus : DownloadClientStatus\n    Current health status.\nlast_checked_at : datetime | None\n    Timestamp of last health check.\nlast_successful_connection_at : datetime | None\n    Timestamp of last successful connection.\nerror_count : int\n    Number of consecutive errors.\nerror_message : str | None\n    Last error message if status is unhealthy.\ncreated_at : datetime\n    Timestamp when client was added.\nupdated_at : datetime\n    Last update timestamp."
      },
      "DownloadClientStatus": {
        "type": "string",
        "enum": [
          "healthy",
          "degraded",
          "unhealthy",
          "disabled"
        ],
        "title": "DownloadClientStatus",
        "description": "Download client status enumeration.\n\nAttributes\n----------\nHEALTHY : str\n    Download client is healthy and responding.\nDEGRADED : str\n    Download client is responding but with errors.\nUNHEALTHY : str\n    Download client is not responding or has critical errors.\nDISABLED : str\n    Download client is disabled by user."
      },
      "DownloadClientStatusResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "status": {
            "$ref": "#/components/schemas/DownloadClientStatus"
          },
          "last_checked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Checked At"
          },
          "last_successful_connection_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Successful Connection At"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "last_checked_at",
          "last_successful_connection_at",
          "error_count",
          "error_message"
        ],
        "title": "DownloadClientStatusResponse",
        "description": "Response schema for download client status.\n\nAttributes\n----------\nid : int\n    Download client ID.\nstatus : DownloadClientStatus\n    Current health status.\nlast_checked_at : datetime | None\n    Timestamp of last health check.\nlast_successful_connection_at : datetime | None\n    Timestamp of last successful connection.\nerror_count : int\n    Number of consecutive errors.\nerror_message : str | None\n    Last error message if status is unhealthy."
      },
      "DownloadClientTestResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "DownloadClientTestResponse",
        "description": "Response schema for download client connection test.\n\nAttributes\n----------\nsuccess : bool\n    Whether the connection test succeeded.\nmessage : str\n    Test result message."
      },
      "DownloadClientType": {
        "type": "string",
        "enum": [
          "qbittorrent",
          "transmission",
          "deluge",
          "rtorrent",
          "utorrent",
          "vuze",
          "aria2",
          "flood",
          "hadouken",
          "freebox_download",
          "download_station",
          "sabnzbd",
          "nzbget",
          "nzbvortex",
          "pneumatic",
          "torrent_blackhole",
          "usenet_blackhole",
          "direct_http"
        ],
        "title": "DownloadClientType",
        "description": "Download client type enumeration.\n\nAttributes\n----------\nQBITTORRENT : str\n    qBittorrent client (torrent).\nTRANSMISSION : str\n    Transmission client (torrent).\nDELUGE : str\n    Deluge client (torrent).\nRTORRENT : str\n    rTorrent client (torrent).\nUTORRENT : str\n    uTorrent client (torrent).\nVUZE : str\n    Vuze client (torrent).\nARIA2 : str\n    Aria2 client (torrent).\nFLOOD : str\n    Flood client (torrent).\nHADOUKEN : str\n    Hadouken client (torrent).\nFREEBOX_DOWNLOAD : str\n    Freebox Download client (torrent).\nDOWNLOAD_STATION : str\n    Synology Download Station (supports both torrent and usenet).\nSABNZBD : str\n    SABnzbd client (usenet).\nNZBGET : str\n    NZBGet client (usenet).\nNZBVORTEX : str\n    NZBVortex client (usenet).\nPNEUMATIC : str\n    Pneumatic client (usenet).\nTORRENT_BLACKHOLE : str\n    Torrent blackhole (writes .torrent files to directory).\nUSENET_BLACKHOLE : str\n    Usenet blackhole (writes .nzb files to directory)."
      },
      "DownloadClientUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User-friendly name for the download client"
          },
          "host": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Host",
            "description": "Hostname or IP address of the client"
          },
          "port": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 65535.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Port",
            "description": "Port number for the client API"
          },
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Username",
            "description": "Username for authentication"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Password for authentication"
          },
          "use_ssl": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Use Ssl",
            "description": "Whether to use SSL/TLS"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether this client is enabled"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Priority for download assignment (lower = higher priority)"
          },
          "timeout_seconds": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 300.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Seconds",
            "description": "Request timeout in seconds"
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category/tag to assign to downloads"
          },
          "download_path": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Path",
            "description": "Path where client should save downloads"
          },
          "additional_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Settings",
            "description": "Client-specific settings"
          }
        },
        "type": "object",
        "title": "DownloadClientUpdate",
        "description": "Request schema for updating a download client.\n\nAll fields are optional for partial updates.\n\nAttributes\n----------\nname : str | None\n    User-friendly name for the download client.\nhost : str | None\n    Hostname or IP address of the client.\nport : int | None\n    Port number for the client API.\nusername : str | None\n    Username for authentication.\npassword : str | None\n    Password for authentication.\nuse_ssl : bool | None\n    Whether to use SSL/TLS.\nenabled : bool | None\n    Whether this client is enabled.\npriority : int | None\n    Priority for download assignment (lower = higher priority).\ntimeout_seconds : int | None\n    Request timeout in seconds.\ncategory : str | None\n    Category/tag to assign to downloads.\ndownload_path : str | None\n    Path where client should save downloads.\nadditional_settings : dict[str, Any] | None\n    Client-specific settings."
      },
      "DownloadFilesRequest": {
        "properties": {
          "urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Urls"
          }
        },
        "type": "object",
        "required": [
          "urls"
        ],
        "title": "DownloadFilesRequest",
        "description": "Request model for downloading files.\n\nAttributes\n----------\nurls : list[str]\n    List of file URLs to download."
      },
      "DownloadFilesResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "downloaded_files": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Downloaded Files"
          },
          "failed_files": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Files"
          }
        },
        "type": "object",
        "required": [
          "message",
          "task_id",
          "downloaded_files",
          "failed_files"
        ],
        "title": "DownloadFilesResponse",
        "description": "Response model for file download operation.\n\nAttributes\n----------\nmessage : str\n    Success message.\ntask_id : int\n    Task ID for tracking the download progress.\ndownloaded_files : list[str]\n    List of successfully downloaded file paths (empty until task completes).\nfailed_files : list[str]\n    List of URLs that failed to download (empty until task completes)."
      },
      "DownloadHistory": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/DownloadItem"
            },
            "type": "array",
            "title": "Items"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total_count"
        ],
        "title": "DownloadHistory",
        "description": "Represents the history of completed/failed downloads.\n\nAttributes\n----------\nitems : list[DownloadItem]\n    List of historical download items.\ntotal_count : int\n    Total number of items in history."
      },
      "DownloadItem": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "tracked_book_id": {
            "type": "integer",
            "title": "Tracked Book Id"
          },
          "download_client_id": {
            "type": "integer",
            "title": "Download Client Id"
          },
          "indexer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Indexer Id"
          },
          "client_item_id": {
            "type": "string",
            "maxLength": 255,
            "title": "Client Item Id"
          },
          "guid": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Guid",
            "description": "Unique identifier from indexer"
          },
          "title": {
            "type": "string",
            "maxLength": 500,
            "title": "Title"
          },
          "download_url": {
            "type": "string",
            "maxLength": 2000,
            "title": "Download Url"
          },
          "file_path": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "File Path"
          },
          "status": {
            "$ref": "#/components/schemas/DownloadItemStatus",
            "default": "queued"
          },
          "progress": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Progress",
            "default": 0.0
          },
          "size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size Bytes"
          },
          "downloaded_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Downloaded Bytes"
          },
          "download_speed_bytes_per_sec": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Speed Bytes Per Sec"
          },
          "eta_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eta Seconds"
          },
          "quality": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Quality"
          },
          "release_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Release Info"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "tracked_book_id",
          "download_client_id",
          "client_item_id",
          "title",
          "download_url"
        ],
        "title": "DownloadItem",
        "description": "Download item model for tracking active downloads.\n\nTracks individual downloads from indexers, linking them to tracked books\nand download clients, and monitoring progress until completion.\n\nAttributes\n----------\nid : int | None\n    Primary key identifier.\ntracked_book_id : int\n    Foreign key to tracked book.\ndownload_client_id : int\n    Foreign key to download client handling this download.\nindexer_id : int | None\n    Foreign key to indexer that provided this release.\nclient_item_id : str\n    Unique identifier for the item in the download client.\ntitle : str\n    Title of the release being downloaded.\ndownload_url : str\n    URL or magnet link for the download.\nfile_path : str | None\n    Path to downloaded file(s) when complete.\nstatus : DownloadItemStatus\n    Current download status.\nprogress : float\n    Download progress (0.0 to 1.0).\nsize_bytes : int | None\n    Total size of download in bytes.\ndownloaded_bytes : int | None\n    Bytes downloaded so far.\ndownload_speed_bytes_per_sec : float | None\n    Current download speed.\neta_seconds : int | None\n    Estimated time to completion in seconds.\nquality : str | None\n    Quality/format of the release (e.g., 'epub', 'pdf').\nrelease_info : dict[str, Any] | None\n    JSON object with additional release metadata from indexer.\nerror_message : str | None\n    Error message if download failed.\nstarted_at : datetime\n    Timestamp when download was initiated.\ncompleted_at : datetime | None\n    Timestamp when download completed.\ncreated_at : datetime\n    Timestamp when download item was created.\nupdated_at : datetime\n    Last update timestamp."
      },
      "DownloadItemResponse": {
        "properties": {
          "client_item_id": {
            "type": "string",
            "title": "Client Item Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "progress": {
            "type": "number",
            "title": "Progress"
          },
          "size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size Bytes"
          },
          "downloaded_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Downloaded Bytes"
          },
          "download_speed_bytes_per_sec": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Speed Bytes Per Sec"
          },
          "eta_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eta Seconds"
          },
          "file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Path"
          }
        },
        "type": "object",
        "required": [
          "client_item_id",
          "title",
          "status",
          "progress",
          "size_bytes",
          "downloaded_bytes",
          "download_speed_bytes_per_sec",
          "eta_seconds",
          "file_path"
        ],
        "title": "DownloadItemResponse",
        "description": "Response schema for download item.\n\nAttributes\n----------\nclient_item_id : str\n    Unique identifier for the item in the download client.\ntitle : str\n    Title of the release being downloaded.\nstatus : str\n    Current download status.\nprogress : float\n    Download progress (0.0 to 1.0).\nsize_bytes : int | None\n    Total size of download in bytes.\ndownloaded_bytes : int | None\n    Bytes downloaded so far.\ndownload_speed_bytes_per_sec : float | None\n    Current download speed.\neta_seconds : int | None\n    Estimated time to completion in seconds.\nfile_path : str | None\n    Path to downloaded file(s) when complete."
      },
      "DownloadItemStatus": {
        "type": "string",
        "enum": [
          "queued",
          "downloading",
          "paused",
          "stalled",
          "seeding",
          "completed",
          "failed",
          "removed"
        ],
        "title": "DownloadItemStatus",
        "description": "Download item status enumeration.\n\nAttributes\n----------\nQUEUED : str\n    Download is queued in the client.\nDOWNLOADING : str\n    Download is in progress.\nPAUSED : str\n    Download is paused.\nSTALLED : str\n    Download is stalled.\nSEEDING : str\n    Download is seeding.\nCOMPLETED : str\n    Download completed successfully.\nFAILED : str\n    Download failed.\nREMOVED : str\n    Download was removed from client."
      },
      "DownloadItemsResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/DownloadItemResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "DownloadItemsResponse",
        "description": "Response schema for listing download items.\n\nAttributes\n----------\nitems : list[DownloadItemResponse]\n    List of download items.\ntotal : int\n    Total number of download items."
      },
      "DownloadQueue": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/DownloadItem"
            },
            "type": "array",
            "title": "Items"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total_count"
        ],
        "title": "DownloadQueue",
        "description": "Represents the queue of active downloads.\n\nAttributes\n----------\nitems : list[DownloadItem]\n    List of active download items.\ntotal_count : int\n    Total number of items in queue."
      },
      "EPUBFixBatchRequest": {
        "properties": {
          "library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Library Id",
            "description": "Optional library ID"
          }
        },
        "type": "object",
        "title": "EPUBFixBatchRequest",
        "description": "Request schema for batch EPUB fix.\n\nAttributes\n----------\nlibrary_id : int | None\n    Optional library ID to fix EPUBs in."
      },
      "EPUBFixListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/EPUBFixRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "EPUBFixListResponse",
        "description": "Response schema for fixes list.\n\nAttributes\n----------\nitems : list[EPUBFixRead]\n    List of fixes.\ntotal : int\n    Total number of fixes."
      },
      "EPUBFixRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "run_id": {
            "type": "integer",
            "title": "Run Id"
          },
          "book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Id"
          },
          "book_title": {
            "type": "string",
            "title": "Book Title"
          },
          "file_path": {
            "type": "string",
            "title": "File Path"
          },
          "original_file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original File Path"
          },
          "fix_type": {
            "$ref": "#/components/schemas/EPUBFixType"
          },
          "fix_description": {
            "type": "string",
            "title": "Fix Description"
          },
          "file_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Name"
          },
          "original_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Original Value"
          },
          "fixed_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fixed Value"
          },
          "backup_created": {
            "type": "boolean",
            "title": "Backup Created"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "run_id",
          "book_title",
          "file_path",
          "fix_type",
          "fix_description",
          "backup_created",
          "created_at"
        ],
        "title": "EPUBFixRead",
        "description": "Response schema for individual EPUB fix.\n\nAttributes\n----------\nid : int\n    Fix record ID.\nrun_id : int\n    Fix run ID.\nbook_id : int | None\n    Calibre book ID.\nbook_title : str\n    Book title.\nfile_path : str\n    Path to fixed file.\noriginal_file_path : str | None\n    Path to backup file if created.\nfix_type : EPUBFixType\n    Type of fix applied.\nfix_description : str\n    Description of the fix.\nfile_name : str | None\n    Name of file within EPUB that was fixed.\noriginal_value : str | None\n    Original value before fix.\nfixed_value : str | None\n    New value after fix.\nbackup_created : bool\n    Whether backup was created.\ncreated_at : datetime\n    When fix was recorded."
      },
      "EPUBFixResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "message"
        ],
        "title": "EPUBFixResponse",
        "description": "Response schema for fix operation.\n\nAttributes\n----------\ntask_id : int\n    Task ID for the fix operation.\nmessage : str\n    Success message."
      },
      "EPUBFixRollbackResponse": {
        "properties": {
          "run_id": {
            "type": "integer",
            "title": "Run Id"
          },
          "files_restored": {
            "type": "integer",
            "title": "Files Restored"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "files_restored",
          "message"
        ],
        "title": "EPUBFixRollbackResponse",
        "description": "Response schema for rollback operation.\n\nAttributes\n----------\nrun_id : int\n    Fix run ID that was rolled back.\nfiles_restored : int\n    Number of files restored.\nmessage : str\n    Success message."
      },
      "EPUBFixRunListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/EPUBFixRunRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "EPUBFixRunListResponse",
        "description": "Response schema for paginated fix runs list.\n\nAttributes\n----------\nitems : list[EPUBFixRunRead]\n    List of fix runs.\ntotal : int\n    Total number of runs.\npage : int\n    Current page number.\npage_size : int\n    Items per page.\ntotal_pages : int\n    Total number of pages."
      },
      "EPUBFixRunRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Library Id"
          },
          "manually_triggered": {
            "type": "boolean",
            "title": "Manually Triggered"
          },
          "is_bulk_operation": {
            "type": "boolean",
            "title": "Is Bulk Operation"
          },
          "total_files_processed": {
            "type": "integer",
            "title": "Total Files Processed"
          },
          "total_files_fixed": {
            "type": "integer",
            "title": "Total Files Fixed"
          },
          "total_fixes_applied": {
            "type": "integer",
            "title": "Total Fixes Applied"
          },
          "backup_enabled": {
            "type": "boolean",
            "title": "Backup Enabled"
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "cancelled_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancelled At"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          }
        },
        "type": "object",
        "required": [
          "id",
          "manually_triggered",
          "is_bulk_operation",
          "total_files_processed",
          "total_files_fixed",
          "total_fixes_applied",
          "backup_enabled",
          "started_at",
          "created_at"
        ],
        "title": "EPUBFixRunRead",
        "description": "Response schema for EPUB fix run.\n\nAttributes\n----------\nid : int\n    Run ID.\nuser_id : int | None\n    User who triggered the fix.\nlibrary_id : int | None\n    Library ID.\nmanually_triggered : bool\n    Whether manually triggered.\nis_bulk_operation : bool\n    Whether bulk operation.\ntotal_files_processed : int\n    Total files processed.\ntotal_files_fixed : int\n    Files that had fixes.\ntotal_fixes_applied : int\n    Total fixes applied.\nbackup_enabled : bool\n    Whether backups enabled.\nstarted_at : datetime\n    Start timestamp.\ncompleted_at : datetime | None\n    Completion timestamp.\ncancelled_at : datetime | None\n    Cancellation timestamp.\nerror_message : str | None\n    Error message if failed.\ncreated_at : datetime\n    Creation timestamp.\nduration : float | None\n    Duration in seconds."
      },
      "EPUBFixSingleRequest": {
        "properties": {
          "file_path": {
            "type": "string",
            "title": "File Path",
            "description": "Path to EPUB file to fix"
          },
          "book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Id",
            "description": "Optional Calibre book ID"
          },
          "book_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Title",
            "description": "Optional book title"
          },
          "library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Library Id",
            "description": "Optional library ID"
          }
        },
        "type": "object",
        "required": [
          "file_path"
        ],
        "title": "EPUBFixSingleRequest",
        "description": "Request schema for single file EPUB fix.\n\nAttributes\n----------\nfile_path : str\n    Path to EPUB file to fix.\nbook_id : int | None\n    Optional Calibre book ID.\nbook_title : str | None\n    Optional book title for audit trail.\nlibrary_id : int | None\n    Optional library ID."
      },
      "EPUBFixStatisticsRead": {
        "properties": {
          "total_runs": {
            "type": "integer",
            "title": "Total Runs"
          },
          "total_files_processed": {
            "type": "integer",
            "title": "Total Files Processed"
          },
          "total_files_fixed": {
            "type": "integer",
            "title": "Total Files Fixed"
          },
          "total_fixes_applied": {
            "type": "integer",
            "title": "Total Fixes Applied"
          },
          "fixes_by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "propertyNames": {
              "$ref": "#/components/schemas/EPUBFixType"
            },
            "type": "object",
            "title": "Fixes By Type"
          }
        },
        "type": "object",
        "required": [
          "total_runs",
          "total_files_processed",
          "total_files_fixed",
          "total_fixes_applied",
          "fixes_by_type"
        ],
        "title": "EPUBFixStatisticsRead",
        "description": "Response schema for EPUB fix statistics.\n\nAttributes\n----------\ntotal_runs : int\n    Total number of fix runs.\ntotal_files_processed : int\n    Total files processed.\ntotal_files_fixed : int\n    Total files fixed.\ntotal_fixes_applied : int\n    Total fixes applied.\nfixes_by_type : dict[EPUBFixType, int]\n    Count of fixes by type."
      },
      "EPUBFixType": {
        "type": "string",
        "enum": [
          "encoding",
          "body_id_link",
          "language_tag",
          "stray_img"
        ],
        "title": "EPUBFixType",
        "description": "EPUB fix type enumeration.\n\nAttributes\n----------\nENCODING : str\n    UTF-8 encoding declaration fix.\nBODY_ID_LINK : str\n    Body ID hyperlink fix (NCX table of contents).\nLANGUAGE_TAG : str\n    Invalid or missing language tag fix.\nSTRAY_IMG : str\n    Stray image tag removal (no source attribute)."
      },
      "EReaderDeviceCreate": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email",
            "description": "E-reader email address"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Name",
            "description": "User-friendly device name"
          },
          "device_type": {
            "type": "string",
            "title": "Device Type",
            "description": "Device type",
            "default": "kindle"
          },
          "preferred_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Format",
            "description": "Preferred format (e.g., 'epub', 'mobi')"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "Set as default device",
            "default": false
          },
          "serial_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Serial Number",
            "description": "Device serial number for DRM removal"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "EReaderDeviceCreate",
        "description": "Payload to create an e-reader device."
      },
      "EReaderDeviceRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Name"
          },
          "device_type": {
            "type": "string",
            "title": "Device Type"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default"
          },
          "preferred_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Format"
          },
          "serial_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Serial Number"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "email",
          "device_type",
          "is_default"
        ],
        "title": "EReaderDeviceRead",
        "description": "E-reader device representation."
      },
      "EReaderDeviceUpdate": {
        "properties": {
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "E-reader email address"
          },
          "device_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Name",
            "description": "User-friendly device name"
          },
          "device_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Type",
            "description": "Device type"
          },
          "preferred_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Format",
            "description": "Preferred format (e.g., 'epub', 'mobi')"
          },
          "is_default": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Default",
            "description": "Set as default device"
          },
          "serial_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Serial Number",
            "description": "Device serial number for DRM removal"
          }
        },
        "type": "object",
        "title": "EReaderDeviceUpdate",
        "description": "Payload to update an e-reader device."
      },
      "EmailServerConfigRead": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "has_smtp_password": {
            "type": "boolean",
            "title": "Has Smtp Password",
            "default": false
          },
          "server_type": {
            "$ref": "#/components/schemas/EmailServerType"
          },
          "smtp_host": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Host"
          },
          "smtp_port": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Port"
          },
          "smtp_username": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Username"
          },
          "smtp_use_tls": {
            "type": "boolean",
            "title": "Smtp Use Tls",
            "default": true
          },
          "smtp_use_ssl": {
            "type": "boolean",
            "title": "Smtp Use Ssl",
            "default": false
          },
          "smtp_from_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp From Email"
          },
          "smtp_from_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp From Name"
          },
          "max_email_size_mb": {
            "type": "integer",
            "title": "Max Email Size Mb",
            "default": 25
          },
          "gmail_token": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gmail Token"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "server_type"
        ],
        "title": "EmailServerConfigRead",
        "description": "Email server configuration representation (read).\n\nNotes\n-----\nThe SMTP password is intentionally omitted from the read model\nfor security reasons. The password may be set via the update model."
      },
      "EmailServerConfigUpdate": {
        "properties": {
          "server_type": {
            "$ref": "#/components/schemas/EmailServerType",
            "default": "smtp"
          },
          "smtp_host": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Host"
          },
          "smtp_port": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Port"
          },
          "smtp_username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Username"
          },
          "smtp_password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Password"
          },
          "smtp_use_tls": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Use Tls"
          },
          "smtp_use_ssl": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp Use Ssl"
          },
          "smtp_from_email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp From Email"
          },
          "smtp_from_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Smtp From Name"
          },
          "max_email_size_mb": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Email Size Mb"
          },
          "gmail_token": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gmail Token"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          }
        },
        "type": "object",
        "title": "EmailServerConfigUpdate",
        "description": "Payload to create or update email server configuration."
      },
      "EmailServerType": {
        "type": "string",
        "enum": [
          "smtp",
          "gmail"
        ],
        "title": "EmailServerType",
        "description": "Email server type enumeration."
      },
      "FilterSuggestionsResponse": {
        "properties": {
          "suggestions": {
            "items": {
              "$ref": "#/components/schemas/SearchSuggestionItem"
            },
            "type": "array",
            "title": "Suggestions"
          }
        },
        "type": "object",
        "title": "FilterSuggestionsResponse",
        "description": "Filter suggestions response.\n\nAttributes\n----------\nsuggestions : list[SearchSuggestionItem]\n    List of filter suggestions for the specified filter type."
      },
      "FormatMetadataResponse": {
        "properties": {
          "format": {
            "type": "string",
            "title": "Format"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "modified_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modified At"
          },
          "version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version"
          },
          "page_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Count"
          },
          "encryption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Encryption"
          },
          "validation_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Validation Status"
          },
          "validation_issues": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Validation Issues"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type"
          }
        },
        "type": "object",
        "required": [
          "format",
          "size",
          "path"
        ],
        "title": "FormatMetadataResponse",
        "description": "Detailed metadata for a specific book format.\n\nAttributes\n----------\nformat : str\n    Format extension (e.g. 'epub').\nsize : int\n    File size in bytes.\npath : str\n    Relative path to the file in the library.\ncreated_at : datetime | None\n    File creation timestamp.\nmodified_at : datetime | None\n    File modification timestamp.\nversion : str | None\n    Format version (e.g. '2.0', '3.0').\npage_count : int | None\n    Number of pages (if applicable).\nencryption : str | None\n    Encryption/DRM status.\nvalidation_status : str | None\n    Validation status (valid, invalid, unknown).\nvalidation_issues : list[str]\n    List of validation issues or warnings.\nmime_type : str | None\n    MIME type."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ImportResultSchema": {
        "properties": {
          "total_books": {
            "type": "integer",
            "title": "Total Books",
            "description": "Total number of books in the read list"
          },
          "matched": {
            "items": {
              "$ref": "#/components/schemas/BookMatch"
            },
            "type": "array",
            "title": "Matched",
            "description": "Successfully matched books"
          },
          "unmatched": {
            "items": {
              "$ref": "#/components/schemas/BookReferenceSchema"
            },
            "type": "array",
            "title": "Unmatched",
            "description": "Books that could not be matched"
          },
          "errors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Errors",
            "description": "List of error messages encountered during import"
          }
        },
        "type": "object",
        "required": [
          "total_books"
        ],
        "title": "ImportResultSchema",
        "description": "Response schema for read list import result.\n\nAttributes\n----------\ntotal_books : int\n    Total number of books in the read list.\nmatched : list[BookMatch]\n    Successfully matched books.\nunmatched : list[BookReferenceSchema]\n    Books that could not be matched.\nerrors : list[str]\n    List of error messages encountered during import."
      },
      "IndexerCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "User-friendly name for the indexer"
          },
          "indexer_type": {
            "$ref": "#/components/schemas/IndexerType",
            "description": "Type of indexer"
          },
          "protocol": {
            "$ref": "#/components/schemas/IndexerProtocol",
            "description": "Protocol used (Torrent or Usenet)"
          },
          "base_url": {
            "type": "string",
            "maxLength": 1000,
            "title": "Base Url",
            "description": "Base URL of the indexer API"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key",
            "description": "API key for authentication"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "description": "Whether this indexer is enabled",
            "default": true
          },
          "priority": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Priority",
            "description": "Priority for search order (lower = higher priority)",
            "default": 0
          },
          "timeout_seconds": {
            "type": "integer",
            "maximum": 300.0,
            "minimum": 1.0,
            "title": "Timeout Seconds",
            "description": "Request timeout in seconds",
            "default": 30
          },
          "retry_count": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Retry Count",
            "description": "Number of retries on failure",
            "default": 3
          },
          "categories": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Categories",
            "description": "List of category IDs to search (None = all categories)"
          },
          "additional_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Settings",
            "description": "Indexer-specific settings"
          }
        },
        "type": "object",
        "required": [
          "name",
          "indexer_type",
          "protocol",
          "base_url"
        ],
        "title": "IndexerCreate",
        "description": "Request schema for creating an indexer.\n\nAttributes\n----------\nname : str\n    User-friendly name for the indexer.\nindexer_type : IndexerType\n    Type of indexer (Torznab, Newznab, RSS, etc.).\nprotocol : IndexerProtocol\n    Protocol used (Torrent or Usenet).\nbase_url : str\n    Base URL of the indexer API.\napi_key : str | None\n    API key for authentication.\nenabled : bool\n    Whether this indexer is enabled (default True).\npriority : int\n    Priority for search order (lower = higher priority, default 0).\ntimeout_seconds : int\n    Request timeout in seconds (default 30).\nretry_count : int\n    Number of retries on failure (default 3).\ncategories : list[int] | None\n    List of category IDs to search (None = all categories).\nadditional_settings : dict[str, Any] | None\n    Indexer-specific settings."
      },
      "IndexerListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/IndexerRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "IndexerListResponse",
        "description": "Response schema for listing indexers.\n\nAttributes\n----------\nitems : list[IndexerRead]\n    List of indexers.\ntotal : int\n    Total number of indexers."
      },
      "IndexerProtocol": {
        "type": "string",
        "enum": [
          "torrent",
          "usenet",
          "http"
        ],
        "title": "IndexerProtocol",
        "description": "Indexer protocol enumeration.\n\nAttributes\n----------\nTORRENT : str\n    Torrent-based indexer (BitTorrent).\nUSENET : str\n    Usenet-based indexer (NNTP)."
      },
      "IndexerRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "indexer_type": {
            "$ref": "#/components/schemas/IndexerType"
          },
          "protocol": {
            "$ref": "#/components/schemas/IndexerProtocol"
          },
          "base_url": {
            "type": "string",
            "title": "Base Url"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "priority": {
            "type": "integer",
            "title": "Priority"
          },
          "timeout_seconds": {
            "type": "integer",
            "title": "Timeout Seconds"
          },
          "retry_count": {
            "type": "integer",
            "title": "Retry Count"
          },
          "categories": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Categories"
          },
          "additional_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Settings"
          },
          "status": {
            "$ref": "#/components/schemas/IndexerStatus"
          },
          "last_checked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Checked At"
          },
          "last_successful_query_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Successful Query At"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "indexer_type",
          "protocol",
          "base_url",
          "enabled",
          "priority",
          "timeout_seconds",
          "retry_count",
          "categories",
          "additional_settings",
          "status",
          "last_checked_at",
          "last_successful_query_at",
          "error_count",
          "error_message",
          "created_at",
          "updated_at"
        ],
        "title": "IndexerRead",
        "description": "Response schema for indexer data.\n\nAttributes\n----------\nid : int\n    Primary key identifier.\nname : str\n    User-friendly name for the indexer.\nindexer_type : IndexerType\n    Type of indexer.\nprotocol : IndexerProtocol\n    Protocol used.\nbase_url : str\n    Base URL of the indexer API.\nenabled : bool\n    Whether this indexer is enabled.\npriority : int\n    Priority for search order.\ntimeout_seconds : int\n    Request timeout in seconds.\nretry_count : int\n    Number of retries on failure.\ncategories : list[int] | None\n    List of category IDs to search.\nadditional_settings : dict[str, Any] | None\n    Indexer-specific settings.\nstatus : IndexerStatus\n    Current health status.\nlast_checked_at : datetime | None\n    Timestamp of last health check.\nlast_successful_query_at : datetime | None\n    Timestamp of last successful query.\nerror_count : int\n    Number of consecutive errors.\nerror_message : str | None\n    Last error message if status is unhealthy.\ncreated_at : datetime\n    Timestamp when indexer was added.\nupdated_at : datetime\n    Last update timestamp."
      },
      "IndexerStatus": {
        "type": "string",
        "enum": [
          "healthy",
          "degraded",
          "unhealthy",
          "disabled",
          "unknown"
        ],
        "title": "IndexerStatus",
        "description": "Indexer status enumeration.\n\nAttributes\n----------\nHEALTHY : str\n    Indexer is healthy and responding.\nDEGRADED : str\n    Indexer is responding but with errors.\nUNHEALTHY : str\n    Indexer is not responding or has critical errors.\nDISABLED : str\n    Indexer is disabled by user.\nUNKNOWN : str\n    Indexer status is unknown."
      },
      "IndexerStatusResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "status": {
            "$ref": "#/components/schemas/IndexerStatus"
          },
          "last_checked_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Checked At"
          },
          "last_successful_query_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Successful Query At"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "last_checked_at",
          "last_successful_query_at",
          "error_count",
          "error_message"
        ],
        "title": "IndexerStatusResponse",
        "description": "Response schema for indexer status.\n\nAttributes\n----------\nid : int\n    Indexer ID.\nstatus : IndexerStatus\n    Current health status.\nlast_checked_at : datetime | None\n    Timestamp of last health check.\nlast_successful_query_at : datetime | None\n    Timestamp of last successful query.\nerror_count : int\n    Number of consecutive errors.\nerror_message : str | None\n    Last error message if status is unhealthy."
      },
      "IndexerTestResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "IndexerTestResponse",
        "description": "Response schema for indexer connection test.\n\nAttributes\n----------\nsuccess : bool\n    Whether the connection test succeeded.\nmessage : str\n    Test result message."
      },
      "IndexerType": {
        "type": "string",
        "enum": [
          "torznab",
          "newznab",
          "torrent_rss",
          "usenet_rss",
          "custom",
          "annas_archive"
        ],
        "title": "IndexerType",
        "description": "Indexer type enumeration.\n\nAttributes\n----------\nTORZNAB : str\n    Torznab API indexer (torrent-based, generic API).\nNEWZNAB : str\n    Newznab API indexer (usenet-based, generic API).\nTORRENT_RSS : str\n    Generic torrent RSS feed.\nUSENET_RSS : str\n    Generic usenet RSS feed.\nCUSTOM : str\n    Custom indexer implementation with specific API (e.g., BroadcastheNet,\n    FileList, HDBits, IPTorrents, Nyaa, TorrentLeech)."
      },
      "IndexerUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User-friendly name for the indexer"
          },
          "base_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Url",
            "description": "Base URL of the indexer API"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key",
            "description": "API key for authentication"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether this indexer is enabled"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Priority for search order (lower = higher priority)"
          },
          "timeout_seconds": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 300.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Seconds",
            "description": "Request timeout in seconds"
          },
          "retry_count": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Retry Count",
            "description": "Number of retries on failure"
          },
          "categories": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Categories",
            "description": "List of category IDs to search (None = all categories)"
          },
          "additional_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Settings",
            "description": "Indexer-specific settings"
          }
        },
        "type": "object",
        "title": "IndexerUpdate",
        "description": "Request schema for updating an indexer.\n\nAll fields are optional for partial updates.\n\nAttributes\n----------\nname : str | None\n    User-friendly name for the indexer.\nbase_url : str | None\n    Base URL of the indexer API.\napi_key : str | None\n    API key for authentication.\nenabled : bool | None\n    Whether this indexer is enabled.\npriority : int | None\n    Priority for search order (lower = higher priority).\ntimeout_seconds : int | None\n    Request timeout in seconds.\nretry_count : int | None\n    Number of retries on failure.\ncategories : list[int] | None\n    List of category IDs to search (None = all categories).\nadditional_settings : dict[str, Any] | None\n    Indexer-specific settings."
      },
      "IngestConfigResponse": {
        "properties": {
          "ingest_dir": {
            "type": "string",
            "title": "Ingest Dir"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "metadata_fetch_enabled": {
            "type": "boolean",
            "title": "Metadata Fetch Enabled"
          },
          "metadata_providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Providers"
          },
          "metadata_merge_strategy": {
            "type": "string",
            "title": "Metadata Merge Strategy"
          },
          "metadata_priority_order": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Priority Order"
          },
          "supported_formats": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Formats"
          },
          "ignore_patterns": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ignore Patterns"
          },
          "retry_max_attempts": {
            "type": "integer",
            "title": "Retry Max Attempts"
          },
          "retry_backoff_seconds": {
            "type": "integer",
            "title": "Retry Backoff Seconds"
          },
          "process_timeout_seconds": {
            "type": "integer",
            "title": "Process Timeout Seconds"
          },
          "auto_delete_after_ingest": {
            "type": "boolean",
            "title": "Auto Delete After Ingest"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "ingest_dir",
          "enabled",
          "metadata_fetch_enabled",
          "metadata_merge_strategy",
          "retry_max_attempts",
          "retry_backoff_seconds",
          "process_timeout_seconds",
          "auto_delete_after_ingest",
          "created_at",
          "updated_at"
        ],
        "title": "IngestConfigResponse",
        "description": "Ingest configuration response."
      },
      "IngestConfigUpdate": {
        "properties": {
          "ingest_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ingest Dir",
            "description": "Watch directory path"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled",
            "description": "Whether ingest is enabled"
          },
          "metadata_fetch_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Fetch Enabled",
            "description": "Whether external metadata fetching is enabled during ingest"
          },
          "metadata_providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Providers",
            "description": "List of enabled provider IDs"
          },
          "metadata_merge_strategy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Merge Strategy",
            "description": "Metadata merge strategy"
          },
          "metadata_priority_order": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Priority Order",
            "description": "Provider priority order"
          },
          "supported_formats": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supported Formats",
            "description": "List of supported file extensions"
          },
          "ignore_patterns": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ignore Patterns",
            "description": "File patterns to ignore"
          },
          "retry_max_attempts": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retry Max Attempts",
            "description": "Maximum retry attempts"
          },
          "retry_backoff_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retry Backoff Seconds",
            "description": "Base backoff time in seconds"
          },
          "process_timeout_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Process Timeout Seconds",
            "description": "Timeout per book in seconds"
          },
          "auto_delete_after_ingest": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Delete After Ingest",
            "description": "Delete source files after ingest"
          }
        },
        "type": "object",
        "title": "IngestConfigUpdate",
        "description": "Payload to update ingest configuration."
      },
      "IngestFilesRequest": {
        "properties": {
          "process_authors": {
            "type": "boolean",
            "title": "Process Authors",
            "default": true
          },
          "process_works": {
            "type": "boolean",
            "title": "Process Works",
            "default": true
          },
          "process_editions": {
            "type": "boolean",
            "title": "Process Editions",
            "default": true
          }
        },
        "type": "object",
        "title": "IngestFilesRequest",
        "description": "Request model for ingesting files.\n\nAttributes\n----------\nprocess_authors : bool\n    Whether to process authors dump file. Defaults to True.\nprocess_works : bool\n    Whether to process works dump file. Defaults to True.\nprocess_editions : bool\n    Whether to process editions dump file. Defaults to True."
      },
      "IngestFilesResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          }
        },
        "type": "object",
        "required": [
          "message",
          "task_id"
        ],
        "title": "IngestFilesResponse",
        "description": "Response model for file ingest operation.\n\nAttributes\n----------\nmessage : str\n    Success message.\ntask_id : int\n    Task ID for tracking the ingest progress."
      },
      "IngestHistoryListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/IngestHistoryResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "IngestHistoryListResponse",
        "description": "Paginated ingest history list response."
      },
      "IngestHistoryResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "file_path": {
            "type": "string",
            "title": "File Path"
          },
          "status": {
            "$ref": "#/components/schemas/IngestStatus"
          },
          "book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Id"
          },
          "ingest_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ingest Metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "retry_count": {
            "type": "integer",
            "title": "Retry Count"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          }
        },
        "type": "object",
        "required": [
          "id",
          "file_path",
          "status",
          "created_at",
          "retry_count"
        ],
        "title": "IngestHistoryResponse",
        "description": "Ingest history record response."
      },
      "IngestRetryResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "history_id": {
            "type": "integer",
            "title": "History Id"
          }
        },
        "type": "object",
        "required": [
          "message",
          "history_id"
        ],
        "title": "IngestRetryResponse",
        "description": "Response for retry operation."
      },
      "IngestScanResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "message"
        ],
        "title": "IngestScanResponse",
        "description": "Response for manual scan trigger."
      },
      "IngestStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "completed",
          "failed"
        ],
        "title": "IngestStatus",
        "description": "Ingest status enumeration.\n\nAttributes\n----------\nPENDING : str\n    Ingest is queued but not yet started.\nPROCESSING : str\n    Ingest is currently being processed.\nCOMPLETED : str\n    Ingest completed successfully.\nFAILED : str\n    Ingest failed with an error."
      },
      "InviteValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "token": {
            "type": "string",
            "title": "Token"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "token"
        ],
        "title": "InviteValidationResponse",
        "description": "Response for invite token validation."
      },
      "KCCProfileCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "default": false
          },
          "device_profile": {
            "type": "string",
            "maxLength": 10,
            "title": "Device Profile",
            "default": "KV"
          },
          "output_format": {
            "type": "string",
            "maxLength": 10,
            "title": "Output Format",
            "default": "MOBI"
          },
          "manga_style": {
            "type": "boolean",
            "title": "Manga Style",
            "default": false
          },
          "hq": {
            "type": "boolean",
            "title": "Hq",
            "default": false
          },
          "two_panel": {
            "type": "boolean",
            "title": "Two Panel",
            "default": false
          },
          "webtoon": {
            "type": "boolean",
            "title": "Webtoon",
            "default": false
          },
          "upscale": {
            "type": "boolean",
            "title": "Upscale",
            "default": false
          },
          "stretch": {
            "type": "boolean",
            "title": "Stretch",
            "default": false
          },
          "gamma": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamma"
          },
          "autolevel": {
            "type": "boolean",
            "title": "Autolevel",
            "default": false
          },
          "autocontrast": {
            "type": "boolean",
            "title": "Autocontrast",
            "default": true
          },
          "colorautocontrast": {
            "type": "boolean",
            "title": "Colorautocontrast",
            "default": false
          },
          "cropping": {
            "type": "integer",
            "maximum": 2.0,
            "minimum": 0.0,
            "title": "Cropping",
            "default": 2
          },
          "cropping_power": {
            "type": "number",
            "minimum": 0.0,
            "title": "Cropping Power",
            "default": 1.0
          },
          "preserve_margin": {
            "type": "number",
            "minimum": 0.0,
            "title": "Preserve Margin",
            "default": 0.0
          },
          "cropping_minimum": {
            "type": "number",
            "minimum": 0.0,
            "title": "Cropping Minimum",
            "default": 0.0
          },
          "inter_panel_crop": {
            "type": "integer",
            "maximum": 2.0,
            "minimum": 0.0,
            "title": "Inter Panel Crop",
            "default": 0
          },
          "black_borders": {
            "type": "boolean",
            "title": "Black Borders",
            "default": false
          },
          "white_borders": {
            "type": "boolean",
            "title": "White Borders",
            "default": false
          },
          "force_color": {
            "type": "boolean",
            "title": "Force Color",
            "default": false
          },
          "force_png": {
            "type": "boolean",
            "title": "Force Png",
            "default": false
          },
          "mozjpeg": {
            "type": "boolean",
            "title": "Mozjpeg",
            "default": false
          },
          "maximize_strips": {
            "type": "boolean",
            "title": "Maximize Strips",
            "default": false
          },
          "splitter": {
            "type": "integer",
            "maximum": 2.0,
            "minimum": 0.0,
            "title": "Splitter",
            "default": 0
          },
          "target_size": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Size"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "KCCProfileCreate",
        "description": "KCC profile creation schema."
      },
      "KCCProfileRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default"
          },
          "device_profile": {
            "type": "string",
            "title": "Device Profile"
          },
          "output_format": {
            "type": "string",
            "title": "Output Format"
          },
          "manga_style": {
            "type": "boolean",
            "title": "Manga Style"
          },
          "hq": {
            "type": "boolean",
            "title": "Hq"
          },
          "two_panel": {
            "type": "boolean",
            "title": "Two Panel"
          },
          "webtoon": {
            "type": "boolean",
            "title": "Webtoon"
          },
          "upscale": {
            "type": "boolean",
            "title": "Upscale"
          },
          "stretch": {
            "type": "boolean",
            "title": "Stretch"
          },
          "gamma": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamma"
          },
          "autolevel": {
            "type": "boolean",
            "title": "Autolevel"
          },
          "autocontrast": {
            "type": "boolean",
            "title": "Autocontrast"
          },
          "colorautocontrast": {
            "type": "boolean",
            "title": "Colorautocontrast"
          },
          "cropping": {
            "type": "integer",
            "title": "Cropping"
          },
          "cropping_power": {
            "type": "number",
            "title": "Cropping Power"
          },
          "preserve_margin": {
            "type": "number",
            "title": "Preserve Margin"
          },
          "cropping_minimum": {
            "type": "number",
            "title": "Cropping Minimum"
          },
          "inter_panel_crop": {
            "type": "integer",
            "title": "Inter Panel Crop"
          },
          "black_borders": {
            "type": "boolean",
            "title": "Black Borders"
          },
          "white_borders": {
            "type": "boolean",
            "title": "White Borders"
          },
          "force_color": {
            "type": "boolean",
            "title": "Force Color"
          },
          "force_png": {
            "type": "boolean",
            "title": "Force Png"
          },
          "mozjpeg": {
            "type": "boolean",
            "title": "Mozjpeg"
          },
          "maximize_strips": {
            "type": "boolean",
            "title": "Maximize Strips"
          },
          "splitter": {
            "type": "integer",
            "title": "Splitter"
          },
          "target_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Size"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "name",
          "is_default",
          "device_profile",
          "output_format",
          "manga_style",
          "hq",
          "two_panel",
          "webtoon",
          "upscale",
          "stretch",
          "autolevel",
          "autocontrast",
          "colorautocontrast",
          "cropping",
          "cropping_power",
          "preserve_margin",
          "cropping_minimum",
          "inter_panel_crop",
          "black_borders",
          "white_borders",
          "force_color",
          "force_png",
          "mozjpeg",
          "maximize_strips",
          "splitter",
          "created_at",
          "updated_at"
        ],
        "title": "KCCProfileRead",
        "description": "KCC conversion profile read schema.\n\nAttributes\n----------\nid : int\n    Profile ID.\nuser_id : int\n    User ID who owns the profile.\nname : str\n    Profile name.\nis_default : bool\n    Whether this is the default profile.\ndevice_profile : str\n    KCC device profile code.\noutput_format : str\n    Default output format.\nmanga_style : bool\n    Enable manga style.\nhq : bool\n    High quality mode.\ntwo_panel : bool\n    Two panel mode.\nwebtoon : bool\n    Webtoon mode.\nupscale : bool\n    Upscale images.\nstretch : bool\n    Stretch images.\ngamma : float | None\n    Gamma correction value.\nautolevel : bool\n    Auto leveling.\nautocontrast : bool\n    Auto contrast.\ncolorautocontrast : bool\n    Color auto contrast.\ncropping : int\n    Cropping mode.\ncropping_power : float\n    Cropping power.\npreserve_margin : float\n    Preserve margin percentage.\ncropping_minimum : float\n    Cropping minimum area ratio.\ninter_panel_crop : int\n    Inter-panel crop mode.\nblack_borders : bool\n    Force black borders.\nwhite_borders : bool\n    Force white borders.\nforce_color : bool\n    Force color mode.\nforce_png : bool\n    Force PNG output.\nmozjpeg : bool\n    Use mozJpeg.\nmaximize_strips : bool\n    Maximize strips.\nsplitter : int\n    Splitter mode.\ntarget_size : int | None\n    Target file size in MB.\ncreated_at : datetime\n    Creation timestamp.\nupdated_at : datetime\n    Update timestamp."
      },
      "KCCProfileUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "is_default": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Default"
          },
          "device_profile": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Profile"
          },
          "output_format": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Format"
          },
          "manga_style": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manga Style"
          },
          "hq": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hq"
          },
          "two_panel": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Two Panel"
          },
          "webtoon": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Webtoon"
          },
          "upscale": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upscale"
          },
          "stretch": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stretch"
          },
          "gamma": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamma"
          },
          "autolevel": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Autolevel"
          },
          "autocontrast": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Autocontrast"
          },
          "colorautocontrast": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Colorautocontrast"
          },
          "cropping": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 2.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cropping"
          },
          "cropping_power": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cropping Power"
          },
          "preserve_margin": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Preserve Margin"
          },
          "cropping_minimum": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cropping Minimum"
          },
          "inter_panel_crop": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 2.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Inter Panel Crop"
          },
          "black_borders": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Black Borders"
          },
          "white_borders": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "White Borders"
          },
          "force_color": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Force Color"
          },
          "force_png": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Force Png"
          },
          "mozjpeg": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mozjpeg"
          },
          "maximize_strips": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maximize Strips"
          },
          "splitter": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 2.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Splitter"
          },
          "target_size": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Size"
          }
        },
        "type": "object",
        "title": "KCCProfileUpdate",
        "description": "KCC profile update schema."
      },
      "KoboAuthTokenResponse": {
        "properties": {
          "AccessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "Access token"
          },
          "RefreshToken": {
            "type": "string",
            "title": "Refreshtoken",
            "description": "Refresh token"
          },
          "TokenType": {
            "type": "string",
            "title": "Tokentype",
            "description": "Token type",
            "default": "Bearer"
          },
          "TrackingId": {
            "type": "string",
            "title": "Trackingid",
            "description": "Tracking ID"
          },
          "UserKey": {
            "type": "string",
            "title": "Userkey",
            "description": "User key",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "AccessToken",
          "RefreshToken",
          "TrackingId"
        ],
        "title": "KoboAuthTokenResponse",
        "description": "Response schema for Kobo device authentication.\n\nAttributes\n----------\nAccessToken : str\n    Access token.\nRefreshToken : str\n    Refresh token.\nTokenType : str\n    Token type (usually \"Bearer\").\nTrackingId : str\n    Tracking ID.\nUserKey : str\n    User key."
      },
      "KoboInitializationResponse": {
        "properties": {
          "Resources": {
            "additionalProperties": true,
            "type": "object",
            "title": "Resources",
            "description": "Resource URLs and configuration"
          }
        },
        "type": "object",
        "required": [
          "Resources"
        ],
        "title": "KoboInitializationResponse",
        "description": "Response schema for Kobo initialization.\n\nAttributes\n----------\nResources : dict[str, object]\n    Resource URLs and configuration."
      },
      "KoboReadingStateRequest": {
        "properties": {
          "ReadingStates": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Readingstates",
            "description": "List of reading states"
          }
        },
        "type": "object",
        "required": [
          "ReadingStates"
        ],
        "title": "KoboReadingStateRequest",
        "description": "Request schema for updating reading state.\n\nAttributes\n----------\nReadingStates : list[dict[str, object]]\n    List of reading states to update."
      },
      "KoboReadingStateUpdateResult": {
        "properties": {
          "RequestResult": {
            "type": "string",
            "title": "Requestresult",
            "description": "Request result"
          },
          "UpdateResults": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Updateresults",
            "description": "List of update results"
          }
        },
        "type": "object",
        "required": [
          "RequestResult",
          "UpdateResults"
        ],
        "title": "KoboReadingStateUpdateResult",
        "description": "Response schema for reading state update result.\n\nAttributes\n----------\nRequestResult : str\n    Request result (usually \"Success\").\nUpdateResults : list[dict[str, object]]\n    List of update results."
      },
      "KoboTagItemRequest": {
        "properties": {
          "Items": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Items",
            "description": "List of items"
          }
        },
        "type": "object",
        "required": [
          "Items"
        ],
        "title": "KoboTagItemRequest",
        "description": "Request schema for adding/removing tag items.\n\nAttributes\n----------\nItems : list[dict[str, object]]\n    List of items to add or remove."
      },
      "KoboTagRequest": {
        "properties": {
          "Name": {
            "type": "string",
            "title": "Name",
            "description": "Tag/shelf name"
          },
          "Items": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Items",
            "description": "List of items to add"
          }
        },
        "type": "object",
        "required": [
          "Name"
        ],
        "title": "KoboTagRequest",
        "description": "Request schema for creating/updating Kobo tags (shelves).\n\nAttributes\n----------\nName : str\n    Tag/shelf name.\nItems : list[dict[str, object]] | None\n    List of items to add to the tag."
      },
      "LibraryCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User-friendly library name"
          },
          "calibre_db_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calibre Db Path",
            "description": "Path to Calibre database directory (contains metadata.db). If not provided, path will be auto-generated from library name."
          },
          "calibre_db_file": {
            "type": "string",
            "title": "Calibre Db File",
            "description": "Calibre database filename",
            "default": "metadata.db"
          },
          "use_split_library": {
            "type": "boolean",
            "title": "Use Split Library",
            "description": "Whether to use split library mode",
            "default": false
          },
          "split_library_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Split Library Dir",
            "description": "Directory for split library mode"
          },
          "auto_reconnect": {
            "type": "boolean",
            "title": "Auto Reconnect",
            "description": "Whether to automatically reconnect on errors",
            "default": true
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Set as the active library",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "LibraryCreate",
        "description": "Payload to create a library."
      },
      "LibraryRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "calibre_db_path": {
            "type": "string",
            "title": "Calibre Db Path"
          },
          "calibre_db_file": {
            "type": "string",
            "title": "Calibre Db File"
          },
          "calibre_uuid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calibre Uuid"
          },
          "use_split_library": {
            "type": "boolean",
            "title": "Use Split Library"
          },
          "split_library_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Split Library Dir"
          },
          "auto_reconnect": {
            "type": "boolean",
            "title": "Auto Reconnect"
          },
          "auto_metadata_enforcement": {
            "type": "boolean",
            "title": "Auto Metadata Enforcement"
          },
          "auto_convert_on_ingest": {
            "type": "boolean",
            "title": "Auto Convert On Ingest"
          },
          "auto_convert_target_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Convert Target Format"
          },
          "auto_convert_ignored_formats": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Convert Ignored Formats"
          },
          "auto_convert_backup_originals": {
            "type": "boolean",
            "title": "Auto Convert Backup Originals"
          },
          "epub_fixer_auto_fix_on_ingest": {
            "type": "boolean",
            "title": "Epub Fixer Auto Fix On Ingest"
          },
          "duplicate_handling": {
            "type": "string",
            "title": "Duplicate Handling"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "calibre_db_path",
          "calibre_db_file",
          "use_split_library",
          "auto_reconnect",
          "auto_metadata_enforcement",
          "auto_convert_on_ingest",
          "auto_convert_backup_originals",
          "epub_fixer_auto_fix_on_ingest",
          "duplicate_handling",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "LibraryRead",
        "description": "Library representation."
      },
      "LibraryStats": {
        "properties": {
          "total_books": {
            "type": "integer",
            "title": "Total Books",
            "description": "Total number of books"
          },
          "total_series": {
            "type": "integer",
            "title": "Total Series",
            "description": "Total number of unique series"
          },
          "total_authors": {
            "type": "integer",
            "title": "Total Authors",
            "description": "Total number of unique authors"
          },
          "total_tags": {
            "type": "integer",
            "title": "Total Tags",
            "description": "Total number of unique tags"
          },
          "total_ratings": {
            "type": "integer",
            "title": "Total Ratings",
            "description": "Total number of books with ratings"
          },
          "total_content_size": {
            "type": "integer",
            "title": "Total Content Size",
            "description": "Total file size in bytes"
          }
        },
        "type": "object",
        "required": [
          "total_books",
          "total_series",
          "total_authors",
          "total_tags",
          "total_ratings",
          "total_content_size"
        ],
        "title": "LibraryStats",
        "description": "Library statistics representation."
      },
      "LibraryUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "User-friendly library name"
          },
          "calibre_db_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calibre Db Path",
            "description": "Path to Calibre database directory"
          },
          "calibre_db_file": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calibre Db File",
            "description": "Calibre database filename"
          },
          "calibre_uuid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calibre Uuid",
            "description": "Calibre library UUID"
          },
          "use_split_library": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Use Split Library",
            "description": "Whether to use split library mode"
          },
          "split_library_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Split Library Dir",
            "description": "Directory for split library mode"
          },
          "auto_reconnect": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Reconnect",
            "description": "Whether to automatically reconnect on errors"
          },
          "auto_metadata_enforcement": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Metadata Enforcement",
            "description": "Whether to automatically enforce metadata and cover changes to ebook files"
          },
          "auto_convert_on_ingest": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Convert On Ingest",
            "description": "Whether to automatically convert books to target format during auto-ingest"
          },
          "auto_convert_target_format": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Convert Target Format",
            "description": "Target format for automatic conversion during ingest (e.g., 'epub')"
          },
          "auto_convert_ignored_formats": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Convert Ignored Formats",
            "description": "JSON array of format strings to ignore during auto-conversion on ingest"
          },
          "auto_convert_backup_originals": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Convert Backup Originals",
            "description": "Whether to backup original files before conversion during ingest"
          },
          "epub_fixer_auto_fix_on_ingest": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Epub Fixer Auto Fix On Ingest",
            "description": "Whether to automatically fix EPUBs on book upload/ingest"
          },
          "duplicate_handling": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duplicate Handling",
            "description": "Strategy for handling duplicate books during ingest: IGNORE, OVERWRITE, or CREATE_NEW"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "Set as the active library"
          }
        },
        "type": "object",
        "title": "LibraryUpdate",
        "description": "Payload to update a library."
      },
      "LoginRequest": {
        "properties": {
          "identifier": {
            "type": "string",
            "title": "Identifier"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "identifier",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Login by username or email and password."
      },
      "LoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "user": {
            "$ref": "#/components/schemas/UserRead"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "user"
        ],
        "title": "LoginResponse",
        "description": "Login response containing access token and user data."
      },
      "MetadataProvidersResponse": {
        "properties": {
          "providers": {
            "items": {
              "$ref": "#/components/schemas/MetadataSourceInfo"
            },
            "type": "array",
            "title": "Providers"
          }
        },
        "type": "object",
        "title": "MetadataProvidersResponse",
        "description": "List of available metadata providers.\n\nAttributes\n----------\nproviders : list[MetadataSourceInfo]\n    List of available metadata providers."
      },
      "MetadataRecord": {
        "properties": {
          "source_id": {
            "type": "string",
            "title": "Source Id"
          },
          "external_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ],
            "title": "External Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "authors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Authors"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "cover_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cover Url"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "series": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series"
          },
          "series_index": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Index"
          },
          "identifiers": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Identifiers"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "languages": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Languages"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          }
        },
        "type": "object",
        "required": [
          "source_id",
          "external_id",
          "title",
          "url"
        ],
        "title": "MetadataRecord",
        "description": "A single metadata record from an external source.\n\nThis represents book metadata fetched from various sources (APIs, HTML, XML, etc.).\nThe structure is designed to be flexible and accommodate different source formats.\n\nAttributes\n----------\nsource_id : str\n    Identifier of the source provider.\nexternal_id : str | int\n    Unique identifier for this record in the external source.\ntitle : str\n    Book title.\nauthors : list[str]\n    List of author names.\nurl : str\n    URL to the book page on the source website.\ncover_url : str | None\n    URL to the book cover image.\ndescription : str | None\n    Book description/synopsis.\nseries : str | None\n    Series name if part of a series.\nseries_index : float | None\n    Position in series (1.0 = first book).\nidentifiers : dict[str, str]\n    Dictionary of identifiers (e.g., {'isbn': '9781234567890', 'asin': 'B00ABC123'}).\npublisher : str | None\n    Publisher name.\npublished_date : str | None\n    Publication date (format varies by source).\nrating : float | None\n    Average rating (typically 0-5 scale).\nlanguages : list[str]\n    List of language codes or names.\ntags : list[str]\n    List of tags/categories/genres."
      },
      "MetadataSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 1,
            "title": "Query"
          },
          "locale": {
            "type": "string",
            "title": "Locale",
            "default": "en"
          },
          "max_results_per_provider": {
            "type": "integer",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Max Results Per Provider",
            "default": 10
          },
          "provider_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Ids"
          },
          "enable_providers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Providers"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "MetadataSearchRequest",
        "description": "Metadata search request.\n\nAttributes\n----------\nquery : str\n    Search query (title, author, ISBN, etc.).\nlocale : str\n    Locale code for localized results (default: 'en').\nmax_results_per_provider : int\n    Maximum results per provider (default: 10).\nprovider_ids : list[str] | None\n    List of provider IDs to search. If None, searches all enabled providers.\nenable_providers : list[str] | None\n    List of provider names to enable. If empty or None, all available providers\n    are enabled. Unknown provider names are ignored."
      },
      "MetadataSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/MetadataRecord"
            },
            "type": "array",
            "title": "Results"
          }
        },
        "type": "object",
        "title": "MetadataSearchResponse",
        "description": "Metadata search response.\n\nAttributes\n----------\nresults : list[MetadataRecord]\n    List of metadata records from all providers."
      },
      "MetadataSourceInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "base_url": {
            "type": "string",
            "title": "Base Url"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "base_url"
        ],
        "title": "MetadataSourceInfo",
        "description": "Information about a metadata source provider.\n\nAttributes\n----------\nid : str\n    Unique identifier for the source (e.g., 'google', 'amazon').\nname : str\n    Human-readable name of the source.\ndescription : str\n    Description of the source.\nbase_url : str\n    Base URL of the source website/API."
      },
      "MonitorMode": {
        "type": "string",
        "enum": [
          "book_only",
          "series",
          "author"
        ],
        "title": "MonitorMode",
        "description": "Monitor mode for tracked books.\n\nAttributes\n----------\nBOOK_ONLY : str\n    Monitor only this specific book.\nSERIES : str\n    Monitor the series this book belongs to.\nAUTHOR : str\n    Monitor all books by this author."
      },
      "OIDCCallbackRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code"
          },
          "state": {
            "type": "string",
            "minLength": 1,
            "title": "State"
          },
          "redirect_uri": {
            "type": "string",
            "maxLength": 2048,
            "minLength": 1,
            "title": "Redirect Uri"
          }
        },
        "type": "object",
        "required": [
          "code",
          "state",
          "redirect_uri"
        ],
        "title": "OIDCCallbackRequest",
        "description": "OIDC callback payload forwarded by frontend/API client.\n\nParameters\n----------\ncode : str\n    Authorization code from the OIDC provider.\nstate : str\n    Signed state token returned from the authorization request.\nredirect_uri : str\n    Redirect URI used for the authorization request (must match the state)."
      },
      "OpenLibraryDumpConfigRead": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "authors_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authors Url"
          },
          "works_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Works Url"
          },
          "editions_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Editions Url"
          },
          "default_process_authors": {
            "type": "boolean",
            "title": "Default Process Authors",
            "default": true
          },
          "default_process_works": {
            "type": "boolean",
            "title": "Default Process Works",
            "default": true
          },
          "default_process_editions": {
            "type": "boolean",
            "title": "Default Process Editions",
            "default": false
          },
          "staleness_threshold_days": {
            "type": "integer",
            "title": "Staleness Threshold Days",
            "default": 30
          },
          "enable_auto_download": {
            "type": "boolean",
            "title": "Enable Auto Download",
            "default": false
          },
          "enable_auto_process": {
            "type": "boolean",
            "title": "Enable Auto Process",
            "default": false
          },
          "auto_check_interval_hours": {
            "type": "integer",
            "title": "Auto Check Interval Hours",
            "default": 24
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "title": "OpenLibraryDumpConfigRead",
        "description": "OpenLibrary dump configuration representation (read)."
      },
      "OpenLibraryDumpConfigUpdate": {
        "properties": {
          "authors_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Authors Url"
          },
          "works_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Works Url"
          },
          "editions_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Editions Url"
          },
          "default_process_authors": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Process Authors"
          },
          "default_process_works": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Process Works"
          },
          "default_process_editions": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Process Editions"
          },
          "staleness_threshold_days": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Staleness Threshold Days"
          },
          "enable_auto_download": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Auto Download"
          },
          "enable_auto_process": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enable Auto Process"
          },
          "auto_check_interval_hours": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 168.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Check Interval Hours"
          }
        },
        "type": "object",
        "title": "OpenLibraryDumpConfigUpdate",
        "description": "Payload to create or update OpenLibrary dump configuration."
      },
      "PVRDownloadRequest": {
        "properties": {
          "release_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Release Index",
            "description": "Index of the release in search results (0-based)"
          },
          "download_client_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Client Id",
            "description": "Optional specific download client ID"
          }
        },
        "type": "object",
        "required": [
          "release_index"
        ],
        "title": "PVRDownloadRequest",
        "description": "Request schema for triggering download of a release.\n\nAttributes\n----------\nrelease_index : int\n    Index of the release in the search results (0-based).\ndownload_client_id : int | None\n    Optional specific download client ID to use. If None, selects automatically."
      },
      "PVRDownloadResponse": {
        "properties": {
          "tracked_book_id": {
            "type": "integer",
            "title": "Tracked Book Id",
            "description": "ID of the tracked book"
          },
          "download_item_id": {
            "type": "integer",
            "title": "Download Item Id",
            "description": "ID of the download item"
          },
          "release_title": {
            "type": "string",
            "title": "Release Title",
            "description": "Title of the release"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "tracked_book_id",
          "download_item_id",
          "release_title",
          "message"
        ],
        "title": "PVRDownloadResponse",
        "description": "Response schema for download initiation.\n\nAttributes\n----------\ntracked_book_id : int\n    ID of the tracked book.\ndownload_item_id : int\n    ID of the created download item.\nrelease_title : str\n    Title of the release being downloaded.\nmessage : str\n    Status message."
      },
      "PVRSearchRequest": {
        "properties": {
          "tracked_book_id": {
            "type": "integer",
            "title": "Tracked Book Id",
            "description": "ID of the tracked book to search for"
          },
          "indexer_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Indexer Ids",
            "description": "Optional list of specific indexer IDs to search"
          },
          "max_results_per_indexer": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 1.0,
            "title": "Max Results Per Indexer",
            "description": "Maximum results per indexer",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "tracked_book_id"
        ],
        "title": "PVRSearchRequest",
        "description": "Request schema for manual search for a tracked book.\n\nAttributes\n----------\ntracked_book_id : int\n    ID of the tracked book to search for.\nindexer_ids : list[int] | None\n    Optional list of specific indexer IDs to search. If None, searches all enabled indexers.\nmax_results_per_indexer : int\n    Maximum results per indexer (default: 100)."
      },
      "PVRSearchResponse": {
        "properties": {
          "tracked_book_id": {
            "type": "integer",
            "title": "Tracked Book Id",
            "description": "ID of the tracked book"
          },
          "search_initiated": {
            "type": "boolean",
            "title": "Search Initiated",
            "description": "Whether search was initiated"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "tracked_book_id",
          "search_initiated",
          "message"
        ],
        "title": "PVRSearchResponse",
        "description": "Response schema for search initiation.\n\nAttributes\n----------\ntracked_book_id : int\n    ID of the tracked book that was searched.\nsearch_initiated : bool\n    Whether the search was successfully initiated.\nmessage : str\n    Status message."
      },
      "PVRSearchResultsResponse": {
        "properties": {
          "tracked_book_id": {
            "type": "integer",
            "title": "Tracked Book Id",
            "description": "ID of the tracked book"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResultRead"
            },
            "type": "array",
            "title": "Results",
            "description": "List of search results"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of results"
          }
        },
        "type": "object",
        "required": [
          "tracked_book_id",
          "results",
          "total"
        ],
        "title": "PVRSearchResultsResponse",
        "description": "Response schema for search results.\n\nAttributes\n----------\ntracked_book_id : int\n    ID of the tracked book.\nresults : list[SearchResultRead]\n    List of search results, sorted by score (highest first).\ntotal : int\n    Total number of results."
      },
      "PasswordChangeRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "minLength": 1,
            "title": "Current Password"
          },
          "new_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "PasswordChangeRequest",
        "description": "Request to change user password."
      },
      "PermissionAssignment": {
        "properties": {
          "permission_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permission Id",
            "description": "Existing permission ID. If None, permission_name must be provided."
          },
          "permission_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Permission Name",
            "description": "Permission name. If permission_id is None, this will be used to find or create the permission."
          },
          "resource": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource",
            "description": "Resource name (required if creating new permission)."
          },
          "action": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Action",
            "description": "Action name (required if creating new permission)."
          },
          "permission_description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Permission Description",
            "description": "Permission description (for new permissions)."
          },
          "condition": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition",
            "description": "Optional condition for resource-specific permissions (must be valid JSON)."
          }
        },
        "type": "object",
        "title": "PermissionAssignment",
        "description": "Permission assignment for role creation/update."
      },
      "PermissionCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "resource": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Resource"
          },
          "action": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Action"
          },
          "condition": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition",
            "description": "Optional condition for resource-specific permissions (must be valid JSON)."
          }
        },
        "type": "object",
        "required": [
          "name",
          "resource",
          "action"
        ],
        "title": "PermissionCreate",
        "description": "Payload to create a new permission."
      },
      "PermissionRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "resource": {
            "type": "string",
            "title": "Resource"
          },
          "action": {
            "type": "string",
            "title": "Action"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "resource",
          "action"
        ],
        "title": "PermissionRead",
        "description": "Permission representation."
      },
      "PermissionUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "resource": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource"
          },
          "action": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Action"
          }
        },
        "type": "object",
        "title": "PermissionUpdate",
        "description": "Payload to update a permission."
      },
      "PhotoFromUrlRequest": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "URL of the image to download and save"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "PhotoFromUrlRequest",
        "description": "Request model for uploading photo from URL.\n\nAttributes\n----------\nurl : str\n    URL of the image to download and save."
      },
      "PhotoUploadResponse": {
        "properties": {
          "photo_id": {
            "type": "integer",
            "title": "Photo Id"
          },
          "photo_url": {
            "type": "string",
            "title": "Photo Url"
          },
          "file_path": {
            "type": "string",
            "title": "File Path"
          }
        },
        "type": "object",
        "required": [
          "photo_id",
          "photo_url",
          "file_path"
        ],
        "title": "PhotoUploadResponse",
        "description": "Response model for photo upload operations.\n\nAttributes\n----------\nphoto_id : int\n    ID of the created photo record.\nphoto_url : str\n    URL to access the uploaded photo.\nfile_path : str\n    Relative file path from data_directory."
      },
      "PluginInfo": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "author": {
            "type": "string",
            "title": "Author"
          }
        },
        "type": "object",
        "required": [
          "name",
          "version",
          "description",
          "author"
        ],
        "title": "PluginInfo",
        "description": "Schema for installed plugin information."
      },
      "PluginInstallRequest": {
        "properties": {
          "repo_url": {
            "type": "string",
            "title": "Repo Url"
          },
          "plugin_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plugin Path"
          },
          "branch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch"
          }
        },
        "type": "object",
        "required": [
          "repo_url"
        ],
        "title": "PluginInstallRequest",
        "description": "Schema for plugin installation request (from Git)."
      },
      "PluginUrlInstallRequest": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "PluginUrlInstallRequest",
        "description": "Schema for plugin installation request (from URL)."
      },
      "ProfilePictureUpdateRequest": {
        "properties": {
          "picture_path": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Picture Path"
          }
        },
        "type": "object",
        "required": [
          "picture_path"
        ],
        "title": "ProfilePictureUpdateRequest",
        "description": "Request to update profile picture."
      },
      "ProfileRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "profile_picture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profile Picture"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "email",
          "profile_picture",
          "is_admin"
        ],
        "title": "ProfileRead",
        "description": "Extended user profile with profile picture."
      },
      "ProfileUpdate": {
        "properties": {
          "username": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50,
                "minLength": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          }
        },
        "type": "object",
        "title": "ProfileUpdate",
        "description": "Payload to update user profile information."
      },
      "ProwlarrConfigRead": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "default": "http://localhost:9696"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "sync_categories": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync Categories"
          },
          "sync_app_profiles": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync App Profiles"
          },
          "sync_interval_minutes": {
            "type": "integer",
            "title": "Sync Interval Minutes",
            "default": 60
          },
          "id": {
            "type": "integer",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "ProwlarrConfigRead",
        "description": "Schema for reading Prowlarr configuration."
      },
      "ProwlarrConfigUpdate": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "default": "http://localhost:9696"
          },
          "api_key": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Key"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false
          },
          "sync_categories": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync Categories"
          },
          "sync_app_profiles": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sync App Profiles"
          },
          "sync_interval_minutes": {
            "type": "integer",
            "title": "Sync Interval Minutes",
            "default": 60
          }
        },
        "type": "object",
        "title": "ProwlarrConfigUpdate",
        "description": "Schema for updating Prowlarr configuration."
      },
      "ReadStatusRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "library_id": {
            "type": "integer",
            "title": "Library Id"
          },
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "first_opened_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Opened At"
          },
          "marked_as_read_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marked As Read At"
          },
          "auto_marked": {
            "type": "boolean",
            "title": "Auto Marked"
          },
          "progress_when_marked": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress When Marked"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "library_id",
          "book_id",
          "status",
          "first_opened_at",
          "marked_as_read_at",
          "auto_marked",
          "progress_when_marked",
          "created_at",
          "updated_at"
        ],
        "title": "ReadStatusRead",
        "description": "Response schema for read status data.\n\nAttributes\n----------\nid : int\n    Status primary key.\nuser_id : int\n    User ID.\nlibrary_id : int\n    Library ID.\nbook_id : int\n    Book ID.\nstatus : str\n    Current read status (NOT_READ, READING, READ).\nfirst_opened_at : datetime | None\n    Timestamp when book was first opened.\nmarked_as_read_at : datetime | None\n    Timestamp when book was marked as read.\nauto_marked : bool\n    Whether book was automatically marked as read.\nprogress_when_marked : float | None\n    Progress percentage when marked as read.\ncreated_at : datetime\n    Record creation timestamp.\nupdated_at : datetime\n    Last update timestamp."
      },
      "ReadStatusUpdate": {
        "properties": {
          "status": {
            "type": "string",
            "pattern": "^(read|not_read)$",
            "title": "Status",
            "description": "Read status: 'read' or 'not_read'"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ReadStatusUpdate",
        "description": "Request schema for updating read status.\n\nAttributes\n----------\nstatus : str\n    Read status: 'read' or 'not_read'."
      },
      "ReadingHistoryResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/ReadingSessionRead"
            },
            "type": "array",
            "title": "Sessions"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "total"
        ],
        "title": "ReadingHistoryResponse",
        "description": "Response schema for reading history.\n\nAttributes\n----------\nsessions : list[ReadingSessionRead]\n    List of reading sessions.\ntotal : int\n    Total number of sessions."
      },
      "ReadingProgressCreate": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id",
            "description": "Book ID"
          },
          "format": {
            "type": "string",
            "maxLength": 10,
            "title": "Format",
            "description": "Book format (EPUB, PDF, etc.)"
          },
          "progress": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Reading progress as percentage (0.0 to 1.0)"
          },
          "cfi": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Cfi",
            "description": "Canonical Fragment Identifier for EPUB"
          },
          "page_number": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Number",
            "description": "Page number for PDF or comic formats"
          },
          "device": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Device",
            "description": "Device identifier"
          },
          "spread_mode": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Spread Mode",
            "description": "Whether reading in spread mode for comics"
          },
          "reading_direction": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Reading Direction",
            "description": "Reading direction for comics: 'ltr', 'rtl', or 'vertical'"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "format",
          "progress"
        ],
        "title": "ReadingProgressCreate",
        "description": "Request schema for creating/updating reading progress.\n\nAttributes\n----------\nbook_id : int\n    Book ID.\nformat : str\n    Book format (EPUB, PDF, etc.).\nprogress : float\n    Reading progress as percentage (0.0 to 1.0).\ncfi : str | None\n    Canonical Fragment Identifier for EPUB (optional).\npage_number : int | None\n    Page number for PDF or comic formats (optional).\ndevice : str | None\n    Device identifier (optional).\nspread_mode : bool | None\n    Whether reading in spread mode for comics (optional).\nreading_direction : str | None\n    Reading direction for comics: 'ltr', 'rtl', or 'vertical' (optional)."
      },
      "ReadingProgressRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "library_id": {
            "type": "integer",
            "title": "Library Id"
          },
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "format": {
            "type": "string",
            "title": "Format"
          },
          "progress": {
            "type": "number",
            "title": "Progress"
          },
          "cfi": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cfi"
          },
          "page_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Number"
          },
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device"
          },
          "spread_mode": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Spread Mode"
          },
          "reading_direction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reading Direction"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "library_id",
          "book_id",
          "format",
          "progress",
          "cfi",
          "page_number",
          "device",
          "updated_at"
        ],
        "title": "ReadingProgressRead",
        "description": "Response schema for reading progress data.\n\nAttributes\n----------\nid : int\n    Progress primary key.\nuser_id : int\n    User ID.\nlibrary_id : int\n    Library ID.\nbook_id : int\n    Book ID.\nformat : str\n    Book format.\nprogress : float\n    Reading progress (0.0 to 1.0).\ncfi : str | None\n    CFI for EPUB.\npage_number : int | None\n    Page number for PDF or comic formats.\ndevice : str | None\n    Device identifier.\nspread_mode : bool | None\n    Whether reading in spread mode for comics.\nreading_direction : str | None\n    Reading direction for comics: 'ltr', 'rtl', or 'vertical'.\nupdated_at : datetime\n    Last update timestamp."
      },
      "ReadingSessionCreate": {
        "properties": {
          "book_id": {
            "type": "integer",
            "title": "Book Id",
            "description": "Book ID"
          },
          "format": {
            "type": "string",
            "maxLength": 10,
            "title": "Format",
            "description": "Book format (EPUB, PDF, etc.)"
          },
          "device": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Device",
            "description": "Device identifier"
          }
        },
        "type": "object",
        "required": [
          "book_id",
          "format"
        ],
        "title": "ReadingSessionCreate",
        "description": "Request schema for starting a reading session.\n\nAttributes\n----------\nbook_id : int\n    Book ID.\nformat : str\n    Book format (EPUB, PDF, etc.).\ndevice : str | None\n    Device identifier (optional)."
      },
      "ReadingSessionEnd": {
        "properties": {
          "progress_end": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Progress End",
            "description": "Final reading progress (0.0 to 1.0)"
          }
        },
        "type": "object",
        "required": [
          "progress_end"
        ],
        "title": "ReadingSessionEnd",
        "description": "Request schema for ending a reading session.\n\nAttributes\n----------\nprogress_end : float\n    Final reading progress (0.0 to 1.0)."
      },
      "ReadingSessionRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "library_id": {
            "type": "integer",
            "title": "Library Id"
          },
          "book_id": {
            "type": "integer",
            "title": "Book Id"
          },
          "format": {
            "type": "string",
            "title": "Format"
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "title": "Started At"
          },
          "ended_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ended At"
          },
          "progress_start": {
            "type": "number",
            "title": "Progress Start"
          },
          "progress_end": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress End"
          },
          "device": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "library_id",
          "book_id",
          "format",
          "started_at",
          "ended_at",
          "progress_start",
          "progress_end",
          "device",
          "created_at",
          "duration"
        ],
        "title": "ReadingSessionRead",
        "description": "Response schema for reading session data.\n\nAttributes\n----------\nid : int\n    Session primary key.\nuser_id : int\n    User ID.\nlibrary_id : int\n    Library ID.\nbook_id : int\n    Book ID.\nformat : str\n    Book format.\nstarted_at : datetime\n    Session start timestamp.\nended_at : datetime | None\n    Session end timestamp (None if ongoing).\nprogress_start : float\n    Progress at session start.\nprogress_end : float | None\n    Progress at session end (None if ongoing).\ndevice : str | None\n    Device identifier.\ncreated_at : datetime\n    Record creation timestamp.\nduration : float | None\n    Session duration in seconds (None if ongoing)."
      },
      "ReadingSessionsListResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/ReadingSessionRead"
            },
            "type": "array",
            "title": "Sessions"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "total",
          "page",
          "page_size"
        ],
        "title": "ReadingSessionsListResponse",
        "description": "Response schema for listing reading sessions.\n\nAttributes\n----------\nsessions : list[ReadingSessionRead]\n    List of reading sessions.\ntotal : int\n    Total number of sessions.\npage : int\n    Current page number.\npage_size : int\n    Number of items per page."
      },
      "RecentReadsResponse": {
        "properties": {
          "reads": {
            "items": {
              "$ref": "#/components/schemas/ReadingProgressRead"
            },
            "type": "array",
            "title": "Reads"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "reads",
          "total"
        ],
        "title": "RecentReadsResponse",
        "description": "Response schema for recent reads list.\n\nAttributes\n----------\nreads : list[ReadingProgressRead]\n    List of recent reading progress records.\ntotal : int\n    Total number of recent reads."
      },
      "ReleaseInfoRead": {
        "properties": {
          "indexer_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Indexer Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "download_url": {
            "type": "string",
            "title": "Download Url"
          },
          "size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size Bytes"
          },
          "publish_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publish Date"
          },
          "seeders": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seeders"
          },
          "leechers": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Leechers"
          },
          "quality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quality"
          },
          "author": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Author"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "additional_info": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Additional Info"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "guid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Guid"
          },
          "warning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warning"
          }
        },
        "type": "object",
        "required": [
          "title",
          "download_url"
        ],
        "title": "ReleaseInfoRead",
        "description": "Response schema for release information.\n\nAttributes\n----------\nindexer_id : int | None\n    ID of the indexer that provided this release.\ntitle : str\n    Release title/name.\ndownload_url : str\n    URL or magnet link for downloading.\nsize_bytes : int | None\n    Size of the release in bytes.\npublish_date : datetime | None\n    Date when the release was published.\nseeders : int | None\n    Number of seeders (for torrents).\nleechers : int | None\n    Number of leechers (for torrents).\nquality : str | None\n    Quality/format indicator (e.g., 'epub', 'pdf').\nauthor : str | None\n    Author name if available.\nisbn : str | None\n    ISBN if available.\ndescription : str | None\n    Release description/details.\ncategory : str | None\n    Category name or ID.\nadditional_info : dict[str, str | int | float | None] | None\n    Additional indexer-specific metadata."
      },
      "RoleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 64,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "permissions": {
            "items": {
              "$ref": "#/components/schemas/PermissionAssignment"
            },
            "type": "array",
            "title": "Permissions",
            "description": "List of permissions to assign to the role."
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "RoleCreate",
        "description": "Payload to create a new role."
      },
      "RolePermissionGrant": {
        "properties": {
          "permission_id": {
            "type": "integer",
            "title": "Permission Id"
          },
          "condition": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition",
            "description": "Optional condition for resource-specific permissions"
          }
        },
        "type": "object",
        "required": [
          "permission_id"
        ],
        "title": "RolePermissionGrant",
        "description": "Payload to grant a permission to a role."
      },
      "RolePermissionRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "permission": {
            "$ref": "#/components/schemas/PermissionRead"
          },
          "condition": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition"
          },
          "assigned_at": {
            "type": "string",
            "format": "date-time",
            "title": "Assigned At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "permission",
          "assigned_at"
        ],
        "title": "RolePermissionRead",
        "description": "Role-permission association representation."
      },
      "RolePermissionUpdate": {
        "properties": {
          "condition": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition",
            "description": "Optional condition for resource-specific permissions (must be valid JSON)."
          }
        },
        "type": "object",
        "title": "RolePermissionUpdate",
        "description": "Payload to update a role-permission association."
      },
      "RoleRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "permissions": {
            "items": {
              "$ref": "#/components/schemas/RolePermissionRead"
            },
            "type": "array",
            "title": "Permissions"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "RoleRead",
        "description": "Role representation."
      },
      "RoleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "permissions": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PermissionAssignment"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "List of permissions to assign to the role. If provided, replaces all existing permissions."
          },
          "removed_permission_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Removed Permission Ids",
            "description": "List of role_permission IDs to remove (for granular updates)."
          }
        },
        "type": "object",
        "title": "RoleUpdate",
        "description": "Payload to update a role."
      },
      "ScanRequest": {
        "properties": {
          "library_id": {
            "type": "integer",
            "title": "Library Id"
          },
          "data_source_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data Source Config"
          }
        },
        "type": "object",
        "required": [
          "library_id"
        ],
        "title": "ScanRequest",
        "description": "Request model for initiating a library scan."
      },
      "ScanResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "message"
        ],
        "title": "ScanResponse",
        "description": "Response model for scan initiation."
      },
      "ScanStateResponse": {
        "properties": {
          "library_id": {
            "type": "integer",
            "title": "Library Id"
          },
          "last_scan_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Scan At"
          },
          "scan_status": {
            "type": "string",
            "title": "Scan Status"
          },
          "books_scanned": {
            "type": "integer",
            "title": "Books Scanned"
          },
          "authors_scanned": {
            "type": "integer",
            "title": "Authors Scanned"
          }
        },
        "type": "object",
        "required": [
          "library_id",
          "last_scan_at",
          "scan_status",
          "books_scanned",
          "authors_scanned"
        ],
        "title": "ScanStateResponse",
        "description": "Response model for scan state."
      },
      "ScheduledJobRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "job_name": {
            "type": "string",
            "title": "Job Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "task_type": {
            "type": "string",
            "title": "Task Type"
          },
          "cron_expression": {
            "type": "string",
            "title": "Cron Expression"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_run_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run At"
          },
          "last_run_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run Status"
          }
        },
        "type": "object",
        "required": [
          "id",
          "job_name",
          "task_type",
          "cron_expression",
          "enabled",
          "created_at",
          "updated_at"
        ],
        "title": "ScheduledJobRead",
        "description": "Scheduled job definition representation (read)."
      },
      "ScheduledJobUpdate": {
        "properties": {
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "cron_expression": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Cron Expression"
          }
        },
        "type": "object",
        "title": "ScheduledJobUpdate",
        "description": "Payload to update a scheduled job definition.\n\nNotes\n-----\nValidation of the cron expression's correctness is performed server-side\nusing APScheduler's ``CronTrigger.from_crontab``."
      },
      "ScheduledTasksConfigRead": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "start_time_hour": {
            "type": "integer",
            "title": "Start Time Hour"
          },
          "duration_hours": {
            "type": "integer",
            "title": "Duration Hours"
          },
          "generate_book_covers": {
            "type": "boolean",
            "title": "Generate Book Covers"
          },
          "generate_series_covers": {
            "type": "boolean",
            "title": "Generate Series Covers"
          },
          "reconnect_database": {
            "type": "boolean",
            "title": "Reconnect Database"
          },
          "metadata_backup": {
            "type": "boolean",
            "title": "Metadata Backup"
          },
          "epub_fixer_daily_scan": {
            "type": "boolean",
            "title": "Epub Fixer Daily Scan"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "start_time_hour",
          "duration_hours",
          "generate_book_covers",
          "generate_series_covers",
          "reconnect_database",
          "metadata_backup",
          "epub_fixer_daily_scan"
        ],
        "title": "ScheduledTasksConfigRead",
        "description": "Scheduled tasks configuration representation (read)."
      },
      "ScheduledTasksConfigUpdate": {
        "properties": {
          "start_time_hour": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 23.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time Hour"
          },
          "duration_hours": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 24.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Hours"
          },
          "generate_book_covers": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generate Book Covers"
          },
          "generate_series_covers": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generate Series Covers"
          },
          "reconnect_database": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reconnect Database"
          },
          "metadata_backup": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Backup"
          },
          "epub_fixer_daily_scan": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Epub Fixer Daily Scan"
          }
        },
        "type": "object",
        "title": "ScheduledTasksConfigUpdate",
        "description": "Payload to create or update scheduled tasks configuration."
      },
      "SearchResultRead": {
        "properties": {
          "release": {
            "$ref": "#/components/schemas/ReleaseInfoRead"
          },
          "score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "description": "Quality/relevance score"
          },
          "indexer_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Indexer Name",
            "description": "Indexer name"
          },
          "indexer_priority": {
            "type": "integer",
            "title": "Indexer Priority",
            "description": "Indexer priority",
            "default": 0
          },
          "indexer_protocol": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Indexer Protocol",
            "description": "Indexer protocol (torrent/usenet)"
          },
          "download_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Status",
            "description": "Current download status if already downloaded"
          },
          "download_item_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Item Id",
            "description": "ID of the download item if already downloaded"
          }
        },
        "type": "object",
        "required": [
          "release",
          "score"
        ],
        "title": "SearchResultRead",
        "description": "Response schema for a single search result.\n\nAttributes\n----------\nrelease : ReleaseInfoRead\n    The release information.\nscore : float\n    Quality/relevance score (0.0-1.0, higher is better).\nindexer_name : str | None\n    Name of the indexer that provided this result.\nindexer_priority : int\n    Priority of the indexer (lower = higher priority)."
      },
      "SearchSuggestionItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "SearchSuggestionItem",
        "description": "Single search suggestion item.\n\nAttributes\n----------\nid : int\n    Identifier for the item (book ID, author ID, tag ID, etc.).\nname : str\n    Display name for the suggestion."
      },
      "SearchSuggestionsResponse": {
        "properties": {
          "books": {
            "items": {
              "$ref": "#/components/schemas/SearchSuggestionItem"
            },
            "type": "array",
            "title": "Books"
          },
          "authors": {
            "items": {
              "$ref": "#/components/schemas/SearchSuggestionItem"
            },
            "type": "array",
            "title": "Authors"
          },
          "tags": {
            "items": {
              "$ref": "#/components/schemas/SearchSuggestionItem"
            },
            "type": "array",
            "title": "Tags"
          },
          "series": {
            "items": {
              "$ref": "#/components/schemas/SearchSuggestionItem"
            },
            "type": "array",
            "title": "Series"
          }
        },
        "type": "object",
        "title": "SearchSuggestionsResponse",
        "description": "Search suggestions response.\n\nAttributes\n----------\nbooks : list[SearchSuggestionItem]\n    List of book title matches.\nauthors : list[SearchSuggestionItem]\n    List of author name matches.\ntags : list[SearchSuggestionItem]\n    List of tag matches.\nseries : list[SearchSuggestionItem]\n    List of series matches."
      },
      "SettingRead": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key"
          },
          "value": {
            "type": "string",
            "title": "Value"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "key",
          "value",
          "updated_at"
        ],
        "title": "SettingRead",
        "description": "User setting representation."
      },
      "SettingUpdate": {
        "properties": {
          "value": {
            "type": "string",
            "maxLength": 1000,
            "title": "Value"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "value"
        ],
        "title": "SettingUpdate",
        "description": "Payload to update a user setting."
      },
      "SettingsRead": {
        "properties": {
          "settings": {
            "additionalProperties": {
              "$ref": "#/components/schemas/SettingRead"
            },
            "type": "object",
            "title": "Settings"
          }
        },
        "type": "object",
        "title": "SettingsRead",
        "description": "Collection of user settings."
      },
      "ShelfCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "title": "Name",
            "description": "Shelf name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the shelf"
          },
          "is_public": {
            "type": "boolean",
            "title": "Is Public",
            "description": "Whether the shelf is shared with everyone",
            "default": false
          },
          "shelf_type": {
            "$ref": "#/components/schemas/ShelfTypeEnum",
            "description": "Type of the shelf (SHELF or READ_LIST)",
            "default": "shelf"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ShelfCreate",
        "description": "Request schema for creating a shelf.\n\nAttributes\n----------\nname : str\n    Shelf name (must be unique per user for private, globally for public).\ndescription : str | None\n    Optional description of the shelf.\nis_public : bool\n    Whether the shelf is shared with everyone.\nshelf_type : ShelfTypeEnum\n    Type of the shelf (SHELF or READ_LIST)."
      },
      "ShelfListResponse": {
        "properties": {
          "shelves": {
            "items": {
              "$ref": "#/components/schemas/ShelfRead"
            },
            "type": "array",
            "title": "Shelves"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "shelves",
          "total"
        ],
        "title": "ShelfListResponse",
        "description": "Response schema for listing shelves.\n\nAttributes\n----------\nshelves : list[ShelfRead]\n    List of shelves.\ntotal : int\n    Total number of shelves."
      },
      "ShelfRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "uuid": {
            "type": "string",
            "title": "Uuid"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "cover_picture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cover Picture"
          },
          "is_public": {
            "type": "boolean",
            "title": "Is Public"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "shelf_type": {
            "$ref": "#/components/schemas/ShelfTypeEnum"
          },
          "read_list_metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Read List Metadata",
            "description": "Original read list metadata if shelf was created from import"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "library_id": {
            "type": "integer",
            "title": "Library Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_modified": {
            "type": "string",
            "format": "date-time",
            "title": "Last Modified"
          },
          "book_count": {
            "type": "integer",
            "title": "Book Count",
            "description": "Number of books in the shelf",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "uuid",
          "name",
          "description",
          "cover_picture",
          "is_public",
          "is_active",
          "shelf_type",
          "user_id",
          "library_id",
          "created_at",
          "updated_at",
          "last_modified"
        ],
        "title": "ShelfRead",
        "description": "Response schema for shelf data.\n\nAttributes\n----------\nid : int\n    Shelf primary key.\nuuid : str\n    Unique identifier for external references.\nname : str\n    Shelf name.\ndescription : str | None\n    Optional description of the shelf.\ncover_picture : str | None\n    Path to cover picture file (relative to data_directory).\nis_public : bool\n    Whether the shelf is shared with everyone.\nis_active : bool\n    Whether the shelf is active (mirrors library's active status).\nshelf_type : ShelfTypeEnum\n    Type of the shelf (SHELF or READ_LIST).\nread_list_metadata : dict[str, Any] | None\n    Original read list metadata if shelf was created from import.\nuser_id : int\n    Owner user ID.\nlibrary_id : int\n    Library ID the shelf belongs to.\ncreated_at : datetime\n    Shelf creation timestamp.\nupdated_at : datetime\n    Last update timestamp.\nlast_modified : datetime\n    Last time books were added/removed/reordered.\nbook_count : int\n    Number of books in the shelf."
      },
      "ShelfReorderRequest": {
        "properties": {
          "book_orders": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Book Orders",
            "description": "Mapping of book_id to new order value"
          }
        },
        "type": "object",
        "required": [
          "book_orders"
        ],
        "title": "ShelfReorderRequest",
        "description": "Request schema for reordering books in a shelf.\n\nAttributes\n----------\nbook_orders : dict[int, int]\n    Mapping of book_id to new order value."
      },
      "ShelfTypeEnum": {
        "type": "string",
        "enum": [
          "shelf",
          "read_list"
        ],
        "title": "ShelfTypeEnum",
        "description": "Enumeration of shelf types."
      },
      "ShelfUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "New shelf name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "New description"
          },
          "is_public": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Public",
            "description": "Whether the shelf is shared with everyone"
          },
          "shelf_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ShelfTypeEnum"
              },
              {
                "type": "null"
              }
            ],
            "description": "Type of the shelf (SHELF or READ_LIST)"
          }
        },
        "type": "object",
        "title": "ShelfUpdate",
        "description": "Request schema for updating a shelf.\n\nAttributes\n----------\nname : str | None\n    New shelf name (optional).\ndescription : str | None\n    New description (optional).\nis_public : bool | None\n    New public status (optional).\nshelf_type : ShelfTypeEnum | None\n    New shelf type (optional)."
      },
      "TagLookupItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "TagLookupItem",
        "description": "Tag lookup item.\n\nAttributes\n----------\nid : int\n    Tag ID.\nname : str\n    Tag name."
      },
      "TagLookupResponse": {
        "properties": {
          "tags": {
            "items": {
              "$ref": "#/components/schemas/TagLookupItem"
            },
            "type": "array",
            "title": "Tags"
          }
        },
        "type": "object",
        "title": "TagLookupResponse",
        "description": "Tag lookup response.\n\nAttributes\n----------\ntags : list[TagLookupItem]\n    List of matching tags."
      },
      "TaskCancelResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "TaskCancelResponse",
        "description": "Response for task cancellation.\n\nAttributes\n----------\nsuccess : bool\n    Whether cancellation was successful.\nmessage : str\n    Status message."
      },
      "TaskListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/TaskRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "TaskListResponse",
        "description": "Response for task list endpoint.\n\nAttributes\n----------\nitems : list[TaskRead]\n    List of tasks.\ntotal : int\n    Total number of tasks matching filters.\npage : int\n    Current page number.\npage_size : int\n    Number of items per page.\ntotal_pages : int\n    Total number of pages."
      },
      "TaskRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "task_type": {
            "$ref": "#/components/schemas/TaskType"
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "progress": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Progress"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "username": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Username"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "cancelled_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cancelled At"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          }
        },
        "type": "object",
        "required": [
          "id",
          "task_type",
          "status",
          "progress",
          "user_id",
          "created_at"
        ],
        "title": "TaskRead",
        "description": "Task representation for API responses.\n\nAttributes\n----------\nid : int\n    Task ID.\ntask_type : TaskType\n    Type of task.\nstatus : TaskStatus\n    Current status.\nprogress : float\n    Progress (0.0 to 1.0).\nuser_id : int\n    User who created the task.\nusername : str | None\n    Username of the user who created the task.\ncreated_at : datetime\n    Task creation timestamp.\nstarted_at : datetime | None\n    Task start timestamp.\ncompleted_at : datetime | None\n    Task completion timestamp.\ncancelled_at : datetime | None\n    Task cancellation timestamp.\nerror_message : str | None\n    Error message if failed.\nmetadata : dict | None\n    Task metadata (mapped from task_data field).\nduration : float | None\n    Task duration in seconds."
      },
      "TaskStatisticsRead": {
        "properties": {
          "task_type": {
            "$ref": "#/components/schemas/TaskType"
          },
          "avg_duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Duration"
          },
          "min_duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Duration"
          },
          "max_duration": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Duration"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "success_count": {
            "type": "integer",
            "title": "Success Count"
          },
          "failure_count": {
            "type": "integer",
            "title": "Failure Count"
          },
          "last_run_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run At"
          },
          "success_rate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Success Rate"
          }
        },
        "type": "object",
        "required": [
          "task_type",
          "total_count",
          "success_count",
          "failure_count",
          "success_rate"
        ],
        "title": "TaskStatisticsRead",
        "description": "Task statistics representation.\n\nAttributes\n----------\ntask_type : TaskType\n    Type of task.\navg_duration : float | None\n    Average duration in seconds.\nmin_duration : float | None\n    Minimum duration in seconds.\nmax_duration : float | None\n    Maximum duration in seconds.\ntotal_count : int\n    Total number of tasks.\nsuccess_count : int\n    Number of successful tasks.\nfailure_count : int\n    Number of failed tasks.\nlast_run_at : datetime | None\n    Timestamp of last execution.\nsuccess_rate : float\n    Success rate (0.0 to 1.0)."
      },
      "TaskStatus": {
        "type": "string",
        "enum": [
          "pending",
          "running",
          "completed",
          "failed",
          "cancelled"
        ],
        "title": "TaskStatus",
        "description": "Task status enumeration.\n\nAttributes\n----------\nPENDING : str\n    Task is queued but not yet started.\nRUNNING : str\n    Task is currently executing.\nCOMPLETED : str\n    Task completed successfully.\nFAILED : str\n    Task failed with an error.\nCANCELLED : str\n    Task was cancelled before completion."
      },
      "TaskType": {
        "type": "string",
        "enum": [
          "book_upload",
          "multi_book_upload",
          "book_convert",
          "book_strip_drm",
          "email_send",
          "metadata_backup",
          "thumbnail_generate",
          "library_scan",
          "author_metadata_fetch",
          "openlibrary_dump_download",
          "openlibrary_dump_ingest",
          "epub_fix_single",
          "epub_fix_batch",
          "epub_fix_daily_scan",
          "ingest_discovery",
          "ingest_book",
          "pvr_download_monitor",
          "prowlarr_sync",
          "indexer_health_check"
        ],
        "title": "TaskType",
        "description": "Task type enumeration.\n\nAttributes\n----------\nBOOK_UPLOAD : str\n    Single book file upload task.\nMULTI_BOOK_UPLOAD : str\n    Multiple book files upload task.\nBOOK_CONVERT : str\n    Book format conversion task.\nEMAIL_SEND : str\n    Email sending task.\nMETADATA_BACKUP : str\n    Metadata backup task.\nTHUMBNAIL_GENERATE : str\n    Thumbnail generation task.\nLIBRARY_SCAN : str\n    Library scan task (scans authors, genres, series, and publishers)."
      },
      "TaskTypesResponse": {
        "properties": {
          "task_types": {
            "items": {
              "$ref": "#/components/schemas/TaskType"
            },
            "type": "array",
            "title": "Task Types"
          }
        },
        "type": "object",
        "required": [
          "task_types"
        ],
        "title": "TaskTypesResponse",
        "description": "Response for available task types.\n\nAttributes\n----------\ntask_types : list[TaskType]\n    List of available task types."
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "TokenResponse",
        "description": "Bearer token response."
      },
      "TrackedBookCreate": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 500,
            "title": "Title",
            "description": "Book title to track"
          },
          "author": {
            "type": "string",
            "maxLength": 500,
            "title": "Author",
            "description": "Author name to track"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn",
            "description": "Optional ISBN for precise matching"
          },
          "library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Library Id",
            "description": "Target library ID (None uses active library)"
          },
          "metadata_source_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Source Id",
            "description": "Metadata provider source ID"
          },
          "metadata_external_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata External Id",
            "description": "Metadata provider external ID"
          },
          "auto_search_enabled": {
            "type": "boolean",
            "title": "Auto Search Enabled",
            "description": "Whether to automatically search for this book",
            "default": true
          },
          "auto_download_enabled": {
            "type": "boolean",
            "title": "Auto Download Enabled",
            "description": "Whether to automatically download when found",
            "default": false
          },
          "monitor_mode": {
            "$ref": "#/components/schemas/MonitorMode",
            "description": "Monitor mode",
            "default": "book_only"
          },
          "preferred_formats": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Formats",
            "description": "List of preferred formats"
          },
          "cover_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Cover Url",
            "description": "Book cover URL"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Book description/synopsis"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher",
            "description": "Publisher name"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "Publication date"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "Average rating"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "List of tags/genres"
          },
          "series_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Name",
            "description": "Series name"
          },
          "series_index": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Index",
            "description": "Series index/number"
          },
          "exclude_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exclude Keywords",
            "description": "Keywords to exclude from release title/description"
          },
          "require_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Keywords",
            "description": "Keywords that must appear in release title/description"
          },
          "require_title_match": {
            "type": "boolean",
            "title": "Require Title Match",
            "description": "Whether title must match search criteria",
            "default": true
          },
          "require_author_match": {
            "type": "boolean",
            "title": "Require Author Match",
            "description": "Whether author must match search criteria",
            "default": true
          },
          "require_isbn_match": {
            "type": "boolean",
            "title": "Require Isbn Match",
            "description": "Whether ISBN must match if provided",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "title",
          "author"
        ],
        "title": "TrackedBookCreate",
        "description": "Request schema for adding a book to tracking.\n\nAttributes\n----------\ntitle : str\n    Book title to track.\nauthor : str\n    Author name to track.\nisbn : str | None\n    Optional ISBN for more precise matching.\nlibrary_id : int | None\n    Target library ID (None uses active library).\nmetadata_source_id : str | None\n    Source ID of the metadata provider (e.g., 'google').\nmetadata_external_id : str | None\n    External ID from the metadata provider.\nauto_search_enabled : bool\n    Whether to automatically search for this book.\nauto_download_enabled : bool\n    Whether to automatically download when found.\npreferred_formats : list[str] | None\n    List of preferred formats (e.g., ['epub', 'pdf'])."
      },
      "TrackedBookListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/TrackedBookRead"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "TrackedBookListResponse",
        "description": "Response schema for listing tracked books.\n\nAttributes\n----------\nitems : list[TrackedBookRead]\n    List of tracked books.\ntotal : int\n    Total number of tracked books."
      },
      "TrackedBookRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "author": {
            "type": "string",
            "title": "Author"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn"
          },
          "library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Library Id"
          },
          "metadata_source_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Source Id"
          },
          "metadata_external_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata External Id"
          },
          "status": {
            "$ref": "#/components/schemas/TrackedBookStatus"
          },
          "monitor_mode": {
            "$ref": "#/components/schemas/MonitorMode"
          },
          "auto_search_enabled": {
            "type": "boolean",
            "title": "Auto Search Enabled"
          },
          "auto_download_enabled": {
            "type": "boolean",
            "title": "Auto Download Enabled"
          },
          "preferred_formats": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Formats"
          },
          "last_searched_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Searched At"
          },
          "last_downloaded_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Downloaded At"
          },
          "matched_book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Matched Book Id"
          },
          "matched_library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Matched Library Id"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "cover_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cover Url"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "series_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Name"
          },
          "series_index": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Index"
          },
          "exclude_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exclude Keywords"
          },
          "require_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Keywords"
          },
          "require_title_match": {
            "type": "boolean",
            "title": "Require Title Match"
          },
          "require_author_match": {
            "type": "boolean",
            "title": "Require Author Match"
          },
          "require_isbn_match": {
            "type": "boolean",
            "title": "Require Isbn Match"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "files": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/BookFileRead"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Files"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "author",
          "isbn",
          "library_id",
          "metadata_source_id",
          "metadata_external_id",
          "status",
          "monitor_mode",
          "auto_search_enabled",
          "auto_download_enabled",
          "preferred_formats",
          "last_searched_at",
          "last_downloaded_at",
          "matched_book_id",
          "matched_library_id",
          "error_message",
          "cover_url",
          "description",
          "publisher",
          "published_date",
          "rating",
          "tags",
          "series_name",
          "series_index",
          "exclude_keywords",
          "require_keywords",
          "require_title_match",
          "require_author_match",
          "require_isbn_match",
          "created_at",
          "updated_at"
        ],
        "title": "TrackedBookRead",
        "description": "Response schema for tracked book data.\n\nAttributes\n----------\nid : int\n    Primary key identifier.\ntitle : str\n    Book title.\nauthor : str\n    Author name.\nisbn : str | None\n    ISBN.\nlibrary_id : int | None\n    Target library ID.\nmetadata_source_id : str | None\n    Metadata source ID.\nmetadata_external_id : str | None\n    Metadata external ID.\nstatus : TrackedBookStatus\n    Current status.\nauto_search_enabled : bool\n    Auto-search setting.\nauto_download_enabled : bool\n    Auto-download setting.\npreferred_formats : list[str] | None\n    Preferred formats.\nlast_searched_at : datetime | None\n    Timestamp of last search.\nlast_downloaded_at : datetime | None\n    Timestamp of last download.\nmatched_book_id : int | None\n    ID of matched book in Calibre library.\nmatched_library_id : int | None\n    Library ID where match was found.\nerror_message : str | None\n    Error message if failed.\ncreated_at : datetime\n    Creation timestamp.\nupdated_at : datetime\n    Update timestamp."
      },
      "TrackedBookStatus": {
        "type": "string",
        "enum": [
          "wanted",
          "searching",
          "downloading",
          "paused",
          "stalled",
          "seeding",
          "completed",
          "failed",
          "ignored"
        ],
        "title": "TrackedBookStatus",
        "description": "Tracked book status enumeration.\n\nAttributes\n----------\nWANTED : str\n    Book is wanted but not yet searched.\nSEARCHING : str\n    Currently searching indexers for the book.\nDOWNLOADING : str\n    Book is being downloaded.\nPAUSED : str\n    Download is paused.\nSTALLED : str\n    Download is stalled (no peers/seeds).\nSEEDING : str\n    Download completed and is seeding.\nCOMPLETED : str\n    Book download completed and imported.\nFAILED : str\n    Download or import failed.\nIGNORED : str\n    Book tracking is ignored (user disabled)."
      },
      "TrackedBookStatusResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "status": {
            "$ref": "#/components/schemas/TrackedBookStatus"
          },
          "matched_book_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Matched Book Id"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "matched_book_id",
          "error_message"
        ],
        "title": "TrackedBookStatusResponse",
        "description": "Response schema for tracked book status.\n\nAttributes\n----------\nid : int\n    Tracked book ID.\nstatus : TrackedBookStatus\n    Current status.\nmatched_book_id : int | None\n    ID of matched book in Calibre library.\nerror_message : str | None\n    Error message if failed."
      },
      "TrackedBookUpdate": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TrackedBookStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "New tracking status"
          },
          "monitor_mode": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MonitorMode"
              },
              {
                "type": "null"
              }
            ],
            "description": "New monitor mode"
          },
          "auto_search_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Search Enabled",
            "description": "Whether to automatically search for this book"
          },
          "auto_download_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Auto Download Enabled",
            "description": "Whether to automatically download when found"
          },
          "preferred_formats": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Formats",
            "description": "List of preferred formats"
          },
          "library_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Library Id",
            "description": "Target library ID"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Book title"
          },
          "author": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Author",
            "description": "Author name"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn",
            "description": "ISBN"
          },
          "cover_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Cover Url",
            "description": "Cover URL"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Book description"
          },
          "publisher": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Publisher",
            "description": "Publisher"
          },
          "published_date": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Published Date",
            "description": "Publication date"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "Average rating"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "List of tags/genres"
          },
          "series_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Name",
            "description": "Series name"
          },
          "series_index": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Series Index",
            "description": "Series index/number"
          },
          "exclude_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exclude Keywords",
            "description": "Keywords to exclude from release title/description"
          },
          "require_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Keywords",
            "description": "Keywords that must appear in release title/description"
          },
          "require_title_match": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Title Match",
            "description": "Whether title must match search criteria"
          },
          "require_author_match": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Author Match",
            "description": "Whether author must match search criteria"
          },
          "require_isbn_match": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Require Isbn Match",
            "description": "Whether ISBN must match if provided"
          }
        },
        "type": "object",
        "title": "TrackedBookUpdate",
        "description": "Request schema for updating a tracked book.\n\nAll fields are optional for partial updates.\n\nAttributes\n----------\nstatus : TrackedBookStatus | None\n    New tracking status.\nauto_search_enabled : bool | None\n    Whether to automatically search for this book.\nauto_download_enabled : bool | None\n    Whether to automatically download when found.\npreferred_formats : list[str] | None\n    List of preferred formats.\nlibrary_id : int | None\n    Target library ID."
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "email",
          "password"
        ],
        "title": "UserCreate",
        "description": "Payload to create a new user account."
      },
      "UserRead": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "profile_picture": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profile Picture"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin"
          },
          "default_ereader_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Ereader Email"
          },
          "ereader_devices": {
            "items": {
              "$ref": "#/components/schemas/EReaderDeviceRead"
            },
            "type": "array",
            "title": "Ereader Devices"
          },
          "roles": {
            "items": {
              "$ref": "#/components/schemas/RoleRead"
            },
            "type": "array",
            "title": "Roles"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "email",
          "is_admin"
        ],
        "title": "UserRead",
        "description": "Public-facing user representation.\n\nAttributes\n----------\nid : int\n    Primary identifier.\nusername : str\n    Unique username.\nemail : EmailStr\n    Email address.\nfull_name : str | None\n    User's full name.\nprofile_picture : str | None\n    Optional path to user's profile picture.\nis_admin : bool\n    Whether the user has admin privileges.\ndefault_ereader_email : str | None\n    Email address of the default e-reader device, if any.\nereader_devices : list[EReaderDeviceRead]\n    List of e-reader devices for the user.\nroles : list[RoleRead]\n    List of roles assigned to the user."
      },
      "UserRoleAssign": {
        "properties": {
          "role_id": {
            "type": "integer",
            "title": "Role Id"
          }
        },
        "type": "object",
        "required": [
          "role_id"
        ],
        "title": "UserRoleAssign",
        "description": "Payload to assign a role to a user."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}