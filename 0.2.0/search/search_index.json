{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"Bookcard <p>A Modern Self-Hosted Ebook Platform</p> <p>Your entire library, beautifully organized. Open EPUB, PDF, MOBI, AZW3, FB2, and more. Browse your library with a modern, responsive interface. Read directly in your browser with customizable themes, fonts, and layouts. Works seamlessly on desktop, tablet, and mobile devices.</p> <p>Organize your collection with ease. Create custom shelves, search and filter your books, and manage metadata with automatic enrichment from multiple providers. Import your existing Calibre library or start fresh\u2014Bookcard works either way.</p> <p>Enrich your library automatically. Bookcard scans your collection and links books to authoritative databases. Fetch covers, descriptions, and metadata automatically, or edit manually when needed.</p> <p>Read anywhere, on any device. Adjust fonts, spacing, margins, and color schemes. Track your reading progress and pick up where you left off on any device.</p> <p>Send books to your e-reader. Send books via email with one click. Works with Kindle, Kobo, and other e-readers that support email delivery.</p> <p>Extend with a powerful API. Bookcard provides a feature-rich, well-documented, and fully extensible REST API. Integrate with your tools, automate workflows, and build custom applications. View API Documentation</p> <p>Open source. Bookcard is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License.</p>"},{"location":"#get-bookcard","title":"Get Bookcard","text":"<p>Installation Guide | User Guide | API Documentation</p>"},{"location":"#quick-start","title":"Quick Start","text":"<ol> <li>Install Bookcard</li> <li>Configure your library</li> <li>Start reading</li> </ol> <p>For detailed instructions, see the Installation Guide.</p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>User Guide: Installation, configuration, and usage instructions</li> <li>API Documentation: REST API reference for developers</li> <li>Developer Guide: Architecture, contributing, and development setup</li> </ul>"},{"location":"#getting-help","title":"Getting Help","text":"<ul> <li>Check the User Guide for common questions</li> <li>Review the API Documentation for integration details</li> <li>See Contributing for development guidelines</li> </ul>"},{"location":"api/authentication/","title":"API Authentication","text":""},{"location":"api/authentication/#api-authentication","title":"API Authentication","text":"<p>Bookcard supports two authentication methods:</p> <ol> <li>JWT (JSON Web Tokens) - Default authentication</li> <li>OIDC (OpenID Connect) - Enterprise SSO integration</li> </ol>"},{"location":"api/authentication/#jwt-authentication","title":"JWT Authentication","text":""},{"location":"api/authentication/#register-a-user","title":"Register a User","text":"<pre><code>POST /api/auth/register\nContent-Type: application/json\n\n{\n  \"username\": \"newuser\",\n  \"email\": \"user@example.com\",\n  \"password\": \"secure-password\"\n}\n</code></pre>"},{"location":"api/authentication/#login","title":"Login","text":"<pre><code>POST /api/auth/login\nContent-Type: application/json\n\n{\n  \"username\": \"newuser\",\n  \"password\": \"secure-password\"\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"token_type\": \"bearer\"\n}\n</code></pre>"},{"location":"api/authentication/#using-the-token","title":"Using the Token","text":"<p>Include the token in the <code>Authorization</code> header:</p> <pre><code>GET /api/books\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n</code></pre>"},{"location":"api/authentication/#token-expiration","title":"Token Expiration","text":"<p>Tokens expire after a configurable period (default: 3 months). Refresh by logging in again.</p>"},{"location":"api/authentication/#oidc-authentication","title":"OIDC Authentication","text":"<p>When OIDC is enabled, authentication is handled through your OIDC provider. See the User Guide for OIDC configuration.</p>"},{"location":"api/authentication/#oidc-flow","title":"OIDC Flow","text":"<ol> <li>User initiates login via <code>/api/auth/oidc/login</code></li> <li>Redirected to OIDC provider</li> <li>User authenticates with provider</li> <li>Redirected back to <code>/api/auth/oidc/callback</code></li> <li>Application issues JWT token</li> </ol>"},{"location":"api/authentication/#current-user","title":"Current User","text":"<p>Get information about the authenticated user:</p> <pre><code>GET /api/auth/me\nAuthorization: Bearer &lt;token&gt;\n</code></pre> <p>Response:</p> <pre><code>{\n  \"id\": 1,\n  \"username\": \"newuser\",\n  \"email\": \"user@example.com\",\n  \"roles\": [\"user\"]\n}\n</code></pre>"},{"location":"api/authentication/#permissions","title":"Permissions","text":"<p>Different endpoints require different permissions. Check the API Reference for endpoint-specific requirements.</p> <p>Common permissions: - <code>books:read</code> - Read books - <code>books:write</code> - Create/update books - <code>books:delete</code> - Delete books - <code>shelves:read</code> - Read shelves - <code>shelves:write</code> - Create/update shelves - <code>admin:*</code> - Administrative access</p>"},{"location":"api/overview/","title":"API Overview","text":""},{"location":"api/overview/#api-overview","title":"API Overview","text":"<p>Bookcard provides a RESTful API for programmatic access to your library. The API follows REST conventions and uses JSON for request and response bodies.</p>"},{"location":"api/overview/#base-url","title":"Base URL","text":"<pre><code>http://localhost:8000/api\n</code></pre> <p>For production deployments, replace <code>localhost:8000</code> with your domain.</p>"},{"location":"api/overview/#authentication","title":"Authentication","text":"<p>Most API endpoints require authentication. See the Authentication Guide for details.</p>"},{"location":"api/overview/#api-reference","title":"API Reference","text":"<p>The complete API reference with interactive documentation is available at:</p> <ul> <li>Interactive API Reference - Swagger UI with all endpoints</li> <li><code>/docs</code> - FastAPI's built-in Swagger UI (when running the application)</li> </ul>"},{"location":"api/overview/#common-endpoints","title":"Common Endpoints","text":""},{"location":"api/overview/#books","title":"Books","text":"<ul> <li><code>GET /api/books</code> - List books</li> <li><code>GET /api/books/{id}</code> - Get book details</li> <li><code>POST /api/books</code> - Upload a book</li> <li><code>DELETE /api/books/{id}</code> - Delete a book</li> </ul>"},{"location":"api/overview/#shelves","title":"Shelves","text":"<ul> <li><code>GET /api/shelves</code> - List shelves</li> <li><code>POST /api/shelves</code> - Create a shelf</li> <li><code>GET /api/shelves/{id}</code> - Get shelf details</li> <li><code>PATCH /api/shelves/{id}</code> - Update a shelf</li> <li><code>DELETE /api/shelves/{id}</code> - Delete a shelf</li> </ul>"},{"location":"api/overview/#authentication_1","title":"Authentication","text":"<ul> <li><code>POST /api/auth/register</code> - Register a new user</li> <li><code>POST /api/auth/login</code> - Login and get JWT token</li> <li><code>GET /api/auth/me</code> - Get current user info</li> </ul>"},{"location":"api/overview/#response-format","title":"Response Format","text":""},{"location":"api/overview/#success-response","title":"Success Response","text":"<pre><code>{\n  \"id\": 1,\n  \"title\": \"Example Book\",\n  \"author\": \"Example Author\"\n}\n</code></pre>"},{"location":"api/overview/#error-response","title":"Error Response","text":"<pre><code>{\n  \"detail\": \"Error message describing what went wrong\"\n}\n</code></pre>"},{"location":"api/overview/#rate-limiting","title":"Rate Limiting","text":"<p>Currently, there are no rate limits on the API. This may change in future versions.</p>"},{"location":"api/overview/#versioning","title":"Versioning","text":"<p>API versioning is handled through the OpenAPI schema. Check the <code>/openapi.json</code> endpoint for the current API version and available endpoints.</p>"},{"location":"api/reference/","title":"API Reference","text":""},{"location":"api/reference/#api-reference","title":"API Reference","text":"<p>This page provides interactive API documentation generated from the FastAPI OpenAPI schema.</p> <p></p>"},{"location":"api/reference/#endpoint-categories","title":"Endpoint Categories","text":"<p>The API is organized into the following categories:</p> <ul> <li>Authentication (<code>/api/auth/*</code>) - User registration, login, and session management</li> <li>Books (<code>/api/books/*</code>) - Book management, search, and retrieval</li> <li>Shelves (<code>/api/shelves/*</code>) - Shelf creation and book organization</li> <li>Authors (<code>/api/authors/*</code>) - Author information and metadata</li> <li>Libraries (<code>/api/libraries/*</code>) - Library configuration and management</li> <li>Admin (<code>/api/admin/*</code>) - Administrative operations</li> </ul>"},{"location":"api/reference/#interactive-testing","title":"Interactive Testing","text":"<p>Use the Swagger UI above to: - Browse all available endpoints - View request/response schemas - Test API calls directly from the browser - See example requests and responses</p>"},{"location":"api/reference/#openapi-schema","title":"OpenAPI Schema","text":"<p>The complete OpenAPI schema is available at: - <code>/openapi.json</code> - JSON schema - <code>/docs</code> - Swagger UI (when application is running)</p>"},{"location":"auth/","title":"Authentication","text":""},{"location":"auth/#authentication","title":"Authentication","text":"<p>Bookcard supports two authentication modes:</p> <ol> <li>Local JWT (default): Username/password managed by the application</li> <li>OIDC (SSO) (optional): Enterprise authentication via any OpenID Connect provider</li> </ol>"},{"location":"auth/#local-jwt-authentication","title":"Local JWT Authentication","text":"<p>Default mode - no configuration needed.</p> <ul> <li>Users register and login with username/password</li> <li>JWT tokens issued by the application</li> <li>Enabled when <code>OIDC_ENABLED=false</code> or unset</li> </ul> <p>Default Admin User (created on first startup): - Username: <code>admin</code> (or <code>ADMIN_USERNAME</code>) - Email: <code>admin@example.com</code> (or <code>ADMIN_EMAIL</code>) - Password: <code>admin123</code> (or <code>ADMIN_PASSWORD</code>)</p>"},{"location":"auth/#oidc-sso-integration","title":"OIDC (SSO) Integration","text":"<p>Your OIDC provider handles identity (authentication, user management). The application handles authorization (roles, permissions, RBAC).</p>"},{"location":"auth/#quick-setup","title":"Quick Setup","text":"<ol> <li>Create an OIDC client/application in your provider:</li> <li>Client ID: <code>bookcard-client</code> (example)</li> <li>Client type: confidential (if you want to use a client secret)</li> <li>Valid Redirect URI: <code>http://localhost:3000/api/auth/oidc/callback</code></li> <li> <p>Web Origin: <code>http://localhost:3000</code></p> </li> <li> <p>Set Environment Variables:    </p><pre><code>OIDC_ENABLED=true\nOIDC_ISSUER=https://your-issuer.example.com/\nOIDC_CLIENT_ID=bookcard-client\nOIDC_CLIENT_SECRET=&lt;client-secret&gt;\nOIDC_SCOPES=\"openid profile email\"\n</code></pre><p></p> </li> <li> <p>Create users in your provider, or connect your provider to LDAP/AD as needed.</p> </li> <li> <p>Restart Application: <code>docker compose restart bookcard</code></p> </li> </ol> <p>First User: The first SSO user to log in automatically receives admin privileges.</p>"},{"location":"auth/#required-client-settings","title":"Required Client Settings","text":"<ul> <li>Protocol: <code>openid-connect</code></li> <li>Redirect URI: <code>http://localhost:3000/api/auth/oidc/callback</code> (adjust for your domain)</li> <li>Web Origins: Your frontend URL</li> </ul>"},{"location":"auth/#environment-variables","title":"Environment Variables","text":"<p>Required: - <code>OIDC_ENABLED=true</code> - <code>OIDC_ISSUER</code> - OIDC issuer URL - <code>OIDC_CLIENT_ID</code> - Client ID from your provider - <code>OIDC_CLIENT_SECRET</code> - Client secret from your provider (if applicable)</p> <p>Optional: - <code>OIDC_SCOPES</code> - Defaults to <code>openid profile email</code></p>"},{"location":"auth/#roles-and-permissions","title":"Roles and Permissions","text":"<p>Important: Roles and permissions are managed locally in the application, not in the OIDC provider.</p> <ul> <li>OIDC provider: Identity (authentication, user management)</li> <li>Application: Authorization (roles, permissions, RBAC)</li> </ul> <p>Workflow: 1. User authenticates via OIDC 2. Application creates/links local user record 3. Admin assigns roles via application's admin interface 4. Permissions checked against local RBAC system</p> <p>This separation enables fine-grained permissions (e.g., <code>books:read</code>, <code>shelves:delete</code>) and conditional permissions independent of the identity provider.</p>"},{"location":"developers/architecture/","title":"Architecture","text":""},{"location":"developers/architecture/#architecture","title":"Architecture","text":"<p>This document describes the architecture of Bookcard.</p>"},{"location":"developers/architecture/#overview","title":"Overview","text":"<p>Bookcard is built with a modern, layered architecture:</p> <ul> <li>Frontend: Next.js React application</li> <li>Backend: FastAPI Python application</li> <li>Database: PostgreSQL (or SQLite for development)</li> <li>Task Queue: Redis + Dramatiq for background jobs</li> </ul>"},{"location":"developers/architecture/#system-architecture","title":"System Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Browser   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Next.js    \u2502 \u25c4\u2500\u2500\u2500 Frontend (React/TypeScript)\n\u2502  Frontend   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 HTTP/REST\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   FastAPI   \u2502 \u25c4\u2500\u2500\u2500 Backend (Python)\n\u2502   Backend   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u251c\u2500\u2500\u25ba PostgreSQL/SQLite\n       \u251c\u2500\u2500\u25ba Redis (tasks)\n       \u2514\u2500\u2500\u25ba Calibre Library (filesystem)\n</code></pre>"},{"location":"developers/architecture/#backend-architecture","title":"Backend Architecture","text":""},{"location":"developers/architecture/#layers","title":"Layers","text":"<ol> <li> <p>API Layer (<code>bookcard/api/</code>)</p> <ul> <li>Route handlers</li> <li>Request/response validation</li> <li>Authentication/authorization</li> </ul> </li> <li> <p>Service Layer (<code>bookcard/services/</code>)</p> <ul> <li>Business logic</li> <li>Orchestration</li> <li>Transaction management</li> </ul> </li> <li> <p>Repository Layer (<code>bookcard/repositories/</code>)</p> <ul> <li>Data access</li> <li>Database queries</li> <li>File operations</li> </ul> </li> <li> <p>Model Layer (<code>bookcard/models/</code>)</p> <ul> <li>SQLModel database models</li> <li>Pydantic schemas</li> <li>Domain entities</li> </ul> </li> </ol>"},{"location":"developers/architecture/#key-principles","title":"Key Principles","text":"<ul> <li>Dependency Injection: Services and repositories injected via FastAPI dependencies</li> <li>Separation of Concerns: Clear boundaries between layers</li> <li>SOLID Principles: Single responsibility, dependency inversion</li> <li>IOC (Inversion of Control): Dependencies provided, not created</li> </ul>"},{"location":"developers/architecture/#frontend-architecture","title":"Frontend Architecture","text":"<ul> <li>Next.js App Router: Modern React framework</li> <li>Server Components: For data fetching and SEO</li> <li>Client Components: For interactivity</li> <li>API Routes: Proxy to backend API</li> </ul>"},{"location":"developers/architecture/#data-flow","title":"Data Flow","text":"<ol> <li>User action in browser</li> <li>Frontend makes API request</li> <li>FastAPI route handler receives request</li> <li>Service layer processes business logic</li> <li>Repository layer accesses data</li> <li>Response flows back through layers</li> </ol>"},{"location":"developers/architecture/#background-tasks","title":"Background Tasks","text":"<p>Long-running operations (library scanning, conversions) use:</p> <ul> <li>Dramatiq: Task queue library</li> <li>Redis: Message broker</li> <li>Workers: Separate processes for task execution</li> </ul>"},{"location":"developers/architecture/#security","title":"Security","text":"<ul> <li>JWT Authentication: Stateless token-based auth</li> <li>OIDC Support: Enterprise SSO integration</li> <li>RBAC: Role-based access control</li> <li>Input Validation: Pydantic schemas for all inputs</li> </ul>"},{"location":"developers/code-style/","title":"Code Style Guidelines","text":""},{"location":"developers/code-style/#code-style-guidelines","title":"Code Style Guidelines","text":""},{"location":"developers/code-style/#python","title":"Python","text":""},{"location":"developers/code-style/#pep-8-compliance","title":"PEP 8 Compliance","text":"<p>Follow PEP 8 style guidelines for Python code.</p> <p>Key points: - Use 4 spaces for indentation (no tabs) - Maximum line length: 88 characters (Black default) - Use meaningful variable and function names - Import statements should be organized (standard library, third-party, local)</p> <p>Example:</p> <pre><code>from typing import Optional\n\nfrom fastapi import APIRouter, Depends, HTTPException\n\nfrom bookcard.models.core import Book\nfrom bookcard.repositories.book_repository import BookRepository\n\n\ndef get_book_by_id(\n    book_id: int,\n    repository: BookRepository = Depends(),\n) -&gt; Optional[Book]:\n    \"\"\"\n    Retrieve a book by its ID.\n\n    Parameters\n    ----------\n    book_id : int\n        The unique identifier of the book.\n    repository : BookRepository, optional\n        The book repository instance, by default Depends().\n\n    Returns\n    -------\n    Optional[Book]\n        The book if found, None otherwise.\n    \"\"\"\n    return repository.get_by_id(book_id)\n</code></pre>"},{"location":"developers/code-style/#docstrings","title":"Docstrings","text":"<p>Use numpy-style docstrings for all public methods and classes.</p> <p>Example:</p> <pre><code>class BookService:\n    \"\"\"\n    Service for managing book operations.\n\n    This service provides high-level operations for book management,\n    including creation, retrieval, and updates.\n    \"\"\"\n\n    def create_book(\n        self,\n        title: str,\n        author: str,\n        isbn: Optional[str] = None,\n    ) -&gt; Book:\n        \"\"\"\n        Create a new book record.\n\n        Parameters\n        ----------\n        title : str\n            The title of the book.\n        author : str\n            The author of the book.\n        isbn : Optional[str], optional\n            The ISBN of the book, by default None.\n\n        Returns\n        -------\n        Book\n            The newly created book instance.\n\n        Raises\n        ------\n        ValueError\n            If title or author is empty.\n        \"\"\"\n        if not title or not author:\n            raise ValueError(\"Title and author are required\")\n        # ... implementation\n</code></pre>"},{"location":"developers/code-style/#type-hints","title":"Type Hints","text":"<p>Type hints are required for all public APIs.</p> <p>Example:</p> <pre><code>from typing import List, Optional, Dict, Any\n\ndef process_books(\n    books: List[Book],\n    filters: Optional[Dict[str, Any]] = None,\n) -&gt; List[Book]:\n    \"\"\"\n    Process a list of books with optional filters.\n\n    Parameters\n    ----------\n    books : List[Book]\n        List of books to process.\n    filters : Optional[Dict[str, Any]], optional\n        Optional filters to apply, by default None.\n\n    Returns\n    -------\n    List[Book]\n        Processed list of books.\n    \"\"\"\n    # ... implementation\n</code></pre>"},{"location":"developers/code-style/#exception-handling","title":"Exception Handling","text":"<ul> <li>Do not catch blind exceptions</li> <li>Always analyze underlying calls for specific exceptions</li> <li>Use <code>contextlib.suppress</code> for <code>try...except...pass</code> patterns</li> </ul> <p>Example:</p> <pre><code>from contextlib import suppress\nimport os\n\n# Good: Using suppress for specific exceptions\nwith suppress(FileNotFoundError):\n    os.remove(\"temp_file.txt\")\n\n# Good: Catching specific exceptions\ntry:\n    result = risky_operation()\nexcept ValueError as e:\n    logger.error(f\"Invalid value: {e}\")\n    raise\nexcept KeyError as e:\n    logger.error(f\"Missing key: {e}\")\n    raise\n\n# Bad: Catching all exceptions\ntry:\n    result = risky_operation()\nexcept:  # noqa: E722\n    pass\n</code></pre>"},{"location":"developers/code-style/#code-formatting","title":"Code Formatting","text":"<p>Run <code>ruff</code> for linting and formatting:</p> <pre><code>make formatpy  # Format Python code\n</code></pre>"},{"location":"developers/code-style/#typescriptjavascript","title":"TypeScript/JavaScript","text":""},{"location":"developers/code-style/#general-guidelines","title":"General Guidelines","text":"<ul> <li>Follow project ESLint rules</li> <li>Use TypeScript for new code</li> <li>Prefer functional components in React</li> <li>Use meaningful variable and function names</li> </ul> <p>Example:</p> <pre><code>interface Book {\n  id: number;\n  title: string;\n  author: string;\n  isbn?: string;\n}\n\nasync function fetchBookById(id: number): Promise&lt;Book | null&gt; {\n  try {\n    const response = await fetch(`/api/books/${id}`);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch book: ${response.statusText}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error fetching book:\", error);\n    return null;\n  }\n}\n</code></pre>"},{"location":"developers/code-style/#react-components","title":"React Components","text":"<p>Example:</p> <pre><code>import { useState, useEffect } from \"react\";\n\ninterface BookCardProps {\n  book: Book;\n  onSelect?: (book: Book) =&gt; void;\n}\n\nexport function BookCard({ book, onSelect }: BookCardProps) {\n  const [isSelected, setIsSelected] = useState(false);\n\n  useEffect(() =&gt; {\n    // Component initialization logic\n  }, []);\n\n  const handleClick = () =&gt; {\n    setIsSelected(!isSelected);\n    onSelect?.(book);\n  };\n\n  return (\n    &lt;div onClick={handleClick} className={isSelected ? \"selected\" : \"\"}&gt;\n      &lt;h3&gt;{book.title}&lt;/h3&gt;\n      &lt;p&gt;{book.author}&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"developers/code-style/#code-formatting_1","title":"Code Formatting","text":"<p>Run linting and formatting:</p> <pre><code>make formatjs  # Format JS/TS code\n</code></pre> <p>Or manually in the <code>web/</code> directory:</p> <pre><code>cd web\nnpm run lint:fix\nnpm run check:types\n</code></pre>"},{"location":"developers/code-style/#design-principles","title":"Design Principles","text":"<p>When implementing new methods, always adhere to:</p> <ul> <li>DRY (Don't Repeat Yourself): Avoid code duplication</li> <li>SRP (Single Responsibility Principle): Each function/class should have one responsibility</li> <li>SOC (Separation of Concerns): Separate different aspects of the application</li> <li>IOC (Inversion of Control): Use dependency injection</li> <li>KISS (Keep It Simple, Stupid): Prefer simple solutions over complex ones</li> </ul>"},{"location":"developers/setup/","title":"Development Setup","text":""},{"location":"developers/setup/#development-setup","title":"Development Setup","text":""},{"location":"developers/setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+</li> <li>Node.js 22+ (compatible with 22.x, see <code>.nvmrc</code> / <code>.node-version</code>)</li> <li>Docker and Docker Compose (optional)</li> <li>uv (Python package manager)</li> </ul>"},{"location":"developers/setup/#initial-setup","title":"Initial Setup","text":"<ol> <li> <p>Clone the repository</p> <pre><code>git clone https://github.com/bookcard-io/bookcard.git\ncd bookcard\n</code></pre> </li> <li> <p>Install dependencies</p> <pre><code># Install uv if not already installed\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Create virtual environment and install dependencies\nuv venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\nuv sync --group dev\n</code></pre> </li> <li> <p>Set up frontend</p> <pre><code># Ensure you are using the pinned Node version\nnvm install\nnvm use\n\n# (Optional) Enable Corepack (helps when using packageManager tooling)\ncorepack enable || true\n\ncd web\nnpm ci\ncd ..\n</code></pre> </li> <li> <p>Configure environment</p> <p>Create a <code>.env</code> file:</p> <pre><code>BOOKCARD_JWT_SECRET=dev-secret-key\nADMIN_USERNAME=admin\nADMIN_EMAIL=admin@example.com\nADMIN_PASSWORD=admin123\n</code></pre> </li> <li> <p>Start development servers</p> <pre><code>make dev\n</code></pre> </li> </ol> <p>This starts both the FastAPI backend (port 8000) and Next.js frontend (port 3000).</p>"},{"location":"developers/workflow/","title":"Developer Workflow","text":""},{"location":"developers/workflow/#developer-workflow","title":"Developer Workflow","text":""},{"location":"developers/workflow/#too-long-didnt-read","title":"Too Long; Didn't Read","text":"<p>Contributing is easy.</p> <ol> <li>Start the server: <code>make dev</code> -&gt; go to <code>http://localhost:3000</code></li> <li>Make changes</li> <li>Run tests: <code>make test</code></li> <li>Run lints: <code>make format</code></li> </ol> <p>That's it.</p> <p>Quick Start:</p> <ul> <li><code>make dev</code> - Start the development server</li> <li><code>make format</code> - Lint and format both Python and JavaScript/TypeScript<ul> <li><code>make formatpy</code> - Lint and format Python code</li> <li><code>make formatjs</code> - Lint and format JavaScript/TypeScript code</li> </ul> </li> <li><code>make test</code> - Run all unit tests<ul> <li><code>make testpy</code> - Run Python unit tests</li> <li><code>make testjs</code> - Run JavaScript/TypeScript unit tests</li> </ul> </li> </ul>"},{"location":"developers/workflow/#typical-development-workflow","title":"Typical Development Workflow","text":"<ol> <li> <p>Create a feature branch from <code>main</code></p> <pre><code>git checkout main\ngit pull origin main\ngit checkout -b feature/your-feature-name\n</code></pre> </li> <li> <p>Make your changes</p> <ul> <li>Write code following the code style guidelines</li> <li>Make incremental commits with clear messages</li> </ul> </li> <li> <p>Write/update tests</p> <ul> <li>Add tests for new functionality</li> <li>Update existing tests if behavior changes</li> <li>Ensure tests are comprehensive and cover edge cases</li> </ul> </li> <li> <p>Run tests</p> <pre><code>make test  # Run all tests\n# Or run specific test suites:\nmake testpy  # Python tests only\nmake testjs  # Frontend tests only\n</code></pre> </li> <li> <p>Format code</p> <pre><code>make format  # Format both Python and JavaScript/TypeScript\n# Or format individually:\nmake formatpy  # Python only\nmake formatjs  # JavaScript/TypeScript only\n</code></pre> </li> <li> <p>Submit a pull request</p> <ul> <li>Ensure all tests pass</li> <li>Update documentation if needed</li> <li>Write a clear PR description</li> <li>Reference any related issues</li> <li>Request review from maintainers</li> </ul> </li> </ol>"},{"location":"developers/workflow/#testing","title":"Testing","text":""},{"location":"developers/workflow/#python-tests","title":"Python Tests","text":"<pre><code>make testpy  # Run Python tests\n</code></pre>"},{"location":"developers/workflow/#frontend-tests","title":"Frontend Tests","text":"<pre><code>make testjs  # Run frontend tests\n</code></pre>"},{"location":"developers/workflow/#all-tests","title":"All Tests","text":"<pre><code>make test  # Run all tests\n</code></pre>"},{"location":"developers/workflow/#documentation","title":"Documentation","text":"<ul> <li>Update relevant documentation when adding features</li> <li>Follow the existing documentation structure</li> <li>Use clear, concise language</li> </ul>"},{"location":"developers/workflow/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Ensure all tests pass</li> <li>Update documentation if needed</li> <li>Write a clear PR description</li> <li>Reference any related issues</li> <li>Request review from maintainers</li> </ol>"},{"location":"developers/workflow/#questions","title":"Questions?","text":"<p>Feel free to open an issue for questions or discussions.</p>"},{"location":"developers/workflow/#frontend-dependency-workflow-important","title":"Frontend dependency workflow (important)","text":"<ul> <li>Install dependencies: use <code>npm ci</code> (reproducible; should not modify <code>web/package-lock.json</code>)</li> <li>Only use <code>npm install</code> when intentionally changing dependencies:</li> <li>If you add/update/remove deps, commit both <code>web/package.json</code> and <code>web/package-lock.json</code></li> <li>If your PR doesn't touch dependencies, your PR should not include lockfile changes</li> </ul>"},{"location":"user-guide/book-card-interface/","title":"Book Card Interface","text":""},{"location":"user-guide/book-card-interface/#book-card-interface","title":"Book Card Interface","text":"<p>The Book Card is the primary way you interact with books in your library. It provides a quick overview of the book and access to common actions.</p> <p></p>"},{"location":"user-guide/book-card-interface/#reading-status","title":"Reading Status","text":"<p>The top-right corner of the book card serves as a reading status indicator and control:</p> <ul> <li>Ribbon: A \"READ\" ribbon indicates the book has been marked as finished.</li> <li>Bookmark: A bookmark icon with a percentage shows your current reading progress (if you've started reading).</li> <li>Toggle: Hovering over this area on an unread book allows you to quickly mark it as read by clicking the bookmark icon.</li> </ul>"},{"location":"user-guide/book-card-interface/#context-menu","title":"Context Menu","text":"<p>Clicking the More options (three dots) button on a book card opens a menu with several actions:</p>"},{"location":"user-guide/book-card-interface/#book-info","title":"Book Info","text":"<p>Opens the detailed view of the book, showing metadata, description, and file information.</p>"},{"location":"user-guide/book-card-interface/#send-to","title":"Send to...","text":"<p>Allows you to send the book file to your e-reader device via email.</p> <ul> <li>Default Device: If configured, your default device appears at the top for one-click sending.</li> <li>Other Devices: Lists other configured devices from your profile.</li> <li>Send to Email: Allows manually entering an email address to send the book to.</li> </ul>"},{"location":"user-guide/book-card-interface/#move-to-library-admin","title":"Move to Library (Admin)","text":"<p>Allows administrators to move the book to a different library managed by Bookcard.</p>"},{"location":"user-guide/book-card-interface/#add-to","title":"Add to...","text":"<p>Manage the book's shelf assignments.</p> <ul> <li>Add to shelf...: Opens a dialog to select or create shelves.</li> <li>Recent Shelves: Quickly add the book to shelves you've recently used.</li> </ul>"},{"location":"user-guide/book-card-interface/#convert-format","title":"Convert Format","text":"<p>Convert the book's file format (e.g., from EPUB to AZW3). This is useful for compatibility with certain e-readers.</p>"},{"location":"user-guide/book-card-interface/#delete","title":"Delete","text":"<p>Permanently removes the book and its files from the library.</p>"},{"location":"user-guide/book-card-interface/#more","title":"More...","text":"<p>Contains advanced or less common actions:</p> <ul> <li>Strip DRM if present: triggers a background task to attempt removing DRM from the book file (requires the DeDRM plugin to be configured).</li> </ul>"},{"location":"user-guide/docker-installation/","title":"Docker Installation Guide","text":""},{"location":"user-guide/docker-installation/#docker-installation-guide","title":"Docker Installation Guide","text":"<p>Bookcard relies on Docker. If you don't have it installed:</p> <ul> <li>Windows/Mac: Install Docker Desktop.</li> <li>Linux: Follow the official installation guide for your distribution.</li> </ul>"},{"location":"user-guide/docker-installation/#ubuntu-installation-example","title":"Ubuntu Installation Example","text":"<p>For Ubuntu users, here is a quick reference (see official docs for details):</p> <pre><code># 1. Add Docker's official GPG key:\nsudo apt update\nsudo apt install ca-certificates curl\nsudo install -m 0755 -d /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod a+r /etc/apt/keyrings/docker.asc\n\n# Add the repository to Apt sources:\nsudo tee /etc/apt/sources.list.d/docker.sources &lt;&lt;EOF\nTypes: deb\nURIs: https://download.docker.com/linux/ubuntu\nSuites: $(. /etc/os-release &amp;&amp; echo \"${UBUNTU_CODENAME:-$VERSION_CODENAME}\")\nComponents: stable\nSigned-By: /etc/apt/keyrings/docker.asc\nEOF\n\nsudo apt update\n\n# 2. Install Docker packages\nsudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# 3. Verify installation\nsudo docker run hello-world\n</code></pre>"},{"location":"user-guide/docker-installation/#linux-post-installation-steps","title":"Linux Post-installation Steps","text":"<p>These optional post-installation procedures describe how to configure your Linux host machine to work better with Docker.</p>"},{"location":"user-guide/docker-installation/#manage-docker-as-a-non-root-user","title":"Manage Docker as a non-root user","text":"<p>The Docker daemon binds to a Unix socket, not a TCP port. By default it's the <code>root</code> user that owns the Unix socket, and other users can only access it using <code>sudo</code>. The Docker daemon always runs as the <code>root</code> user.</p> <p>If you don't want to preface the <code>docker</code> command with <code>sudo</code>, create a Unix group called <code>docker</code> and add users to it.</p> <p>Warning: The <code>docker</code> group grants root-level privileges to the user. For details on how this impacts security in your system, see Docker Daemon Attack Surface.</p> <p>To create the <code>docker</code> group and add your user:</p> <ol> <li> <p>Create the <code>docker</code> group.     </p><pre><code>sudo groupadd docker\n</code></pre><p></p> </li> <li> <p>Add your user to the <code>docker</code> group.     </p><pre><code>sudo usermod -aG docker $USER\n</code></pre><p></p> </li> <li> <p>Log out and log back in so that your group membership is re-evaluated.     If you're running Linux in a virtual machine, it may be necessary to restart the virtual machine for changes to take effect.     You can also run the following command to activate the changes to groups:     </p><pre><code>newgrp docker\n</code></pre><p></p> </li> <li> <p>Verify that you can run <code>docker</code> commands without <code>sudo</code>.     </p><pre><code>docker run hello-world\n</code></pre><p></p> <p>If you initially ran Docker CLI commands using <code>sudo</code> before adding your user to the <code>docker</code> group, you may see a permission error. To fix this, change ownership of the <code>~/.docker/</code> directory: </p><pre><code>sudo chown \"$USER\":\"$USER\" /home/\"$USER\"/.docker -R\nsudo chmod g+rwx \"$HOME/.docker\" -R\n</code></pre><p></p> </li> </ol>"},{"location":"user-guide/docker-installation/#configure-docker-to-start-on-boot-with-systemd","title":"Configure Docker to start on boot with systemd","text":"<p>Many modern Linux distributions use systemd to manage which services start when the system boots. On Debian and Ubuntu, the Docker service starts on boot by default.</p> <p>To automatically start Docker and containerd on boot for other Linux distributions using systemd, run the following commands:</p> <pre><code>sudo systemctl enable docker.service\nsudo systemctl enable containerd.service\n</code></pre> <p>To stop this behavior, use <code>disable</code> instead.</p> <pre><code>sudo systemctl disable docker.service\nsudo systemctl disable containerd.service\n</code></pre>"},{"location":"user-guide/fetching-metadata/","title":"Fetching Metadata","text":""},{"location":"user-guide/fetching-metadata/#fetching-metadata","title":"Fetching Metadata","text":"<p>Bookcard allows you to enrich your library by fetching high-quality metadata and covers from external providers.</p>"},{"location":"user-guide/fetching-metadata/#how-it-works","title":"How It Works","text":"<p>When editing a book, you can click the Fetch metadata button in the header. This opens a modal where you can:</p> <ol> <li>Search: Bookcard automatically searches using the book's title and author, but you can refine the query manually.</li> <li>Review Results: Results from configured providers (e.g., Google Books, Open Library) are displayed in real-time.</li> <li>Import: Click on a result to expand it. You can then selectively choose which fields to import (e.g., Title, Author, Description, Publisher, Tags, Cover) using checkboxes.</li> </ol>"},{"location":"user-guide/fetching-metadata/#providers","title":"Providers","text":"<p>Metadata providers are external services that Bookcard queries to find information about your books.</p>"},{"location":"user-guide/fetching-metadata/#managing-providers","title":"Managing Providers","text":"<p>You can configure which providers to use in your user profile settings under Metadata Providers.</p> <ul> <li>Preferred Providers: Select your favorite sources. Bookcard will prioritize results from these providers.</li> <li>Enabled/Disabled: You can enable or disable specific providers if you find their results irrelevant or if you don't have an API key (for providers that require one).</li> </ul> <p>Common supported providers include:</p> <ul> <li>Google Books: Extensive database for general books.</li> <li>Open Library: Open, editable library catalog.</li> <li>Comic Vine: Specialized for comics and graphic novels (requires API key).</li> <li>Amazon: Good for covers and commercial metadata.</li> <li>Hardcover: Community-driven book database.</li> <li>Google Scholar: Academic publications and papers.</li> <li>Douban: Popular Chinese book database.</li> <li>Lubimyczytac: Popular Polish book database.</li> </ul> <p>By tailoring your provider list, you can ensure the search results are relevant to the types of books in your library.</p>"},{"location":"user-guide/ingestion-configuration/","title":"Ingestion Configuration","text":""},{"location":"user-guide/ingestion-configuration/#ingestion-configuration","title":"Ingestion Configuration","text":"<p>This section explains how to configure automatic book ingestion. These settings control how Bookcard monitors a folder for new books and processes them into your library.</p> <p>Navigate to Settings &gt; Admin &gt; Configuration &gt; Ingestion Configuration.</p>"},{"location":"user-guide/ingestion-configuration/#basic-settings","title":"Basic Settings","text":"<ul> <li>Watch Directory: The absolute path on the server where Bookcard should look for new files. Any supported book files dropped into this folder (or its subfolders) will be automatically processed.</li> <li>Enable Ingest: Master switch to turn the automatic ingestion process on or off.</li> </ul>"},{"location":"user-guide/ingestion-configuration/#metadata-settings","title":"Metadata Settings","text":"<ul> <li>Enable Metadata Fetch: When enabled, Bookcard will attempt to fetch metadata (title, author, cover, description) from external providers for each ingested book.</li> <li>Merge Strategy: Controls how new metadata is combined with existing metadata or multiple results.         -   Merge Best: Smartly combines data, prioritizing longer descriptions and higher-resolution covers.         -   First Wins: Uses the first result found; ignores others.         -   Last Wins: Uses the last result found; overwrites previous ones.         -   Merge All: Combines all data (e.g., appends all found tags).</li> <li>Metadata Providers: Select which external services to query during ingestion (e.g., Google Books, Open Library). Deselecting providers can speed up ingestion if you don't need them.</li> </ul>"},{"location":"user-guide/ingestion-configuration/#retry-settings","title":"Retry Settings","text":"<p>These settings control how the background worker handles failures (e.g., network issues during metadata fetch).</p> <ul> <li>Max Retry Attempts: How many times to retry a failed task before giving up.</li> <li>Backoff Seconds: How long to wait between retries (increases exponentially).</li> <li>Process Timeout: Maximum time (in seconds) allowed for processing a single book before it's considered \"stuck\" and cancelled.</li> </ul>"},{"location":"user-guide/installation/","title":"Application Installation","text":""},{"location":"user-guide/installation/#application-installation","title":"Application Installation","text":"<p>Bookcard can be installed using Docker, which is the recommended method for most users.</p>"},{"location":"user-guide/installation/#prerequisites","title":"Prerequisites","text":""},{"location":"user-guide/installation/#install-docker","title":"Install Docker","text":"<p>Bookcard relies on Docker. Please ensure you have Docker installed on your system. For detailed installation instructions, see the Docker Installation Guide.</p>"},{"location":"user-guide/installation/#other-prerequisites","title":"Other Prerequisites","text":"<ul> <li>A an optional existing Calibre library (or a directory where you want to store your ebooks).  You can get started without one.</li> </ul>"},{"location":"user-guide/installation/#application-installation_1","title":"Application Installation","text":""},{"location":"user-guide/installation/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/bookcard-io/bookcard.git\ncd bookcard\n</code></pre>"},{"location":"user-guide/installation/#2-configure-environment","title":"2. Configure Environment","text":"<p>Create a <code>.env</code> file in the project root.</p> <p>The supplied <code>docker-compose.yaml</code> includes Redis and Postgres services. You can use these or point to your own instances.</p> <pre><code># Authentication\nADMIN_USERNAME=admin\nADMIN_EMAIL=admin@example.com\nADMIN_PASSWORD=your-secure-password\nBOOKCARD_JWT_SECRET=your-jwt-secret-key\n\n# Database\n# If using the included Postgres service (default):\nBOOKCARD_DATABASE_URL=postgresql+psycopg://admin:admin123@postgres:5432/bookcard\n# If using your own Postgres:\n# BOOKCARD_DATABASE_URL=postgresql+psycopg://user:password@your-postgres-host:5432/bookcard\n\n# Redis\n# If using the included Redis service (default):\nENABLE_REDIS=true\nREDIS_HOST=redis\nREDIS_PORT=6379\n# If using your own Redis:\n# REDIS_HOST=your-redis-host\n# REDIS_PORT=6379\n# REDIS_PASSWORD=your-redis-password\n</code></pre>"},{"location":"user-guide/installation/#3-start-the-application","title":"3. Start the Application","text":"<pre><code>docker compose -f infra/docker-compose.yaml up -d\n</code></pre> <p>The application will be available at: - Frontend: http://localhost:3000 - API: http://localhost:8000 - API Docs: http://localhost:8000/docs</p>"},{"location":"user-guide/installation/#4-configure-library-path","title":"4. Configure Library Path","text":"<p>Update the volume mounts in <code>infra/docker-compose.yaml</code> to point to your Calibre library and data directory. You can also optionally configure automatic ingestion and Calibre plugin support.</p> <pre><code>volumes:\n  # The location of your existing Calibre library (Required)\n  - /path/to/your/calibre/library:/books\n\n  # The location for Bookcard's internal data (Required)\n  - ~/.bookcard:/data\n\n  # Optional: Directory for automatic book ingestion\n  # Files placed here will be imported and DELETED after successful ingestion\n  - /path/to/ingest/directory:/data/books_ingest\n\n  # Optional: Calibre configuration directory\n  # Map this if you need to use Calibre plugins (e.g. DeDRM)\n  - /path/to/calibre/config:/home/appuser/.config/calibre\n</code></pre> <p>Then restart:</p> <pre><code>docker compose -f infra/docker-compose.yaml restart\n</code></pre>"},{"location":"user-guide/installation/#manual-installation","title":"Manual Installation","text":"<p>For development or manual installation, see the Developer Guide.</p>"},{"location":"user-guide/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Usage Guide - Learn how to use Bookcard</li> <li>API Documentation - Integrate with the API</li> </ul>"},{"location":"user-guide/library-configuration/","title":"Library Configuration","text":""},{"location":"user-guide/library-configuration/#library-configuration","title":"Library Configuration","text":"<p>This section explains how to manage your Calibre libraries within Bookcard. You can access these settings by navigating to Settings &gt; Admin &gt; Configuration.</p> <p></p>"},{"location":"user-guide/library-configuration/#getting-started","title":"Getting Started","text":"<p>To add a library to Bookcard, you have two options:</p> <ol> <li>Create New: Creates a new, empty Calibre library structure.</li> <li>Add Existing: Connects to an existing Calibre library. You simply need to provide the file path to the folder containing your <code>metadata.db</code> file.</li> </ol> <p>Once added, you can click the Active checkbox to make it the current library.</p>"},{"location":"user-guide/library-configuration/#library-statistics","title":"Library Statistics","text":"<p>Each library card displays quick statistics about its contents:</p> <ul> <li>Books: Total number of books.</li> <li>Series: Number of book series.</li> <li>Authors: Unique authors count.</li> <li>Tags: Number of tags.</li> <li>Ratings: Number of rated books.</li> <li>Content Size: Total disk space used by the library.</li> </ul>"},{"location":"user-guide/library-configuration/#actions","title":"Actions","text":"<ul> <li>Edit (Pencil Icon): Change the display name of the library.</li> <li>Scan: Triggers a background scan to link your books with external metadata (see Library Scanning).</li> <li>Remove: Removes the library configuration from Bookcard.     &gt; Note: Removing a library does NOT delete your books or the <code>metadata.db</code> file from your disk. It only removes the reference from Bookcard.</li> </ul>"},{"location":"user-guide/library-configuration/#duplicate-handling","title":"Duplicate Handling","text":"<p>This setting controls what happens when you upload or ingest a book that already exists in the library (matching by title and author).</p> <ul> <li>Ignore: Skips the new file. The existing book remains unchanged.</li> <li>Overwrite: Deletes the existing book (and its files) and replaces it with the new one.</li> <li>Create new: Adds the new book as a duplicate entry.</li> </ul>"},{"location":"user-guide/library-configuration/#auto-convert-on-ingest","title":"Auto-Convert on Ingest","text":"<p>These settings allow Bookcard to automatically process books as they are added to the library.</p>"},{"location":"user-guide/library-configuration/#automatically-convert-books-to-target-format","title":"Automatically convert books to target format","text":"<p>When enabled, Bookcard will attempt to convert incoming books to your preferred format (e.g., EPUB).</p> <ul> <li>Target Format: Select the format you want all books to be converted to (e.g., EPUB, MOBI, AZW3).</li> <li>Ignored Formats: Select formats that should NOT be converted. For example, you might want to convert everything to EPUB, but keep PDFs as they are.</li> <li>Create backup copies: If enabled, the original file (e.g., the <code>.mobi</code> file) will be preserved alongside the converted <code>.epub</code> file.</li> </ul>"},{"location":"user-guide/library-configuration/#automatically-enforce-metadata-and-covers","title":"Automatically enforce metadata and covers","text":"<p>When enabled, Bookcard will update the internal metadata of the ebook file (e.g., the metadata inside the EPUB) to match the metadata in your library database. This ensures that when you send the file to a device, it has the correct cover, title, and author.</p>"},{"location":"user-guide/library-configuration/#automatically-fix-epub-files","title":"Automatically fix EPUB files","text":"<p>When enabled, Bookcard runs an EPUB repair tool on incoming files. This can fix common structural errors that might prevent books from opening in some readers.</p>"},{"location":"user-guide/library-scanning/","title":"Library Scanning","text":""},{"location":"user-guide/library-scanning/#library-scanning","title":"Library Scanning","text":"<p>Library Scanning is an advanced background process in Bookcard that enriches your library by linking your local content to authoritative external databases.</p>"},{"location":"user-guide/library-scanning/#what-is-it","title":"What is it?","text":"<p>While \"Fetching Metadata\" works on a per-book basis to update title, cover, and description, Library Scanning works at a library-wide level. It focuses on establishing permanent links between your authors/books and their corresponding records in a global book database.</p>"},{"location":"user-guide/library-scanning/#data-providers","title":"Data Providers","text":"<p>Bookcard currently supports the following providers for library scanning:</p> <ul> <li>Hardcover: A privacy-focused, community-driven book database. This is the primary provider for high-quality author and series data.</li> <li>Open Library: An open, editable library catalog.</li> </ul>"},{"location":"user-guide/library-scanning/#how-to-use","title":"How to Use","text":"<ol> <li>Navigate to Settings &gt; Admin &gt; Libraries.</li> <li>Find the library you want to scan in the library list.</li> <li>Click the Scan button next to the library name.</li> </ol> <p>This will trigger the background scanning process. You can view the progress and status in the Tasks section of the admin dashboard.</p> <p>Note: Library scanning is a resource-intensive process, especially for large libraries. It runs in the background to avoid blocking the user interface.</p>"},{"location":"user-guide/library-scanning/#how-it-works","title":"How it Works","text":"<p>The scanning process runs in a pipeline with several stages:</p> <ol> <li>Crawl: The scanner reads your local library to identify authors and books.</li> <li>Match: It searches the external provider (e.g., Hardcover) to find matching records. It uses fuzzy matching algorithms to handle slight spelling variations or formatting differences (e.g., \"J.R.R. Tolkien\" vs \"J. R. R. Tolkien\").</li> <li>Link: When a confident match is found, Bookcard creates a \"linkage.\" This connects your local author ID to the external provider's Author ID (e.g., Hardcover ID).</li> <li>Enrich: Once linked, Bookcard can pull in rich metadata that might be missing from your files, such as:<ul> <li>Author birth and death dates</li> <li>Author biographies</li> <li>Complete series lists and correct reading orders</li> <li>Official book summaries</li> </ul> </li> </ol>"},{"location":"user-guide/library-scanning/#benefits","title":"Benefits","text":"<ul> <li>Unified Authors: If you have books by \"Stephen King\" and \"Steve King,\" linking them both to the same external ID allows Bookcard to treat them as the same person in certain views.</li> <li>Better Metadata: Get access to high-quality data that isn't typically stored in ebook files, like author photos and biographies.</li> <li>Future-Proofing: These links enable advanced features like reading challenges, social sharing, and recommendations based on verified book data.</li> </ul>"},{"location":"user-guide/managing-devices/","title":"Managing Devices","text":""},{"location":"user-guide/managing-devices/#managing-devices","title":"Managing Devices","text":"<p>You can manage your e-reader devices (like Kindles, Kobos, Nooks) in your user profile. This provides two key features: sending books via email and automated DRM removal.</p>"},{"location":"user-guide/managing-devices/#sending-to-email","title":"Sending to Email","text":"<p>If your device supports receiving books via email (e.g., \"Send to Kindle\"), you can add your device's email address here.</p> <ol> <li>Go to your Profile.</li> <li>Scroll down to the My Devices section.</li> <li>Click Add Device.</li> <li>Enter a name (e.g., \"My Kindle\") and the device's email address (e.g., <code>kindle_name@kindle.com</code>).</li> </ol> <p>Once added, you will see a \"Send to Device\" option when viewing book details.</p> <p>Note: An administrator must first configure the email server settings in Settings &gt; Admin &gt; Email for this feature to work.</p>"},{"location":"user-guide/managing-devices/#dedrm-integration","title":"DeDRM Integration","text":"<p>If you use the DeDRM plugin to remove DRM from your legally purchased ebooks, Bookcard can automatically sync your device serial numbers to the plugin configuration.</p>"},{"location":"user-guide/managing-devices/#how-to-use","title":"How to Use","text":"<ol> <li>When adding or editing a device in Bookcard, enter your device's Serial Number.</li> <li>Bookcard will automatically sync this serial number to the <code>dedrm.json</code> configuration file used by the backend.</li> <li>When you import a book that is locked to that device's serial number, the DeDRM plugin will use the synced configuration to unlock it automatically.</li> </ol>"},{"location":"user-guide/managing-devices/#installation-configuration","title":"Installation &amp; Configuration","text":"<p>For this to work, the DeDRM plugin must be installed and accessible:</p> <ol> <li> <p>Install Plugin: Administrators can install the plugin via Settings &gt; Admin &gt; Plugins. You can upload the plugin file directly or install from a URL. The file must be a zip file.</p> <p></p> </li> <li> <p>Configuration Path: The backend needs access to the Calibre configuration directory. This is typically configured via Docker volume mounts:</p> <ul> <li>Docker Volume: <code>/path/to/calibre/config:/home/appuser/.config/calibre</code></li> <li>File Location: The synced configuration will be stored at <code>.../plugins/dedrm.json</code>.</li> </ul> </li> </ol>"},{"location":"user-guide/screenshots/","title":"Screenshots","text":""},{"location":"user-guide/screenshots/#screenshots","title":"Screenshots","text":"<p>This gallery showcases the key features and interface of Bookcard. Click on any image to view it in full size in a lightbox.</p> <ul> <li> <p> Homepage</p> <p></p> <p>The main library view showing your book collection with search and filtering options.</p> </li> <li> <p> Book View Modal</p> <p></p> <p>Detailed view of a book with metadata, reading options, and management tools.</p> </li> <li> <p> Book Edit Modal</p> <p></p> <p>Edit book metadata, cover images, and other details.</p> </li> <li> <p> Fetch Metadata</p> <p></p> <p>Search for and import metadata from external providers like Google Books and Amazon.</p> </li> <li> <p> Users &amp; Permissions</p> <p></p> <p>Create and manage users, assign roles, and configure granular permissions.</p> </li> <li> <p> Plugin Installation</p> <p></p> <p>Install and manage Calibre plugins like DeDRM directly from the admin interface.</p> </li> <li> <p> Library Configuration</p> <p></p> <p>Manage multiple libraries, configure auto-conversion, and set duplicate handling rules.</p> </li> <li> <p> Reader Themes</p> <p></p> <p>Customize your reading experience with different themes and font settings.</p> </li> <li> <p> Search in Book</p> <p></p> <p>Search functionality within the book reader to find specific content.</p> </li> <li> <p> Search Pane (Light Theme)</p> <p></p> <p>The search pane in light mode, showing search results with context.</p> </li> <li> <p> List View (Light Theme)</p> <p></p> <p>The library list view in light mode, offering a compact and sortable table layout.</p> </li> <li> <p> Author Page</p> <p></p> <p>View all books by a specific author with detailed information.</p> </li> <li> <p> Comic Series View</p> <p></p> <p>Organized view for comic book series and collections.</p> </li> <li> <p> Comic Settings</p> <p></p> <p>Configure settings specific to comic book reading and display.</p> </li> </ul>"},{"location":"user-guide/uploading-books/","title":"Uploading Books","text":""},{"location":"user-guide/uploading-books/#uploading-books","title":"Uploading Books","text":"<p>You can upload one or multiple books directly through the Bookcard interface.</p> <ol> <li>Navigate to the library view.</li> <li>Click the Add Books button in the header.</li> <li>Drag and drop your files, or click to select them from your file system.</li> <li>Bookcard will automatically process and import valid ebook files into your library.</li> </ol>"},{"location":"user-guide/uploading-books/#supported-formats","title":"Supported Formats","text":"<p>Bookcard supports over 30 ebook and comic formats.</p> Format Extension Description <code>.epub</code> Electronic Publication (standard ebook format) <code>.pdf</code> Portable Document Format <code>.mobi</code> Mobipocket eBook <code>.azw3</code> Kindle Format 8 <code>.cbz</code> Comic Book Zip <code>.cbr</code> Comic Book RAR <code>.djvu</code> DjVu Image <code>.fb2</code> FictionBook 2.0 <code>.lit</code> Microsoft Reader <code>.prc</code> Mobipocket / PalmDoc <code>.odt</code> OpenDocument Text <code>.txt</code> Plain Text <code>.rtf</code> Rich Text Format <code>.html</code> / <code>.htm</code> HyperText Markup Language <code>.docx</code> / <code>.doc</code> Microsoft Word Document <code>.chm</code> Compiled HTML Help <code>.cbt</code> Comic Book TAR <code>.cb7</code> Comic Book 7-Zip <code>.pdb</code> Palm Database <code>.tcr</code> Psion Teklogix <code>.pml</code> Palm Markup Language <code>.rb</code> Rocket eBook <code>.snb</code> Shanda Bambook <code>.lrf</code> Sony Portable Reader <code>.lrx</code> Sony Portable Reader (Broadband) <code>.xps</code> Open XML Paper Specification <code>.oxps</code> Open XML Paper Specification <p>Note: If you are using the automatic ingestion folder (see Installation), these formats are also supported.</p>"},{"location":"user-guide/usage/","title":"Usage Guide","text":""},{"location":"user-guide/usage/#usage-guide","title":"Usage Guide","text":"<p>This guide covers how to use Bookcard to manage and read your ebook library.</p>"},{"location":"user-guide/usage/#first-steps","title":"First Steps","text":"<ol> <li>Login: Use the admin credentials you configured during installation</li> <li>Configure Library: Ensure your Calibre library path is correctly mounted</li> <li>Import Books: Books from your Calibre library will be automatically detected</li> </ol>"},{"location":"user-guide/usage/#reading-books","title":"Reading Books","text":""},{"location":"user-guide/usage/#web-reader","title":"Web Reader","text":"<ol> <li>Navigate to a book in your library</li> <li>Click \"Read\" to open the web reader</li> <li>Use the toolbar to:<ul> <li>Adjust font size</li> <li>Change theme (light/dark)</li> <li>Navigate pages</li> <li>Bookmark pages</li> </ul> </li> </ol>"},{"location":"user-guide/usage/#reading-progress","title":"Reading Progress","text":"<p>Your reading progress is automatically saved and synced across devices.</p>"},{"location":"user-guide/usage/#managing-your-library","title":"Managing Your Library","text":""},{"location":"user-guide/usage/#shelves","title":"Shelves","text":"<p>Create custom shelves to organize your books:</p> <ol> <li>Go to \"Shelves\" in the navigation</li> <li>Click \"Create Shelf\"</li> <li>Add books to shelves by clicking the shelf icon on any book</li> </ol>"},{"location":"user-guide/usage/#search-and-filter","title":"Search and Filter","text":"<ul> <li>Use the search bar to find books by title, author, or tags</li> <li>Apply filters for format, date added, or custom metadata</li> <li>Save search queries for quick access</li> </ul>"},{"location":"user-guide/usage/#metadata","title":"Metadata","text":"<ul> <li>Automatic metadata fetching from OpenLibrary and other sources</li> <li>Manual editing of book details</li> <li>Cover image management</li> </ul>"},{"location":"user-guide/usage/#sending-to-devices","title":"Sending to Devices","text":""},{"location":"user-guide/usage/#kobo-devices","title":"Kobo Devices","text":"<ol> <li>Configure your Kobo device email in settings</li> <li>Select books and click \"Send to Device\"</li> <li>Books will be converted and emailed to your device</li> </ol>"},{"location":"user-guide/usage/#tips","title":"Tips","text":"<ul> <li>Use tags to organize books by genre, reading status, etc.</li> <li>Create reading lists with shelves</li> <li>Export your library data for backup</li> <li>Use the API for automation (see API Documentation)</li> </ul>"},{"location":"user-guide/users-and-permissions/","title":"Users &amp; Permissions","text":""},{"location":"user-guide/users-and-permissions/#users-permissions","title":"Users &amp; Permissions","text":"<p>Bookcard includes a robust role-based access control (RBAC) system. Administrators can manage users, assign roles, and configure granular permissions.</p> <p></p>"},{"location":"user-guide/users-and-permissions/#managing-users","title":"Managing Users","text":"<p>To manage users, navigate to Settings &gt; Admin &gt; Users &amp; Permissions.</p>"},{"location":"user-guide/users-and-permissions/#creating-a-user","title":"Creating a User","text":"<ol> <li>Click the Create User button.</li> <li>Fill in the required fields:<ul> <li>Username: Unique identifier for logging in.</li> <li>Email: User's email address.</li> <li>Password: Initial password (must be at least 8 characters).</li> <li>Roles: Assign one or more roles (e.g., \"user\", \"admin\").</li> </ul> </li> <li>Optionally, you can set:<ul> <li>Full Name: Display name.</li> <li>Device Email: Default email for \"Send to Kindle\" functionality.</li> <li>Administrator: Check this to grant full system access (bypasses all permission checks).</li> <li>Active: Uncheck to disable the account without deleting it.</li> </ul> </li> </ol>"},{"location":"user-guide/users-and-permissions/#editing-a-user","title":"Editing a User","text":"<p>Click the Edit (pencil) icon next to any user in the list to modify their details, reset their password, or change their roles.</p>"},{"location":"user-guide/users-and-permissions/#roles-permissions","title":"Roles &amp; Permissions","text":"<p>Permissions in Bookcard are granular rights to perform specific actions (e.g., <code>books:create</code>, <code>shelves:delete</code>). These permissions are grouped into Roles, which are then assigned to Users.</p>"},{"location":"user-guide/users-and-permissions/#default-roles","title":"Default Roles","text":"<p>Bookcard comes with three default roles seeded during installation:</p> <ul> <li>Admin: Full system access. Has all permissions.</li> <li>User: Standard user. Can read books, manage their own profile, create shelves, make edits, upload, etc.</li> <li>Viewer: Read-only access. Can browse and read books but cannot modify anything.</li> </ul>"},{"location":"user-guide/users-and-permissions/#custom-roles","title":"Custom Roles","text":"<p>Admins can create custom roles with specific sets of permissions. For example, you might create a \"Librarian\" role that can edit book metadata (<code>books:write</code>) but cannot manage system settings or users (<code>users:write</code>).</p>"},{"location":"user-guide/users-and-permissions/#available-permissions","title":"Available Permissions","text":"<p>Permissions are namespaced by resource and action:</p> <p>User Management -   <code>users:create</code>: Create new users -   <code>users:read</code>: View user list and details -   <code>users:write</code>: Edit user profiles -   <code>users:delete</code>: Delete users</p> <p>Book Management -   <code>books:create</code>: Upload new books -   <code>books:read</code>: View books -   <code>books:write</code>: Edit book metadata -   <code>books:delete</code>: Delete books from the library -   <code>books:send</code>: Use \"Send to Device\" features</p> <p>Shelf Management -   <code>shelves:create</code>: Create new shelves -   <code>shelves:read</code>: View shelves -   <code>shelves:edit</code>: Edit any shelf (users can always edit their own) -   <code>shelves:delete</code>: Delete shelves</p> <p>System -   <code>system:admin</code>: Full system administration access (implies all other permissions)</p>"}]}